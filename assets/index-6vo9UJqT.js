(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var Zf={exports:{}},Zl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var By;function _A(){if(By)return Zl;By=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(s,o,c){var f=null;if(c!==void 0&&(f=""+c),o.key!==void 0&&(f=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:c}}return Zl.Fragment=t,Zl.jsx=i,Zl.jsxs=i,Zl}var qy;function vA(){return qy||(qy=1,Zf.exports=_A()),Zf.exports}var X=vA(),Wf={exports:{}},wt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hy;function EA(){if(Hy)return wt;Hy=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.iterator;function C(V){return V===null||typeof V!="object"?null:(V=S&&V[S]||V["@@iterator"],typeof V=="function"?V:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,q={};function L(V,nt,ht){this.props=V,this.context=nt,this.refs=q,this.updater=ht||I}L.prototype.isReactComponent={},L.prototype.setState=function(V,nt){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,nt,"setState")},L.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function Y(){}Y.prototype=L.prototype;function tt(V,nt,ht){this.props=V,this.context=nt,this.refs=q,this.updater=ht||I}var et=tt.prototype=new Y;et.constructor=tt,z(et,L.prototype),et.isPureReactComponent=!0;var gt=Array.isArray,ut={H:null,A:null,T:null,S:null},bt=Object.prototype.hasOwnProperty;function O(V,nt,ht,at,st,Rt){return ht=Rt.ref,{$$typeof:r,type:V,key:nt,ref:ht!==void 0?ht:null,props:Rt}}function w(V,nt){return O(V.type,nt,void 0,void 0,void 0,V.props)}function b(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function D(V){var nt={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ht){return nt[ht]})}var M=/\/+/g;function j(V,nt){return typeof V=="object"&&V!==null&&V.key!=null?D(""+V.key):nt.toString(36)}function x(){}function ye(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(x,x):(V.status="pending",V.then(function(nt){V.status==="pending"&&(V.status="fulfilled",V.value=nt)},function(nt){V.status==="pending"&&(V.status="rejected",V.reason=nt)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function he(V,nt,ht,at,st){var Rt=typeof V;(Rt==="undefined"||Rt==="boolean")&&(V=null);var St=!1;if(V===null)St=!0;else switch(Rt){case"bigint":case"string":case"number":St=!0;break;case"object":switch(V.$$typeof){case r:case t:St=!0;break;case T:return St=V._init,he(St(V._payload),nt,ht,at,st)}}if(St)return st=st(V),St=at===""?"."+j(V,0):at,gt(st)?(ht="",St!=null&&(ht=St.replace(M,"$&/")+"/"),he(st,nt,ht,"",function(ie){return ie})):st!=null&&(b(st)&&(st=w(st,ht+(st.key==null||V&&V.key===st.key?"":(""+st.key).replace(M,"$&/")+"/")+St)),nt.push(st)),1;St=0;var fe=at===""?".":at+":";if(gt(V))for(var kt=0;kt<V.length;kt++)at=V[kt],Rt=fe+j(at,kt),St+=he(at,nt,ht,Rt,st);else if(kt=C(V),typeof kt=="function")for(V=kt.call(V),kt=0;!(at=V.next()).done;)at=at.value,Rt=fe+j(at,kt++),St+=he(at,nt,ht,Rt,st);else if(Rt==="object"){if(typeof V.then=="function")return he(ye(V),nt,ht,at,st);throw nt=String(V),Error("Objects are not valid as a React child (found: "+(nt==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":nt)+"). If you meant to render a collection of children, use an array instead.")}return St}function rt(V,nt,ht){if(V==null)return V;var at=[],st=0;return he(V,at,"","",function(Rt){return nt.call(ht,Rt,st++)}),at}function _t(V){if(V._status===-1){var nt=V._result;nt=nt(),nt.then(function(ht){(V._status===0||V._status===-1)&&(V._status=1,V._result=ht)},function(ht){(V._status===0||V._status===-1)&&(V._status=2,V._result=ht)}),V._status===-1&&(V._status=0,V._result=nt)}if(V._status===1)return V._result.default;throw V._result}var mt=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var nt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(nt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function qt(){}return wt.Children={map:rt,forEach:function(V,nt,ht){rt(V,function(){nt.apply(this,arguments)},ht)},count:function(V){var nt=0;return rt(V,function(){nt++}),nt},toArray:function(V){return rt(V,function(nt){return nt})||[]},only:function(V){if(!b(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},wt.Component=L,wt.Fragment=i,wt.Profiler=o,wt.PureComponent=tt,wt.StrictMode=s,wt.Suspense=p,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ut,wt.act=function(){throw Error("act(...) is not supported in production builds of React.")},wt.cache=function(V){return function(){return V.apply(null,arguments)}},wt.cloneElement=function(V,nt,ht){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var at=z({},V.props),st=V.key,Rt=void 0;if(nt!=null)for(St in nt.ref!==void 0&&(Rt=void 0),nt.key!==void 0&&(st=""+nt.key),nt)!bt.call(nt,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&nt.ref===void 0||(at[St]=nt[St]);var St=arguments.length-2;if(St===1)at.children=ht;else if(1<St){for(var fe=Array(St),kt=0;kt<St;kt++)fe[kt]=arguments[kt+2];at.children=fe}return O(V.type,st,void 0,void 0,Rt,at)},wt.createContext=function(V){return V={$$typeof:f,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:c,_context:V},V},wt.createElement=function(V,nt,ht){var at,st={},Rt=null;if(nt!=null)for(at in nt.key!==void 0&&(Rt=""+nt.key),nt)bt.call(nt,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(st[at]=nt[at]);var St=arguments.length-2;if(St===1)st.children=ht;else if(1<St){for(var fe=Array(St),kt=0;kt<St;kt++)fe[kt]=arguments[kt+2];st.children=fe}if(V&&V.defaultProps)for(at in St=V.defaultProps,St)st[at]===void 0&&(st[at]=St[at]);return O(V,Rt,void 0,void 0,null,st)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(V){return{$$typeof:m,render:V}},wt.isValidElement=b,wt.lazy=function(V){return{$$typeof:T,_payload:{_status:-1,_result:V},_init:_t}},wt.memo=function(V,nt){return{$$typeof:y,type:V,compare:nt===void 0?null:nt}},wt.startTransition=function(V){var nt=ut.T,ht={};ut.T=ht;try{var at=V(),st=ut.S;st!==null&&st(ht,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(qt,mt)}catch(Rt){mt(Rt)}finally{ut.T=nt}},wt.unstable_useCacheRefresh=function(){return ut.H.useCacheRefresh()},wt.use=function(V){return ut.H.use(V)},wt.useActionState=function(V,nt,ht){return ut.H.useActionState(V,nt,ht)},wt.useCallback=function(V,nt){return ut.H.useCallback(V,nt)},wt.useContext=function(V){return ut.H.useContext(V)},wt.useDebugValue=function(){},wt.useDeferredValue=function(V,nt){return ut.H.useDeferredValue(V,nt)},wt.useEffect=function(V,nt){return ut.H.useEffect(V,nt)},wt.useId=function(){return ut.H.useId()},wt.useImperativeHandle=function(V,nt,ht){return ut.H.useImperativeHandle(V,nt,ht)},wt.useInsertionEffect=function(V,nt){return ut.H.useInsertionEffect(V,nt)},wt.useLayoutEffect=function(V,nt){return ut.H.useLayoutEffect(V,nt)},wt.useMemo=function(V,nt){return ut.H.useMemo(V,nt)},wt.useOptimistic=function(V,nt){return ut.H.useOptimistic(V,nt)},wt.useReducer=function(V,nt,ht){return ut.H.useReducer(V,nt,ht)},wt.useRef=function(V){return ut.H.useRef(V)},wt.useState=function(V){return ut.H.useState(V)},wt.useSyncExternalStore=function(V,nt,ht){return ut.H.useSyncExternalStore(V,nt,ht)},wt.useTransition=function(){return ut.H.useTransition()},wt.version="19.0.0",wt}var Fy;function Qd(){return Fy||(Fy=1,Wf.exports=EA()),Wf.exports}var G=Qd(),Jf={exports:{}},Wl={},td={exports:{}},ed={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gy;function TA(){return Gy||(Gy=1,function(r){function t(rt,_t){var mt=rt.length;rt.push(_t);t:for(;0<mt;){var qt=mt-1>>>1,V=rt[qt];if(0<o(V,_t))rt[qt]=_t,rt[mt]=V,mt=qt;else break t}}function i(rt){return rt.length===0?null:rt[0]}function s(rt){if(rt.length===0)return null;var _t=rt[0],mt=rt.pop();if(mt!==_t){rt[0]=mt;t:for(var qt=0,V=rt.length,nt=V>>>1;qt<nt;){var ht=2*(qt+1)-1,at=rt[ht],st=ht+1,Rt=rt[st];if(0>o(at,mt))st<V&&0>o(Rt,at)?(rt[qt]=Rt,rt[st]=mt,qt=st):(rt[qt]=at,rt[ht]=mt,qt=ht);else if(st<V&&0>o(Rt,mt))rt[qt]=Rt,rt[st]=mt,qt=st;else break t}}return _t}function o(rt,_t){var mt=rt.sortIndex-_t.sortIndex;return mt!==0?mt:rt.id-_t.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],y=[],T=1,S=null,C=3,I=!1,z=!1,q=!1,L=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,tt=typeof setImmediate<"u"?setImmediate:null;function et(rt){for(var _t=i(y);_t!==null;){if(_t.callback===null)s(y);else if(_t.startTime<=rt)s(y),_t.sortIndex=_t.expirationTime,t(p,_t);else break;_t=i(y)}}function gt(rt){if(q=!1,et(rt),!z)if(i(p)!==null)z=!0,ye();else{var _t=i(y);_t!==null&&he(gt,_t.startTime-rt)}}var ut=!1,bt=-1,O=5,w=-1;function b(){return!(r.unstable_now()-w<O)}function D(){if(ut){var rt=r.unstable_now();w=rt;var _t=!0;try{t:{z=!1,q&&(q=!1,Y(bt),bt=-1),I=!0;var mt=C;try{e:{for(et(rt),S=i(p);S!==null&&!(S.expirationTime>rt&&b());){var qt=S.callback;if(typeof qt=="function"){S.callback=null,C=S.priorityLevel;var V=qt(S.expirationTime<=rt);if(rt=r.unstable_now(),typeof V=="function"){S.callback=V,et(rt),_t=!0;break e}S===i(p)&&s(p),et(rt)}else s(p);S=i(p)}if(S!==null)_t=!0;else{var nt=i(y);nt!==null&&he(gt,nt.startTime-rt),_t=!1}}break t}finally{S=null,C=mt,I=!1}_t=void 0}}finally{_t?M():ut=!1}}}var M;if(typeof tt=="function")M=function(){tt(D)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,x=j.port2;j.port1.onmessage=D,M=function(){x.postMessage(null)}}else M=function(){L(D,0)};function ye(){ut||(ut=!0,M())}function he(rt,_t){bt=L(function(){rt(r.unstable_now())},_t)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(rt){rt.callback=null},r.unstable_continueExecution=function(){z||I||(z=!0,ye())},r.unstable_forceFrameRate=function(rt){0>rt||125<rt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<rt?Math.floor(1e3/rt):5},r.unstable_getCurrentPriorityLevel=function(){return C},r.unstable_getFirstCallbackNode=function(){return i(p)},r.unstable_next=function(rt){switch(C){case 1:case 2:case 3:var _t=3;break;default:_t=C}var mt=C;C=_t;try{return rt()}finally{C=mt}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(rt,_t){switch(rt){case 1:case 2:case 3:case 4:case 5:break;default:rt=3}var mt=C;C=rt;try{return _t()}finally{C=mt}},r.unstable_scheduleCallback=function(rt,_t,mt){var qt=r.unstable_now();switch(typeof mt=="object"&&mt!==null?(mt=mt.delay,mt=typeof mt=="number"&&0<mt?qt+mt:qt):mt=qt,rt){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=mt+V,rt={id:T++,callback:_t,priorityLevel:rt,startTime:mt,expirationTime:V,sortIndex:-1},mt>qt?(rt.sortIndex=mt,t(y,rt),i(p)===null&&rt===i(y)&&(q?(Y(bt),bt=-1):q=!0,he(gt,mt-qt))):(rt.sortIndex=V,t(p,rt),z||I||(z=!0,ye())),rt},r.unstable_shouldYield=b,r.unstable_wrapCallback=function(rt){var _t=C;return function(){var mt=C;C=_t;try{return rt.apply(this,arguments)}finally{C=mt}}}}(ed)),ed}var Qy;function AA(){return Qy||(Qy=1,td.exports=TA()),td.exports}var nd={exports:{}},Fe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ky;function bA(){if(Ky)return Fe;Ky=1;var r=Qd();function t(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,y,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:p,containerInfo:y,implementation:T}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Fe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Fe.createPortal=function(p,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(p,y,null,T)},Fe.flushSync=function(p){var y=f.T,T=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=T,s.d.f()}},Fe.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Fe.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Fe.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var T=y.as,S=m(T,y.crossOrigin),C=typeof y.integrity=="string"?y.integrity:void 0,I=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:C,fetchPriority:I}):T==="script"&&s.d.X(p,{crossOrigin:S,integrity:C,fetchPriority:I,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Fe.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Fe.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,S=m(T,y.crossOrigin);s.d.L(p,T,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Fe.preloadModule=function(p,y){if(typeof p=="string")if(y){var T=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Fe.requestFormReset=function(p){s.d.r(p)},Fe.unstable_batchedUpdates=function(p,y){return p(y)},Fe.useFormState=function(p,y,T){return f.H.useFormState(p,y,T)},Fe.useFormStatus=function(){return f.H.useHostTransitionStatus()},Fe.version="19.0.0",Fe}var Yy;function SA(){if(Yy)return nd.exports;Yy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),nd.exports=bA(),nd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $y;function wA(){if($y)return Wl;$y=1;var r=AA(),t=Qd(),i=SA();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}var c=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),C=Symbol.for("react.consumer"),I=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),tt=Symbol.for("react.lazy"),et=Symbol.for("react.offscreen"),gt=Symbol.for("react.memo_cache_sentinel"),ut=Symbol.iterator;function bt(e){return e===null||typeof e!="object"?null:(e=ut&&e[ut]||e["@@iterator"],typeof e=="function"?e:null)}var O=Symbol.for("react.client.reference");function w(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===O?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case p:return"Fragment";case m:return"Portal";case T:return"Profiler";case y:return"StrictMode";case q:return"Suspense";case L:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case I:return(e.displayName||"Context")+".Provider";case C:return(e._context.displayName||"Context")+".Consumer";case z:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Y:return n=e.displayName||null,n!==null?n:w(e.type)||"Memo";case tt:n=e._payload,e=e._init;try{return w(e(n))}catch{}}return null}var b=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=Object.assign,M,j;function x(e){if(M===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);M=n&&n[1]||"",j=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+M+e+j}var ye=!1;function he(e,n){if(!e||ye)return"";ye=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(Q){var H=Q}Reflect.construct(e,[],W)}else{try{W.call()}catch(Q){H=Q}e.call(W.prototype)}}else{try{throw Error()}catch(Q){H=Q}(W=e())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(Q){if(Q&&H&&typeof Q.stack=="string")return[Q.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],E=d[1];if(v&&E){var R=v.split(`
`),U=E.split(`
`);for(h=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;h<U.length&&!U[h].includes("DetermineComponentFrameRoot");)h++;if(l===R.length||h===U.length)for(l=R.length-1,h=U.length-1;1<=l&&0<=h&&R[l]!==U[h];)h--;for(;1<=l&&0<=h;l--,h--)if(R[l]!==U[h]){if(l!==1||h!==1)do if(l--,h--,0>h||R[l]!==U[h]){var K=`
`+R[l].replace(" at new "," at ");return e.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",e.displayName)),K}while(1<=l&&0<=h);break}}}finally{ye=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?x(a):""}function rt(e){switch(e.tag){case 26:case 27:case 5:return x(e.type);case 16:return x("Lazy");case 13:return x("Suspense");case 19:return x("SuspenseList");case 0:case 15:return e=he(e.type,!1),e;case 11:return e=he(e.type.render,!1),e;case 1:return e=he(e.type,!0),e;default:return""}}function _t(e){try{var n="";do n+=rt(e),e=e.return;while(e);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function mt(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function qt(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function V(e){if(mt(e)!==e)throw Error(s(188))}function nt(e){var n=e.alternate;if(!n){if(n=mt(e),n===null)throw Error(s(188));return n!==e?null:e}for(var a=e,l=n;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return V(h),e;if(d===l)return V(h),n;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,E=h.child;E;){if(E===a){v=!0,a=h,l=d;break}if(E===l){v=!0,l=h,a=d;break}E=E.sibling}if(!v){for(E=d.child;E;){if(E===a){v=!0,a=d,l=h;break}if(E===l){v=!0,l=d,a=h;break}E=E.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:n}function ht(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=ht(e),n!==null)return n;e=e.sibling}return null}var at=Array.isArray,st=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Rt={pending:!1,data:null,method:null,action:null},St=[],fe=-1;function kt(e){return{current:e}}function ie(e){0>fe||(e.current=St[fe],St[fe]=null,fe--)}function Gt(e,n){fe++,St[fe]=e.current,e.current=n}var Ye=kt(null),gi=kt(null),_n=kt(null),Ki=kt(null);function Yi(e,n){switch(Gt(_n,n),Gt(gi,e),Gt(Ye,null),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)&&(n=n.namespaceURI)?py(n):0;break;default:if(e=e===8?n.parentNode:n,n=e.tagName,e=e.namespaceURI)e=py(e),n=yy(e,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ie(Ye),Gt(Ye,n)}function pi(){ie(Ye),ie(gi),ie(_n)}function Qs(e){e.memoizedState!==null&&Gt(Ki,e);var n=Ye.current,a=yy(n,e.type);n!==a&&(Gt(gi,e),Gt(Ye,a))}function za(e){gi.current===e&&(ie(Ye),ie(gi)),Ki.current===e&&(ie(Ki),Ql._currentValue=Rt)}var ja=Object.prototype.hasOwnProperty,$r=r.unstable_scheduleCallback,Ba=r.unstable_cancelCallback,Wc=r.unstable_shouldYield,Ks=r.unstable_requestPaint,en=r.unstable_now,Co=r.unstable_getCurrentPriorityLevel,_e=r.unstable_ImmediatePriority,Ce=r.unstable_UserBlockingPriority,yi=r.unstable_NormalPriority,Do=r.unstable_LowPriority,Ys=r.unstable_IdlePriority,Jc=r.log,Xr=r.unstable_setDisableYieldValue,$i=null,qe=null;function $s(e){if(qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot($i,e,void 0,(e.current.flags&128)===128)}catch{}}function Gn(e){if(typeof Jc=="function"&&Xr(e),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode($i,e)}catch{}}var $e=Math.clz32?Math.clz32:Io,Xs=Math.log,xo=Math.LN2;function Io(e){return e>>>=0,e===0?32:31-(Xs(e)/xo|0)|0}var Qn=128,Xi=4194304;function Pn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function vn(e,n){var a=e.pendingLanes;if(a===0)return 0;var l=0,h=e.suspendedLanes,d=e.pingedLanes,v=e.warmLanes;e=e.finishedLanes!==0;var E=a&134217727;return E!==0?(a=E&~h,a!==0?l=Pn(a):(d&=E,d!==0?l=Pn(d):e||(v=E&~v,v!==0&&(l=Pn(v))))):(E=a&~h,E!==0?l=Pn(E):d!==0?l=Pn(d):e||(v=a&~v,v!==0&&(l=Pn(v)))),l===0?0:n!==0&&n!==l&&!(n&h)&&(h=l&-l,v=n&-n,h>=v||h===32&&(v&4194176)!==0)?n:l}function Zi(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function qa(e,n){switch(e){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zs(){var e=Qn;return Qn<<=1,!(Qn&4194176)&&(Qn=128),e}function Wi(){var e=Xi;return Xi<<=1,!(Xi&62914560)&&(Xi=4194304),e}function Ha(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function oe(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Vo(e,n,a,l,h,d){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,U=e.hiddenUpdates;for(a=v&~a;0<a;){var K=31-$e(a),W=1<<K;E[K]=0,R[K]=-1;var H=U[K];if(H!==null)for(U[K]=null,K=0;K<H.length;K++){var Q=H[K];Q!==null&&(Q.lane&=-536870913)}a&=~W}l!==0&&Ji(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~n))}function Ji(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-$e(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194218}function tr(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var l=31-$e(a),h=1<<l;h&n|e[l]&n&&(e[l]|=n),a&=~h}}function No(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function Oo(){var e=st.p;return e!==0?e:(e=window.event,e===void 0?32:Uy(e.type))}function er(e,n){var a=st.p;try{return st.p=e,n()}finally{st.p=a}}var Kn=Math.random().toString(36).slice(2),De="__reactFiber$"+Kn,ve="__reactProps$"+Kn,_i="__reactContainer$"+Kn,Zr="__reactEvents$"+Kn,Fa="__reactListeners$"+Kn,Yn="__reactHandles$"+Kn,Ws="__reactResources$"+Kn,nr="__reactMarker$"+Kn;function Wr(e){delete e[De],delete e[ve],delete e[Zr],delete e[Fa],delete e[Yn]}function kn(e){var n=e[De];if(n)return n;for(var a=e.parentNode;a;){if(n=a[_i]||a[De]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=Ey(e);e!==null;){if(a=e[De])return a;e=Ey(e)}return n}e=a,a=e.parentNode}return null}function vi(e){if(e=e[De]||e[_i]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function ir(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function rr(e){var n=e[Ws];return n||(n=e[Ws]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Wt(e){e[nr]=!0}var Js=new Set,Ga={};function un(e,n){nn(e,n),nn(e+"Capture",n)}function nn(e,n){for(Ga[e]=n,e=0;e<n.length;e++)Js.add(n[e])}var cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),th=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tl={},el={};function Mo(e){return ja.call(el,e)?!0:ja.call(tl,e)?!1:th.test(e)?el[e]=!0:(tl[e]=!0,!1)}function ar(e,n,a){if(Mo(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function sr(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function En(e,n,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+l)}}function Xe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Uo(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function eh(e){var n=Uo(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),l=""+e[n];if(!e.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(e,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Jr(e){e._valueTracker||(e._valueTracker=eh(e))}function nl(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return e&&(l=Uo(e)?e.checked?"true":"false":e.value),e=l,e!==a?(n.setValue(e),!0):!1}function Qa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ei=/[\n"\\]/g;function re(e){return e.replace(Ei,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function lr(e,n,a,l,h,d,v,E){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),n!=null?v==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Xe(n)):e.value!==""+Xe(n)&&(e.value=""+Xe(n)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),n!=null?Ka(e,v,Xe(n)):a!=null?Ka(e,v,Xe(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Xe(E):e.removeAttribute("name")}function ta(e,n,a,l,h,d,v,E){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),n!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||n!=null))return;a=a!=null?""+Xe(a):"",n=n!=null?""+Xe(n):a,E||n===e.value||(e.value=n),e.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=E?e.checked:!!l,e.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function Ka(e,n,a){n==="number"&&Qa(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function zt(e,n,a,l){if(e=e.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=n.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Xe(a),n=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function ea(e,n,a){if(n!=null&&(n=""+Xe(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+Xe(a):""}function or(e,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(at(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Xe(n),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function Tn(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var nh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function il(e,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,a):typeof a!="number"||a===0||nh.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function Lo(e,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&a[h]!==l&&il(e,h,l)}else for(var d in n)n.hasOwnProperty(d)&&il(e,d,n[d])}function rl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ih=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),rh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $n(e){return rh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var An=null;function Ya(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ti=null,Ai=null;function bi(e){var n=vi(e);if(n&&(e=n.stateNode)){var a=e[ve]||null;t:switch(e=n.stateNode,n.type){case"input":if(lr(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+re(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==e&&l.form===e.form){var h=l[ve]||null;if(!h)throw Error(s(90));lr(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===e.form&&nl(l)}break t;case"textarea":ea(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&zt(e,!!a.multiple,n,!1)}}}var al=!1;function Po(e,n,a){if(al)return e(n,a);al=!0;try{var l=e(n);return l}finally{if(al=!1,(Ti!==null||Ai!==null)&&(Du(),Ti&&(n=Ti,e=Ai,Ai=Ti=null,bi(n),e)))for(n=0;n<e.length;n++)bi(e[n])}}function na(e,n){var a=e.stateNode;if(a===null)return null;var l=a[ve]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var bn=!1;if(cn)try{var ia={};Object.defineProperty(ia,"passive",{get:function(){bn=!0}}),window.addEventListener("test",ia,ia),window.removeEventListener("test",ia,ia)}catch{bn=!1}var Xn=null,ur=null,Si=null;function sl(){if(Si)return Si;var e,n=ur,a=n.length,l,h="value"in Xn?Xn.value:Xn.textContent,d=h.length;for(e=0;e<a&&n[e]===h[e];e++);var v=a-e;for(l=1;l<=v&&n[a-l]===h[d-l];l++);return Si=h.slice(e,1<l?1-l:void 0)}function Zn(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Wn(){return!0}function ll(){return!1}function xe(e){function n(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(d):d[E]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Wn:ll,this.isPropagationStopped=ll,this}return D(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Wn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Wn)},persist:function(){},isPersistent:Wn}),n}var Ht={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$a=xe(Ht),ra=D({},Ht,{view:0,detail:0}),ko=xe(ra),Xa,Za,Jn,aa=D({},ra,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Jn&&(Jn&&e.type==="mousemove"?(Xa=e.screenX-Jn.screenX,Za=e.screenY-Jn.screenY):Za=Xa=0,Jn=e),Xa)},movementY:function(e){return"movementY"in e?e.movementY:Za}}),Sn=xe(aa),zo=D({},aa,{dataTransfer:0}),ah=xe(zo),sa=D({},ra,{relatedTarget:0}),Wa=xe(sa),ol=D({},Ht,{animationName:0,elapsedTime:0,pseudoElement:0}),Ja=xe(ol),jo=D({},Ht,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ts=xe(jo),sh=D({},Ht,{data:0}),ul=xe(sh),la={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cl(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=qo[e])?!!n[e]:!1}function oa(){return cl}var Ho=D({},ra,{key:function(e){if(e.key){var n=la[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Zn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Bo[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oa,charCode:function(e){return e.type==="keypress"?Zn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),es=xe(Ho),Fo=D({},aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hl=xe(Fo),wi=D({},ra,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oa}),Go=xe(wi),Qo=D({},Ht,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ko=xe(Qo),Yo=D({},aa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ns=xe(Yo),Ze=D({},Ht,{newState:0,oldState:0}),$o=xe(Ze),Xo=[9,13,27,32],ti=cn&&"CompositionEvent"in window,u=null;cn&&"documentMode"in document&&(u=document.documentMode);var g=cn&&"TextEvent"in window&&!u,_=cn&&(!ti||u&&8<u&&11>=u),A=" ",k=!1;function F(e,n){switch(e){case"keyup":return Xo.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function it(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ot=!1;function Ee(e,n){switch(e){case"compositionend":return it(n);case"keypress":return n.which!==32?null:(k=!0,A);case"textInput":return e=n.data,e===A&&k?null:e;default:return null}}function Mt(e,n){if(Ot)return e==="compositionend"||!ti&&F(e,n)?(e=sl(),Si=ur=Xn=null,Ot=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return _&&n.locale!=="ko"?null:n.data;default:return null}}var Ie={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Te(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Ie[e.type]:n==="textarea"}function Ri(e,n,a,l){Ti?Ai?Ai.push(l):Ai=[l]:Ti=l,n=Ou(n,"onChange"),0<n.length&&(a=new $a("onChange","change",null,a,l),e.push({event:a,listeners:n}))}var Ue=null,ei=null;function fl(e){hy(e,0)}function Zo(e){var n=ir(e);if(nl(n))return e}function jm(e,n){if(e==="change")return n}var Bm=!1;if(cn){var lh;if(cn){var oh="oninput"in document;if(!oh){var qm=document.createElement("div");qm.setAttribute("oninput","return;"),oh=typeof qm.oninput=="function"}lh=oh}else lh=!1;Bm=lh&&(!document.documentMode||9<document.documentMode)}function Hm(){Ue&&(Ue.detachEvent("onpropertychange",Fm),ei=Ue=null)}function Fm(e){if(e.propertyName==="value"&&Zo(ei)){var n=[];Ri(n,ei,e,Ya(e)),Po(fl,n)}}function YE(e,n,a){e==="focusin"?(Hm(),Ue=n,ei=a,Ue.attachEvent("onpropertychange",Fm)):e==="focusout"&&Hm()}function $E(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Zo(ei)}function XE(e,n){if(e==="click")return Zo(n)}function ZE(e,n){if(e==="input"||e==="change")return Zo(n)}function WE(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var hn=typeof Object.is=="function"?Object.is:WE;function dl(e,n){if(hn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ja.call(n,h)||!hn(e[h],n[h]))return!1}return!0}function Gm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Qm(e,n){var a=Gm(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=n&&l>=n)return{node:a,offset:n-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Gm(a)}}function Km(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Km(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Ym(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Qa(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=Qa(e.document)}return n}function uh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function JE(e,n){var a=Ym(n);n=e.focusedElem;var l=e.selectionRange;if(a!==n&&n&&n.ownerDocument&&Km(n.ownerDocument.documentElement,n)){if(l!==null&&uh(n)){if(e=l.start,a=l.end,a===void 0&&(a=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(a,n.value.length);else if(a=(e=n.ownerDocument||document)&&e.defaultView||window,a.getSelection){a=a.getSelection();var h=n.textContent.length,d=Math.min(l.start,h);l=l.end===void 0?d:Math.min(l.end,h),!a.extend&&d>l&&(h=l,l=d,d=h),h=Qm(n,d);var v=Qm(n,l);h&&v&&(a.rangeCount!==1||a.anchorNode!==h.node||a.anchorOffset!==h.offset||a.focusNode!==v.node||a.focusOffset!==v.offset)&&(e=e.createRange(),e.setStart(h.node,h.offset),a.removeAllRanges(),d>l?(a.addRange(e),a.extend(v.node,v.offset)):(e.setEnd(v.node,v.offset),a.addRange(e)))}}for(e=[],a=n;a=a.parentNode;)a.nodeType===1&&e.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)a=e[n],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var tT=cn&&"documentMode"in document&&11>=document.documentMode,is=null,ch=null,ml=null,hh=!1;function $m(e,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;hh||is==null||is!==Qa(l)||(l=is,"selectionStart"in l&&uh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ml&&dl(ml,l)||(ml=l,l=Ou(ch,"onSelect"),0<l.length&&(n=new $a("onSelect","select",null,n,a),e.push({event:n,listeners:l}),n.target=is)))}function ua(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var rs={animationend:ua("Animation","AnimationEnd"),animationiteration:ua("Animation","AnimationIteration"),animationstart:ua("Animation","AnimationStart"),transitionrun:ua("Transition","TransitionRun"),transitionstart:ua("Transition","TransitionStart"),transitioncancel:ua("Transition","TransitionCancel"),transitionend:ua("Transition","TransitionEnd")},fh={},Xm={};cn&&(Xm=document.createElement("div").style,"AnimationEvent"in window||(delete rs.animationend.animation,delete rs.animationiteration.animation,delete rs.animationstart.animation),"TransitionEvent"in window||delete rs.transitionend.transition);function ca(e){if(fh[e])return fh[e];if(!rs[e])return e;var n=rs[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in Xm)return fh[e]=n[a];return e}var Zm=ca("animationend"),Wm=ca("animationiteration"),Jm=ca("animationstart"),eT=ca("transitionrun"),nT=ca("transitionstart"),iT=ca("transitioncancel"),tg=ca("transitionend"),eg=new Map,ng="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function zn(e,n){eg.set(e,n),un(n,[e])}var wn=[],as=0,dh=0;function Wo(){for(var e=as,n=dh=as=0;n<e;){var a=wn[n];wn[n++]=null;var l=wn[n];wn[n++]=null;var h=wn[n];wn[n++]=null;var d=wn[n];if(wn[n++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&ig(a,h,d)}}function Jo(e,n,a,l){wn[as++]=e,wn[as++]=n,wn[as++]=a,wn[as++]=l,dh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function mh(e,n,a,l){return Jo(e,n,a,l),tu(e)}function cr(e,n){return Jo(e,null,null,n),tu(e)}function ig(e,n,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;h&&n!==null&&e.tag===3&&(d=e.stateNode,h=31-$e(a),d=d.hiddenUpdates,e=d[h],e===null?d[h]=[n]:e.push(n),n.lane=a|536870912)}function tu(e){if(50<zl)throw zl=0,Tf=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ss={},rg=new WeakMap;function Rn(e,n){if(typeof e=="object"&&e!==null){var a=rg.get(e);return a!==void 0?a:(n={value:e,source:n,stack:_t(n)},rg.set(e,n),n)}return{value:e,source:n,stack:_t(n)}}var ls=[],os=0,eu=null,nu=0,Cn=[],Dn=0,ha=null,Ci=1,Di="";function fa(e,n){ls[os++]=nu,ls[os++]=eu,eu=e,nu=n}function ag(e,n,a){Cn[Dn++]=Ci,Cn[Dn++]=Di,Cn[Dn++]=ha,ha=e;var l=Ci;e=Di;var h=32-$e(l)-1;l&=~(1<<h),a+=1;var d=32-$e(n)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Ci=1<<32-$e(n)+h|a<<h|l,Di=d+e}else Ci=1<<d|a<<h|l,Di=e}function gh(e){e.return!==null&&(fa(e,1),ag(e,1,0))}function ph(e){for(;e===eu;)eu=ls[--os],ls[os]=null,nu=ls[--os],ls[os]=null;for(;e===ha;)ha=Cn[--Dn],Cn[Dn]=null,Di=Cn[--Dn],Cn[Dn]=null,Ci=Cn[--Dn],Cn[Dn]=null}var We=null,Le=null,jt=!1,jn=null,ni=!1,yh=Error(s(519));function da(e){var n=Error(s(418,""));throw yl(Rn(n,e)),yh}function sg(e){var n=e.stateNode,a=e.type,l=e.memoizedProps;switch(n[De]=e,n[ve]=l,a){case"dialog":Nt("cancel",n),Nt("close",n);break;case"iframe":case"object":case"embed":Nt("load",n);break;case"video":case"audio":for(a=0;a<Bl.length;a++)Nt(Bl[a],n);break;case"source":Nt("error",n);break;case"img":case"image":case"link":Nt("error",n),Nt("load",n);break;case"details":Nt("toggle",n);break;case"input":Nt("invalid",n),ta(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Jr(n);break;case"select":Nt("invalid",n);break;case"textarea":Nt("invalid",n),or(n,l.value,l.defaultValue,l.children),Jr(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||gy(n.textContent,a)?(l.popover!=null&&(Nt("beforetoggle",n),Nt("toggle",n)),l.onScroll!=null&&Nt("scroll",n),l.onScrollEnd!=null&&Nt("scrollend",n),l.onClick!=null&&(n.onclick=Mu),n=!0):n=!1,n||da(e)}function lg(e){for(We=e.return;We;)switch(We.tag){case 3:case 27:ni=!0;return;case 5:case 13:ni=!1;return;default:We=We.return}}function gl(e){if(e!==We)return!1;if(!jt)return lg(e),jt=!0,!1;var n=!1,a;if((a=e.tag!==3&&e.tag!==27)&&((a=e.tag===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||kf(e.type,e.memoizedProps)),a=!a),a&&(n=!0),n&&Le&&da(e),lg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(n===0){Le=qn(e.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;e=e.nextSibling}Le=null}}else Le=We?qn(e.stateNode.nextSibling):null;return!0}function pl(){Le=We=null,jt=!1}function yl(e){jn===null?jn=[e]:jn.push(e)}var _l=Error(s(460)),og=Error(s(474)),_h={then:function(){}};function ug(e){return e=e.status,e==="fulfilled"||e==="rejected"}function iu(){}function cg(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(iu,iu),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,e===_l?Error(s(483)):e;default:if(typeof n.status=="string")n.then(iu,iu);else{if(e=$t,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,e===_l?Error(s(483)):e}throw vl=n,_l}}var vl=null;function hg(){if(vl===null)throw Error(s(459));var e=vl;return vl=null,e}var us=null,El=0;function ru(e){var n=El;return El+=1,us===null&&(us=[]),cg(us,e,n)}function Tl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function au(e,n){throw n.$$typeof===c?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function fg(e){var n=e._init;return n(e._payload)}function dg(e){function n(P,N){if(e){var B=P.deletions;B===null?(P.deletions=[N],P.flags|=16):B.push(N)}}function a(P,N){if(!e)return null;for(;N!==null;)n(P,N),N=N.sibling;return null}function l(P){for(var N=new Map;P!==null;)P.key!==null?N.set(P.key,P):N.set(P.index,P),P=P.sibling;return N}function h(P,N){return P=Ar(P,N),P.index=0,P.sibling=null,P}function d(P,N,B){return P.index=B,e?(B=P.alternate,B!==null?(B=B.index,B<N?(P.flags|=33554434,N):B):(P.flags|=33554434,N)):(P.flags|=1048576,N)}function v(P){return e&&P.alternate===null&&(P.flags|=33554434),P}function E(P,N,B,$){return N===null||N.tag!==6?(N=df(B,P.mode,$),N.return=P,N):(N=h(N,B),N.return=P,N)}function R(P,N,B,$){var ot=B.type;return ot===p?K(P,N,B.props.children,$,B.key):N!==null&&(N.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===tt&&fg(ot)===N.type)?(N=h(N,B.props),Tl(N,B),N.return=P,N):(N=bu(B.type,B.key,B.props,null,P.mode,$),Tl(N,B),N.return=P,N)}function U(P,N,B,$){return N===null||N.tag!==4||N.stateNode.containerInfo!==B.containerInfo||N.stateNode.implementation!==B.implementation?(N=mf(B,P.mode,$),N.return=P,N):(N=h(N,B.children||[]),N.return=P,N)}function K(P,N,B,$,ot){return N===null||N.tag!==7?(N=ba(B,P.mode,$,ot),N.return=P,N):(N=h(N,B),N.return=P,N)}function W(P,N,B){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=df(""+N,P.mode,B),N.return=P,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case f:return B=bu(N.type,N.key,N.props,null,P.mode,B),Tl(B,N),B.return=P,B;case m:return N=mf(N,P.mode,B),N.return=P,N;case tt:var $=N._init;return N=$(N._payload),W(P,N,B)}if(at(N)||bt(N))return N=ba(N,P.mode,B,null),N.return=P,N;if(typeof N.then=="function")return W(P,ru(N),B);if(N.$$typeof===I)return W(P,Eu(P,N),B);au(P,N)}return null}function H(P,N,B,$){var ot=N!==null?N.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return ot!==null?null:E(P,N,""+B,$);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case f:return B.key===ot?R(P,N,B,$):null;case m:return B.key===ot?U(P,N,B,$):null;case tt:return ot=B._init,B=ot(B._payload),H(P,N,B,$)}if(at(B)||bt(B))return ot!==null?null:K(P,N,B,$,null);if(typeof B.then=="function")return H(P,N,ru(B),$);if(B.$$typeof===I)return H(P,N,Eu(P,B),$);au(P,B)}return null}function Q(P,N,B,$,ot){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return P=P.get(B)||null,E(N,P,""+$,ot);if(typeof $=="object"&&$!==null){switch($.$$typeof){case f:return P=P.get($.key===null?B:$.key)||null,R(N,P,$,ot);case m:return P=P.get($.key===null?B:$.key)||null,U(N,P,$,ot);case tt:var Dt=$._init;return $=Dt($._payload),Q(P,N,B,$,ot)}if(at($)||bt($))return P=P.get(B)||null,K(N,P,$,ot,null);if(typeof $.then=="function")return Q(P,N,B,ru($),ot);if($.$$typeof===I)return Q(P,N,B,Eu(N,$),ot);au(N,$)}return null}function ct(P,N,B,$){for(var ot=null,Dt=null,ft=N,yt=N=0,Oe=null;ft!==null&&yt<B.length;yt++){ft.index>yt?(Oe=ft,ft=null):Oe=ft.sibling;var Bt=H(P,ft,B[yt],$);if(Bt===null){ft===null&&(ft=Oe);break}e&&ft&&Bt.alternate===null&&n(P,ft),N=d(Bt,N,yt),Dt===null?ot=Bt:Dt.sibling=Bt,Dt=Bt,ft=Oe}if(yt===B.length)return a(P,ft),jt&&fa(P,yt),ot;if(ft===null){for(;yt<B.length;yt++)ft=W(P,B[yt],$),ft!==null&&(N=d(ft,N,yt),Dt===null?ot=ft:Dt.sibling=ft,Dt=ft);return jt&&fa(P,yt),ot}for(ft=l(ft);yt<B.length;yt++)Oe=Q(ft,P,yt,B[yt],$),Oe!==null&&(e&&Oe.alternate!==null&&ft.delete(Oe.key===null?yt:Oe.key),N=d(Oe,N,yt),Dt===null?ot=Oe:Dt.sibling=Oe,Dt=Oe);return e&&ft.forEach(function(xr){return n(P,xr)}),jt&&fa(P,yt),ot}function Tt(P,N,B,$){if(B==null)throw Error(s(151));for(var ot=null,Dt=null,ft=N,yt=N=0,Oe=null,Bt=B.next();ft!==null&&!Bt.done;yt++,Bt=B.next()){ft.index>yt?(Oe=ft,ft=null):Oe=ft.sibling;var xr=H(P,ft,Bt.value,$);if(xr===null){ft===null&&(ft=Oe);break}e&&ft&&xr.alternate===null&&n(P,ft),N=d(xr,N,yt),Dt===null?ot=xr:Dt.sibling=xr,Dt=xr,ft=Oe}if(Bt.done)return a(P,ft),jt&&fa(P,yt),ot;if(ft===null){for(;!Bt.done;yt++,Bt=B.next())Bt=W(P,Bt.value,$),Bt!==null&&(N=d(Bt,N,yt),Dt===null?ot=Bt:Dt.sibling=Bt,Dt=Bt);return jt&&fa(P,yt),ot}for(ft=l(ft);!Bt.done;yt++,Bt=B.next())Bt=Q(ft,P,yt,Bt.value,$),Bt!==null&&(e&&Bt.alternate!==null&&ft.delete(Bt.key===null?yt:Bt.key),N=d(Bt,N,yt),Dt===null?ot=Bt:Dt.sibling=Bt,Dt=Bt);return e&&ft.forEach(function(yA){return n(P,yA)}),jt&&fa(P,yt),ot}function le(P,N,B,$){if(typeof B=="object"&&B!==null&&B.type===p&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case f:t:{for(var ot=B.key;N!==null;){if(N.key===ot){if(ot=B.type,ot===p){if(N.tag===7){a(P,N.sibling),$=h(N,B.props.children),$.return=P,P=$;break t}}else if(N.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===tt&&fg(ot)===N.type){a(P,N.sibling),$=h(N,B.props),Tl($,B),$.return=P,P=$;break t}a(P,N);break}else n(P,N);N=N.sibling}B.type===p?($=ba(B.props.children,P.mode,$,B.key),$.return=P,P=$):($=bu(B.type,B.key,B.props,null,P.mode,$),Tl($,B),$.return=P,P=$)}return v(P);case m:t:{for(ot=B.key;N!==null;){if(N.key===ot)if(N.tag===4&&N.stateNode.containerInfo===B.containerInfo&&N.stateNode.implementation===B.implementation){a(P,N.sibling),$=h(N,B.children||[]),$.return=P,P=$;break t}else{a(P,N);break}else n(P,N);N=N.sibling}$=mf(B,P.mode,$),$.return=P,P=$}return v(P);case tt:return ot=B._init,B=ot(B._payload),le(P,N,B,$)}if(at(B))return ct(P,N,B,$);if(bt(B)){if(ot=bt(B),typeof ot!="function")throw Error(s(150));return B=ot.call(B),Tt(P,N,B,$)}if(typeof B.then=="function")return le(P,N,ru(B),$);if(B.$$typeof===I)return le(P,N,Eu(P,B),$);au(P,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,N!==null&&N.tag===6?(a(P,N.sibling),$=h(N,B),$.return=P,P=$):(a(P,N),$=df(B,P.mode,$),$.return=P,P=$),v(P)):a(P,N)}return function(P,N,B,$){try{El=0;var ot=le(P,N,B,$);return us=null,ot}catch(ft){if(ft===_l)throw ft;var Dt=Nn(29,ft,null,P.mode);return Dt.lanes=$,Dt.return=P,Dt}finally{}}}var ma=dg(!0),mg=dg(!1),cs=kt(null),su=kt(0);function gg(e,n){e=zi,Gt(su,e),Gt(cs,n),zi=e|n.baseLanes}function vh(){Gt(su,zi),Gt(cs,cs.current)}function Eh(){zi=su.current,ie(cs),ie(su)}var xn=kt(null),ii=null;function hr(e){var n=e.alternate;Gt(Ae,Ae.current&1),Gt(xn,e),ii===null&&(n===null||cs.current!==null||n.memoizedState!==null)&&(ii=e)}function pg(e){if(e.tag===22){if(Gt(Ae,Ae.current),Gt(xn,e),ii===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(ii=e)}}else fr()}function fr(){Gt(Ae,Ae.current),Gt(xn,xn.current)}function xi(e){ie(xn),ii===e&&(ii=null),ie(Ae)}var Ae=kt(0);function lu(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var rT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},aT=r.unstable_scheduleCallback,sT=r.unstable_NormalPriority,be={$$typeof:I,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Th(){return{controller:new rT,data:new Map,refCount:0}}function Al(e){e.refCount--,e.refCount===0&&aT(sT,function(){e.controller.abort()})}var bl=null,Ah=0,hs=0,fs=null;function lT(e,n){if(bl===null){var a=bl=[];Ah=0,hs=xf(),fs={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Ah++,n.then(yg,yg),n}function yg(){if(--Ah===0&&bl!==null){fs!==null&&(fs.status="fulfilled");var e=bl;bl=null,hs=0,fs=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function oT(e,n){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var _g=b.S;b.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&lT(e,n),_g!==null&&_g(e,n)};var ga=kt(null);function bh(){var e=ga.current;return e!==null?e:$t.pooledCache}function ou(e,n){n===null?Gt(ga,ga.current):Gt(ga,n.pool)}function vg(){var e=bh();return e===null?null:{parent:be._currentValue,pool:e}}var dr=0,Ct=null,Qt=null,de=null,uu=!1,ds=!1,pa=!1,cu=0,Sl=0,ms=null,uT=0;function ue(){throw Error(s(321))}function Sh(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!hn(e[a],n[a]))return!1;return!0}function wh(e,n,a,l,h,d){return dr=d,Ct=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,b.H=e===null||e.memoizedState===null?ya:mr,pa=!1,d=a(l,h),pa=!1,ds&&(d=Tg(n,a,l,h)),Eg(e),d}function Eg(e){b.H=ri;var n=Qt!==null&&Qt.next!==null;if(dr=0,de=Qt=Ct=null,uu=!1,Sl=0,ms=null,n)throw Error(s(300));e===null||Ve||(e=e.dependencies,e!==null&&vu(e)&&(Ve=!0))}function Tg(e,n,a,l){Ct=e;var h=0;do{if(ds&&(ms=null),Sl=0,ds=!1,25<=h)throw Error(s(301));if(h+=1,de=Qt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}b.H=_a,d=n(a,l)}while(ds);return d}function cT(){var e=b.H,n=e.useState()[0];return n=typeof n.then=="function"?wl(n):n,e=e.useState()[0],(Qt!==null?Qt.memoizedState:null)!==e&&(Ct.flags|=1024),n}function Rh(){var e=cu!==0;return cu=0,e}function Ch(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function Dh(e){if(uu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}uu=!1}dr=0,de=Qt=Ct=null,ds=!1,Sl=cu=0,ms=null}function rn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return de===null?Ct.memoizedState=de=e:de=de.next=e,de}function me(){if(Qt===null){var e=Ct.alternate;e=e!==null?e.memoizedState:null}else e=Qt.next;var n=de===null?Ct.memoizedState:de.next;if(n!==null)de=n,Qt=e;else{if(e===null)throw Ct.alternate===null?Error(s(467)):Error(s(310));Qt=e,e={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},de===null?Ct.memoizedState=de=e:de=de.next=e}return de}var hu;hu=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function wl(e){var n=Sl;return Sl+=1,ms===null&&(ms=[]),e=cg(ms,e,n),n=Ct,(de===null?n.memoizedState:de.next)===null&&(n=n.alternate,b.H=n===null||n.memoizedState===null?ya:mr),e}function fu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return wl(e);if(e.$$typeof===I)return He(e)}throw Error(s(438,String(e)))}function xh(e){var n=null,a=Ct.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Ct.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=hu(),Ct.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),l=0;l<e;l++)a[l]=gt;return n.index++,a}function Ii(e,n){return typeof n=="function"?n(e):n}function du(e){var n=me();return Ih(n,Qt,e)}function Ih(e,n,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}n.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{n=h.next;var E=v=null,R=null,U=n,K=!1;do{var W=U.lane&-536870913;if(W!==U.lane?(Ut&W)===W:(dr&W)===W){var H=U.revertLane;if(H===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),W===hs&&(K=!0);else if((dr&H)===H){U=U.next,H===hs&&(K=!0);continue}else W={lane:0,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},R===null?(E=R=W,v=d):R=R.next=W,Ct.lanes|=H,br|=H;W=U.action,pa&&a(d,W),d=U.hasEagerState?U.eagerState:a(d,W)}else H={lane:W,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},R===null?(E=R=H,v=d):R=R.next=H,Ct.lanes|=W,br|=W;U=U.next}while(U!==null&&U!==n);if(R===null?v=d:R.next=E,!hn(d,e.memoizedState)&&(Ve=!0,K&&(a=fs,a!==null)))throw a;e.memoizedState=d,e.baseState=v,e.baseQueue=R,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Vh(e){var n=me(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=n.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=e(d,v.action),v=v.next;while(v!==h);hn(d,n.memoizedState)||(Ve=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),a.lastRenderedState=d}return[d,l]}function Ag(e,n,a){var l=Ct,h=me(),d=jt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=n();var v=!hn((Qt||h).memoizedState,a);if(v&&(h.memoizedState=a,Ve=!0),h=h.queue,Mh(wg.bind(null,l,h,e),[e]),h.getSnapshot!==n||v||de!==null&&de.memoizedState.tag&1){if(l.flags|=2048,gs(9,Sg.bind(null,l,h,a,n),{destroy:void 0},null),$t===null)throw Error(s(349));d||dr&60||bg(l,n,a)}return a}function bg(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=Ct.updateQueue,n===null?(n=hu(),Ct.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function Sg(e,n,a,l){n.value=a,n.getSnapshot=l,Rg(n)&&Cg(e)}function wg(e,n,a){return a(function(){Rg(n)&&Cg(e)})}function Rg(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!hn(e,a)}catch{return!0}}function Cg(e){var n=cr(e,2);n!==null&&Je(n,e,2)}function Nh(e){var n=rn();if(typeof e=="function"){var a=e;if(e=a(),pa){Gn(!0);try{a()}finally{Gn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:e},n}function Dg(e,n,a,l){return e.baseState=a,Ih(e,Qt,typeof l=="function"?l:Ii)}function hT(e,n,a,l,h){if(pu(e))throw Error(s(485));if(e=n.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};b.T!==null?a(!0):d.isTransition=!1,l(d),a=n.pending,a===null?(d.next=n.pending=d,xg(n,d)):(d.next=a.next,n.pending=a.next=d)}}function xg(e,n){var a=n.action,l=n.payload,h=e.state;if(n.isTransition){var d=b.T,v={};b.T=v;try{var E=a(h,l),R=b.S;R!==null&&R(v,E),Ig(e,n,E)}catch(U){Oh(e,n,U)}finally{b.T=d}}else try{d=a(h,l),Ig(e,n,d)}catch(U){Oh(e,n,U)}}function Ig(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Vg(e,n,l)},function(l){return Oh(e,n,l)}):Vg(e,n,a)}function Vg(e,n,a){n.status="fulfilled",n.value=a,Ng(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,xg(e,a)))}function Oh(e,n,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Ng(n),n=n.next;while(n!==l)}e.action=null}function Ng(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Og(e,n){return n}function Mg(e,n){if(jt){var a=$t.formState;if(a!==null){t:{var l=Ct;if(jt){if(Le){e:{for(var h=Le,d=ni;h.nodeType!==8;){if(!d){h=null;break e}if(h=qn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){Le=qn(h.nextSibling),l=h.data==="F!";break t}}da(l)}l=!1}l&&(n=a[0])}}return a=rn(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Og,lastRenderedState:n},a.queue=l,a=Wg.bind(null,Ct,l),l.dispatch=a,l=Nh(!1),d=zh.bind(null,Ct,!1,l.queue),l=rn(),h={state:n,dispatch:null,action:e,pending:null},l.queue=h,a=hT.bind(null,Ct,h,d,a),h.dispatch=a,l.memoizedState=e,[n,a,!1]}function Ug(e){var n=me();return Lg(n,Qt,e)}function Lg(e,n,a){n=Ih(e,n,Og)[0],e=du(Ii)[0],n=typeof n=="object"&&n!==null&&typeof n.then=="function"?wl(n):n;var l=me(),h=l.queue,d=h.dispatch;return a!==l.memoizedState&&(Ct.flags|=2048,gs(9,fT.bind(null,h,a),{destroy:void 0},null)),[n,d,e]}function fT(e,n){e.action=n}function Pg(e){var n=me(),a=Qt;if(a!==null)return Lg(n,a,e);me(),n=n.memoizedState,a=me();var l=a.queue.dispatch;return a.memoizedState=e,[n,l,!1]}function gs(e,n,a,l){return e={tag:e,create:n,inst:a,deps:l,next:null},n=Ct.updateQueue,n===null&&(n=hu(),Ct.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,n.lastEffect=e),e}function kg(){return me().memoizedState}function mu(e,n,a,l){var h=rn();Ct.flags|=e,h.memoizedState=gs(1|n,a,{destroy:void 0},l===void 0?null:l)}function gu(e,n,a,l){var h=me();l=l===void 0?null:l;var d=h.memoizedState.inst;Qt!==null&&l!==null&&Sh(l,Qt.memoizedState.deps)?h.memoizedState=gs(n,a,d,l):(Ct.flags|=e,h.memoizedState=gs(1|n,a,d,l))}function zg(e,n){mu(8390656,8,e,n)}function Mh(e,n){gu(2048,8,e,n)}function jg(e,n){return gu(4,2,e,n)}function Bg(e,n){return gu(4,4,e,n)}function qg(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Hg(e,n,a){a=a!=null?a.concat([e]):null,gu(4,4,qg.bind(null,n,e),a)}function Uh(){}function Fg(e,n){var a=me();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&Sh(n,l[1])?l[0]:(a.memoizedState=[e,n],e)}function Gg(e,n){var a=me();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&Sh(n,l[1]))return l[0];if(l=e(),pa){Gn(!0);try{e()}finally{Gn(!1)}}return a.memoizedState=[l,n],l}function Lh(e,n,a){return a===void 0||dr&1073741824?e.memoizedState=n:(e.memoizedState=a,e=Kp(),Ct.lanes|=e,br|=e,a)}function Qg(e,n,a,l){return hn(a,n)?a:cs.current!==null?(e=Lh(e,a,l),hn(e,n)||(Ve=!0),e):dr&42?(e=Kp(),Ct.lanes|=e,br|=e,n):(Ve=!0,e.memoizedState=a)}function Kg(e,n,a,l,h){var d=st.p;st.p=d!==0&&8>d?d:8;var v=b.T,E={};b.T=E,zh(e,!1,n,a);try{var R=h(),U=b.S;if(U!==null&&U(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var K=oT(R,l);Rl(e,n,K,gn(e))}else Rl(e,n,l,gn(e))}catch(W){Rl(e,n,{then:function(){},status:"rejected",reason:W},gn())}finally{st.p=d,b.T=v}}function dT(){}function Ph(e,n,a,l){if(e.tag!==5)throw Error(s(476));var h=Yg(e).queue;Kg(e,h,n,Rt,a===null?dT:function(){return $g(e),a(l)})}function Yg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:Rt,baseState:Rt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:Rt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function $g(e){var n=Yg(e).next.queue;Rl(e,n,{},gn())}function kh(){return He(Ql)}function Xg(){return me().memoizedState}function Zg(){return me().memoizedState}function mT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=gn();e=yr(a);var l=_r(n,e,a);l!==null&&(Je(l,n,a),xl(l,n,a)),n={cache:Th()},e.payload=n;return}n=n.return}}function gT(e,n,a){var l=gn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},pu(e)?Jg(n,a):(a=mh(e,n,a,l),a!==null&&(Je(a,e,l),tp(a,n,l)))}function Wg(e,n,a){var l=gn();Rl(e,n,a,l)}function Rl(e,n,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(pu(e))Jg(n,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var v=n.lastRenderedState,E=d(v,a);if(h.hasEagerState=!0,h.eagerState=E,hn(E,v))return Jo(e,n,h,0),$t===null&&Wo(),!1}catch{}finally{}if(a=mh(e,n,h,l),a!==null)return Je(a,e,l),tp(a,n,l),!0}return!1}function zh(e,n,a,l){if(l={lane:2,revertLane:xf(),action:l,hasEagerState:!1,eagerState:null,next:null},pu(e)){if(n)throw Error(s(479))}else n=mh(e,a,l,2),n!==null&&Je(n,e,2)}function pu(e){var n=e.alternate;return e===Ct||n!==null&&n===Ct}function Jg(e,n){ds=uu=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function tp(e,n,a){if(a&4194176){var l=n.lanes;l&=e.pendingLanes,a|=l,n.lanes=a,tr(e,a)}}var ri={readContext:He,use:fu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue};ri.useCacheRefresh=ue,ri.useMemoCache=ue,ri.useHostTransitionStatus=ue,ri.useFormState=ue,ri.useActionState=ue,ri.useOptimistic=ue;var ya={readContext:He,use:fu,useCallback:function(e,n){return rn().memoizedState=[e,n===void 0?null:n],e},useContext:He,useEffect:zg,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,mu(4194308,4,qg.bind(null,n,e),a)},useLayoutEffect:function(e,n){return mu(4194308,4,e,n)},useInsertionEffect:function(e,n){mu(4,2,e,n)},useMemo:function(e,n){var a=rn();n=n===void 0?null:n;var l=e();if(pa){Gn(!0);try{e()}finally{Gn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(e,n,a){var l=rn();if(a!==void 0){var h=a(n);if(pa){Gn(!0);try{a(n)}finally{Gn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=gT.bind(null,Ct,e),[l.memoizedState,e]},useRef:function(e){var n=rn();return e={current:e},n.memoizedState=e},useState:function(e){e=Nh(e);var n=e.queue,a=Wg.bind(null,Ct,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:Uh,useDeferredValue:function(e,n){var a=rn();return Lh(a,e,n)},useTransition:function(){var e=Nh(!1);return e=Kg.bind(null,Ct,e.queue,!0,!1),rn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var l=Ct,h=rn();if(jt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),$t===null)throw Error(s(349));Ut&60||bg(l,n,a)}h.memoizedState=a;var d={value:a,getSnapshot:n};return h.queue=d,zg(wg.bind(null,l,d,e),[e]),l.flags|=2048,gs(9,Sg.bind(null,l,d,a,n),{destroy:void 0},null),a},useId:function(){var e=rn(),n=$t.identifierPrefix;if(jt){var a=Di,l=Ci;a=(l&~(1<<32-$e(l)-1)).toString(32)+a,n=":"+n+"R"+a,a=cu++,0<a&&(n+="H"+a.toString(32)),n+=":"}else a=uT++,n=":"+n+"r"+a.toString(32)+":";return e.memoizedState=n},useCacheRefresh:function(){return rn().memoizedState=mT.bind(null,Ct)}};ya.useMemoCache=xh,ya.useHostTransitionStatus=kh,ya.useFormState=Mg,ya.useActionState=Mg,ya.useOptimistic=function(e){var n=rn();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=zh.bind(null,Ct,!0,a),a.dispatch=n,[e,n]};var mr={readContext:He,use:fu,useCallback:Fg,useContext:He,useEffect:Mh,useImperativeHandle:Hg,useInsertionEffect:jg,useLayoutEffect:Bg,useMemo:Gg,useReducer:du,useRef:kg,useState:function(){return du(Ii)},useDebugValue:Uh,useDeferredValue:function(e,n){var a=me();return Qg(a,Qt.memoizedState,e,n)},useTransition:function(){var e=du(Ii)[0],n=me().memoizedState;return[typeof e=="boolean"?e:wl(e),n]},useSyncExternalStore:Ag,useId:Xg};mr.useCacheRefresh=Zg,mr.useMemoCache=xh,mr.useHostTransitionStatus=kh,mr.useFormState=Ug,mr.useActionState=Ug,mr.useOptimistic=function(e,n){var a=me();return Dg(a,Qt,e,n)};var _a={readContext:He,use:fu,useCallback:Fg,useContext:He,useEffect:Mh,useImperativeHandle:Hg,useInsertionEffect:jg,useLayoutEffect:Bg,useMemo:Gg,useReducer:Vh,useRef:kg,useState:function(){return Vh(Ii)},useDebugValue:Uh,useDeferredValue:function(e,n){var a=me();return Qt===null?Lh(a,e,n):Qg(a,Qt.memoizedState,e,n)},useTransition:function(){var e=Vh(Ii)[0],n=me().memoizedState;return[typeof e=="boolean"?e:wl(e),n]},useSyncExternalStore:Ag,useId:Xg};_a.useCacheRefresh=Zg,_a.useMemoCache=xh,_a.useHostTransitionStatus=kh,_a.useFormState=Pg,_a.useActionState=Pg,_a.useOptimistic=function(e,n){var a=me();return Qt!==null?Dg(a,Qt,e,n):(a.baseState=e,[e,a.queue.dispatch])};function jh(e,n,a,l){n=e.memoizedState,a=a(l,n),a=a==null?n:D({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Bh={isMounted:function(e){return(e=e._reactInternals)?mt(e)===e:!1},enqueueSetState:function(e,n,a){e=e._reactInternals;var l=gn(),h=yr(l);h.payload=n,a!=null&&(h.callback=a),n=_r(e,h,l),n!==null&&(Je(n,e,l),xl(n,e,l))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var l=gn(),h=yr(l);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=_r(e,h,l),n!==null&&(Je(n,e,l),xl(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=gn(),l=yr(a);l.tag=2,n!=null&&(l.callback=n),n=_r(e,l,a),n!==null&&(Je(n,e,a),xl(n,e,a))}};function ep(e,n,a,l,h,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,v):n.prototype&&n.prototype.isPureReactComponent?!dl(a,l)||!dl(h,d):!0}function np(e,n,a,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==e&&Bh.enqueueReplaceState(n,n.state,null)}function va(e,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(e=e.defaultProps){a===n&&(a=D({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var yu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function ip(e){yu(e)}function rp(e){console.error(e)}function ap(e){yu(e)}function _u(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function sp(e,n,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function qh(e,n,a){return a=yr(a),a.tag=3,a.payload={element:null},a.callback=function(){_u(e,n)},a}function lp(e){return e=yr(e),e.tag=3,e}function op(e,n,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){sp(n,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){sp(n,a,l),typeof h!="function"&&(Sr===null?Sr=new Set([this]):Sr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function pT(e,n,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Dl(n,a,h,!0),a=xn.current,a!==null){switch(a.tag){case 13:return ii===null?Sf():a.alternate===null&&se===0&&(se=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===_h?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),Rf(e,l,h)),!1;case 22:return a.flags|=65536,l===_h?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),Rf(e,l,h)),!1}throw Error(s(435,a.tag))}return Rf(e,l,h),Sf(),!1}if(jt)return n=xn.current,n!==null?(!(n.flags&65536)&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==yh&&(e=Error(s(422),{cause:l}),yl(Rn(e,a)))):(l!==yh&&(n=Error(s(423),{cause:l}),yl(Rn(n,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Rn(l,a),h=qh(e.stateNode,l,h),rf(e,h),se!==4&&(se=2)),!1;var d=Error(s(520),{cause:l});if(d=Rn(d,a),Pl===null?Pl=[d]:Pl.push(d),se!==4&&(se=2),n===null)return!0;l=Rn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=qh(a.stateNode,l,e),rf(a,e),!1;case 1:if(n=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Sr===null||!Sr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=lp(h),op(h,e,a,l),rf(a,h),!1}a=a.return}while(a!==null);return!1}var up=Error(s(461)),Ve=!1;function Pe(e,n,a,l){n.child=e===null?mg(n,null,a,l):ma(n,e.child,a,l)}function cp(e,n,a,l,h){a=a.render;var d=n.ref;if("ref"in l){var v={};for(var E in l)E!=="ref"&&(v[E]=l[E])}else v=l;return Ta(n),l=wh(e,n,a,v,d,h),E=Rh(),e!==null&&!Ve?(Ch(e,n,h),Vi(e,n,h)):(jt&&E&&gh(n),n.flags|=1,Pe(e,n,l,h),n.child)}function hp(e,n,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!ff(d)&&d.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=d,fp(e,n,d,l,h)):(e=bu(a.type,null,l,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,!Zh(e,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:dl,a(v,l)&&e.ref===n.ref)return Vi(e,n,h)}return n.flags|=1,e=Ar(d,l),e.ref=n.ref,e.return=n,n.child=e}function fp(e,n,a,l,h){if(e!==null){var d=e.memoizedProps;if(dl(d,l)&&e.ref===n.ref)if(Ve=!1,n.pendingProps=l=d,Zh(e,h))e.flags&131072&&(Ve=!0);else return n.lanes=e.lanes,Vi(e,n,h)}return Hh(e,n,a,l,h)}function dp(e,n,a){var l=n.pendingProps,h=l.children,d=(n.stateNode._pendingVisibility&2)!==0,v=e!==null?e.memoizedState:null;if(Cl(e,n),l.mode==="hidden"||d){if(n.flags&128){if(l=v!==null?v.baseLanes|a:a,e!==null){for(h=n.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;n.childLanes=d&~l}else n.childLanes=0,n.child=null;return mp(e,n,l,a)}if(a&536870912)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&ou(n,v!==null?v.cachePool:null),v!==null?gg(n,v):vh(),pg(n);else return n.lanes=n.childLanes=536870912,mp(e,n,v!==null?v.baseLanes|a:a,a)}else v!==null?(ou(n,v.cachePool),gg(n,v),fr(),n.memoizedState=null):(e!==null&&ou(n,null),vh(),fr());return Pe(e,n,h,a),n.child}function mp(e,n,a,l){var h=bh();return h=h===null?null:{parent:be._currentValue,pool:h},n.memoizedState={baseLanes:a,cachePool:h},e!==null&&ou(n,null),vh(),pg(n),e!==null&&Dl(e,n,l,!0),null}function Cl(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(n.flags|=2097664)}}function Hh(e,n,a,l,h){return Ta(n),a=wh(e,n,a,l,void 0,h),l=Rh(),e!==null&&!Ve?(Ch(e,n,h),Vi(e,n,h)):(jt&&l&&gh(n),n.flags|=1,Pe(e,n,a,h),n.child)}function gp(e,n,a,l,h,d){return Ta(n),n.updateQueue=null,a=Tg(n,l,a,h),Eg(e),l=Rh(),e!==null&&!Ve?(Ch(e,n,d),Vi(e,n,d)):(jt&&l&&gh(n),n.flags|=1,Pe(e,n,a,d),n.child)}function pp(e,n,a,l,h){if(Ta(n),n.stateNode===null){var d=ss,v=a.contextType;typeof v=="object"&&v!==null&&(d=He(v)),d=new a(l,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Bh,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=l,d.state=n.memoizedState,d.refs={},ef(n),v=a.contextType,d.context=typeof v=="object"&&v!==null?He(v):ss,d.state=n.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(jh(n,a,v,l),d.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Bh.enqueueReplaceState(d,d.state,null),Vl(n,l,d,h),Il(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){d=n.stateNode;var E=n.memoizedProps,R=va(a,E);d.props=R;var U=d.context,K=a.contextType;v=ss,typeof K=="object"&&K!==null&&(v=He(K));var W=a.getDerivedStateFromProps;K=typeof W=="function"||typeof d.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,K||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E||U!==v)&&np(n,d,l,v),pr=!1;var H=n.memoizedState;d.state=H,Vl(n,l,d,h),Il(),U=n.memoizedState,E||H!==U||pr?(typeof W=="function"&&(jh(n,a,W,l),U=n.memoizedState),(R=pr||ep(n,a,R,l,H,U,v))?(K||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=U),d.props=l,d.state=U,d.context=v,l=R):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{d=n.stateNode,nf(e,n),v=n.memoizedProps,K=va(a,v),d.props=K,W=n.pendingProps,H=d.context,U=a.contextType,R=ss,typeof U=="object"&&U!==null&&(R=He(U)),E=a.getDerivedStateFromProps,(U=typeof E=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==W||H!==R)&&np(n,d,l,R),pr=!1,H=n.memoizedState,d.state=H,Vl(n,l,d,h),Il();var Q=n.memoizedState;v!==W||H!==Q||pr||e!==null&&e.dependencies!==null&&vu(e.dependencies)?(typeof E=="function"&&(jh(n,a,E,l),Q=n.memoizedState),(K=pr||ep(n,a,K,l,H,Q,R)||e!==null&&e.dependencies!==null&&vu(e.dependencies))?(U||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,R),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,R)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&H===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&H===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=Q),d.props=l,d.state=Q,d.context=R,l=K):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&H===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&H===e.memoizedState||(n.flags|=1024),l=!1)}return d=l,Cl(e,n),l=(n.flags&128)!==0,d||l?(d=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,e!==null&&l?(n.child=ma(n,e.child,null,h),n.child=ma(n,null,a,h)):Pe(e,n,a,h),n.memoizedState=d.state,e=n.child):e=Vi(e,n,h),e}function yp(e,n,a,l){return pl(),n.flags|=256,Pe(e,n,a,l),n.child}var Fh={dehydrated:null,treeContext:null,retryLane:0};function Gh(e){return{baseLanes:e,cachePool:vg()}}function Qh(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=On),e}function _p(e,n,a){var l=n.pendingProps,h=!1,d=(n.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(Ae.current&2)!==0),v&&(h=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,e===null){if(jt){if(h?hr(n):fr(),jt){var E=Le,R;if(R=E){t:{for(R=E,E=ni;R.nodeType!==8;){if(!E){E=null;break t}if(R=qn(R.nextSibling),R===null){E=null;break t}}E=R}E!==null?(n.memoizedState={dehydrated:E,treeContext:ha!==null?{id:Ci,overflow:Di}:null,retryLane:536870912},R=Nn(18,null,null,0),R.stateNode=E,R.return=n,n.child=R,We=n,Le=null,R=!0):R=!1}R||da(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return E.data==="$!"?n.lanes=16:n.lanes=536870912,null;xi(n)}return E=l.children,l=l.fallback,h?(fr(),h=n.mode,E=Yh({mode:"hidden",children:E},h),l=ba(l,h,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,h=n.child,h.memoizedState=Gh(a),h.childLanes=Qh(e,v,a),n.memoizedState=Fh,l):(hr(n),Kh(n,E))}if(R=e.memoizedState,R!==null&&(E=R.dehydrated,E!==null)){if(d)n.flags&256?(hr(n),n.flags&=-257,n=$h(e,n,a)):n.memoizedState!==null?(fr(),n.child=e.child,n.flags|=128,n=null):(fr(),h=l.fallback,E=n.mode,l=Yh({mode:"visible",children:l.children},E),h=ba(h,E,a,null),h.flags|=2,l.return=n,h.return=n,l.sibling=h,n.child=l,ma(n,e.child,null,a),l=n.child,l.memoizedState=Gh(a),l.childLanes=Qh(e,v,a),n.memoizedState=Fh,n=h);else if(hr(n),E.data==="$!"){if(v=E.nextSibling&&E.nextSibling.dataset,v)var U=v.dgst;v=U,l=Error(s(419)),l.stack="",l.digest=v,yl({value:l,source:null,stack:null}),n=$h(e,n,a)}else if(Ve||Dl(e,n,a,!1),v=(a&e.childLanes)!==0,Ve||v){if(v=$t,v!==null){if(l=a&-a,l&42)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=l&(v.suspendedLanes|a)?0:l,l!==0&&l!==R.retryLane)throw R.retryLane=l,cr(e,l),Je(v,e,l),up}E.data==="$?"||Sf(),n=$h(e,n,a)}else E.data==="$?"?(n.flags|=128,n.child=e.child,n=VT.bind(null,e),E._reactRetry=n,n=null):(e=R.treeContext,Le=qn(E.nextSibling),We=n,jt=!0,jn=null,ni=!1,e!==null&&(Cn[Dn++]=Ci,Cn[Dn++]=Di,Cn[Dn++]=ha,Ci=e.id,Di=e.overflow,ha=n),n=Kh(n,l.children),n.flags|=4096);return n}return h?(fr(),h=l.fallback,E=n.mode,R=e.child,U=R.sibling,l=Ar(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&31457280,U!==null?h=Ar(U,h):(h=ba(h,E,a,null),h.flags|=2),h.return=n,l.return=n,l.sibling=h,n.child=l,l=h,h=n.child,E=e.child.memoizedState,E===null?E=Gh(a):(R=E.cachePool,R!==null?(U=be._currentValue,R=R.parent!==U?{parent:U,pool:U}:R):R=vg(),E={baseLanes:E.baseLanes|a,cachePool:R}),h.memoizedState=E,h.childLanes=Qh(e,v,a),n.memoizedState=Fh,l):(hr(n),a=e.child,e=a.sibling,a=Ar(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,e!==null&&(v=n.deletions,v===null?(n.deletions=[e],n.flags|=16):v.push(e)),n.child=a,n.memoizedState=null,a)}function Kh(e,n){return n=Yh({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Yh(e,n){return Fp(e,n,0,null)}function $h(e,n,a){return ma(n,e.child,null,a),e=Kh(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function vp(e,n,a){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Jh(e.return,n,a)}function Xh(e,n,a,l,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function Ep(e,n,a){var l=n.pendingProps,h=l.revealOrder,d=l.tail;if(Pe(e,n,l.children,a),l=Ae.current,l&2)l=l&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vp(e,a,n);else if(e.tag===19)vp(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(Gt(Ae,l),h){case"forwards":for(a=n.child,h=null;a!==null;)e=a.alternate,e!==null&&lu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Xh(n,!1,h,a,d);break;case"backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&lu(e)===null){n.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Xh(n,!0,a,null,d);break;case"together":Xh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Vi(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),br|=n.lanes,!(a&n.childLanes))if(e!==null){if(Dl(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,a=Ar(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=Ar(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function Zh(e,n){return e.lanes&n?!0:(e=e.dependencies,!!(e!==null&&vu(e)))}function yT(e,n,a){switch(n.tag){case 3:Yi(n,n.stateNode.containerInfo),gr(n,be,e.memoizedState.cache),pl();break;case 27:case 5:Qs(n);break;case 4:Yi(n,n.stateNode.containerInfo);break;case 10:gr(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(hr(n),n.flags|=128,null):a&n.child.childLanes?_p(e,n,a):(hr(n),e=Vi(e,n,a),e!==null?e.sibling:null);hr(n);break;case 19:var h=(e.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Dl(e,n,a,!1),l=(a&n.childLanes)!==0),h){if(l)return Ep(e,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Gt(Ae,Ae.current),l)break;return null;case 22:case 23:return n.lanes=0,dp(e,n,a);case 24:gr(n,be,e.memoizedState.cache)}return Vi(e,n,a)}function Tp(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ve=!0;else{if(!Zh(e,a)&&!(n.flags&128))return Ve=!1,yT(e,n,a);Ve=!!(e.flags&131072)}else Ve=!1,jt&&n.flags&1048576&&ag(n,nu,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var l=n.elementType,h=l._init;if(l=h(l._payload),n.type=l,typeof l=="function")ff(l)?(e=va(l,e),n.tag=1,n=pp(null,n,l,e,a)):(n.tag=0,n=Hh(null,n,l,e,a));else{if(l!=null){if(h=l.$$typeof,h===z){n.tag=11,n=cp(null,n,l,e,a);break t}else if(h===Y){n.tag=14,n=hp(null,n,l,e,a);break t}}throw n=w(l)||l,Error(s(306,n,""))}}return n;case 0:return Hh(e,n,n.type,n.pendingProps,a);case 1:return l=n.type,h=va(l,n.pendingProps),pp(e,n,l,h,a);case 3:t:{if(Yi(n,n.stateNode.containerInfo),e===null)throw Error(s(387));var d=n.pendingProps;h=n.memoizedState,l=h.element,nf(e,n),Vl(n,d,null,a);var v=n.memoizedState;if(d=v.cache,gr(n,be,d),d!==h.cache&&tf(n,[be],a,!0),Il(),d=v.element,h.isDehydrated)if(h={element:d,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=yp(e,n,d,a);break t}else if(d!==l){l=Rn(Error(s(424)),n),yl(l),n=yp(e,n,d,a);break t}else for(Le=qn(n.stateNode.containerInfo.firstChild),We=n,jt=!0,jn=null,ni=!0,a=mg(n,null,d,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(pl(),d===l){n=Vi(e,n,a);break t}Pe(e,n,d,a)}n=n.child}return n;case 26:return Cl(e,n),e===null?(a=Sy(n.type,null,n.pendingProps,null))?n.memoizedState=a:jt||(a=n.type,e=n.pendingProps,l=Uu(_n.current).createElement(a),l[De]=n,l[ve]=e,ke(l,a,e),Wt(l),n.stateNode=l):n.memoizedState=Sy(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Qs(n),e===null&&jt&&(l=n.stateNode=Ty(n.type,n.pendingProps,_n.current),We=n,ni=!0,Le=qn(l.firstChild)),l=n.pendingProps.children,e!==null||jt?Pe(e,n,l,a):n.child=ma(n,null,l,a),Cl(e,n),n.child;case 5:return e===null&&jt&&((h=l=Le)&&(l=KT(l,n.type,n.pendingProps,ni),l!==null?(n.stateNode=l,We=n,Le=qn(l.firstChild),ni=!1,h=!0):h=!1),h||da(n)),Qs(n),h=n.type,d=n.pendingProps,v=e!==null?e.memoizedProps:null,l=d.children,kf(h,d)?l=null:v!==null&&kf(h,v)&&(n.flags|=32),n.memoizedState!==null&&(h=wh(e,n,cT,null,null,a),Ql._currentValue=h),Cl(e,n),Pe(e,n,l,a),n.child;case 6:return e===null&&jt&&((e=a=Le)&&(a=YT(a,n.pendingProps,ni),a!==null?(n.stateNode=a,We=n,Le=null,e=!0):e=!1),e||da(n)),null;case 13:return _p(e,n,a);case 4:return Yi(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=ma(n,null,l,a):Pe(e,n,l,a),n.child;case 11:return cp(e,n,n.type,n.pendingProps,a);case 7:return Pe(e,n,n.pendingProps,a),n.child;case 8:return Pe(e,n,n.pendingProps.children,a),n.child;case 12:return Pe(e,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,gr(n,n.type,l.value),Pe(e,n,l.children,a),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Ta(n),h=He(h),l=l(h),n.flags|=1,Pe(e,n,l,a),n.child;case 14:return hp(e,n,n.type,n.pendingProps,a);case 15:return fp(e,n,n.type,n.pendingProps,a);case 19:return Ep(e,n,a);case 22:return dp(e,n,a);case 24:return Ta(n),l=He(be),e===null?(h=bh(),h===null&&(h=$t,d=Th(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),n.memoizedState={parent:l,cache:h},ef(n),gr(n,be,h)):(e.lanes&a&&(nf(e,n),Vl(n,null,null,a),Il()),h=e.memoizedState,d=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),gr(n,be,l)):(l=d.cache,gr(n,be,l),l!==h.cache&&tf(n,[be],a,!0))),Pe(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}var Wh=kt(null),Ea=null,Ni=null;function gr(e,n,a){Gt(Wh,n._currentValue),n._currentValue=a}function Oi(e){e._currentValue=Wh.current,ie(Wh)}function Jh(e,n,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===a)break;e=e.return}}function tf(e,n,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;t:for(;d!==null;){var E=d;d=h;for(var R=0;R<n.length;R++)if(E.context===n[R]){d.lanes|=a,E=d.alternate,E!==null&&(E.lanes|=a),Jh(d.return,a,e),l||(v=null);break t}d=E.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Jh(v,a,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Dl(e,n,a,l){e=null;for(var h=n,d=!1;h!==null;){if(!d){if(h.flags&524288)d=!0;else if(h.flags&262144)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var E=h.type;hn(h.pendingProps.value,v.value)||(e!==null?e.push(E):e=[E])}}else if(h===Ki.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Ql):e=[Ql])}h=h.return}e!==null&&tf(n,e,a,l),n.flags|=262144}function vu(e){for(e=e.firstContext;e!==null;){if(!hn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ta(e){Ea=e,Ni=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function He(e){return Ap(Ea,e)}function Eu(e,n){return Ea===null&&Ta(e),Ap(e,n)}function Ap(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Ni===null){if(e===null)throw Error(s(308));Ni=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Ni=Ni.next=n;return a}var pr=!1;function ef(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function yr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function _r(e,n,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,te&2){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=tu(e),ig(e,null,a),n}return Jo(e,l,n,a),tu(e)}function xl(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194176)!==0)){var l=n.lanes;l&=e.pendingLanes,a|=l,n.lanes=a,tr(e,a)}}function rf(e,n){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=n:d=d.next=n}else h=d=n;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var af=!1;function Il(){if(af){var e=fs;if(e!==null)throw e}}function Vl(e,n,a,l){af=!1;var h=e.updateQueue;pr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,U=R.next;R.next=null,v===null?d=U:v.next=U,v=R;var K=e.alternate;K!==null&&(K=K.updateQueue,E=K.lastBaseUpdate,E!==v&&(E===null?K.firstBaseUpdate=U:E.next=U,K.lastBaseUpdate=R))}if(d!==null){var W=h.baseState;v=0,K=U=R=null,E=d;do{var H=E.lane&-536870913,Q=H!==E.lane;if(Q?(Ut&H)===H:(l&H)===H){H!==0&&H===hs&&(af=!0),K!==null&&(K=K.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ct=e,Tt=E;H=n;var le=a;switch(Tt.tag){case 1:if(ct=Tt.payload,typeof ct=="function"){W=ct.call(le,W,H);break t}W=ct;break t;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=Tt.payload,H=typeof ct=="function"?ct.call(le,W,H):ct,H==null)break t;W=D({},W,H);break t;case 2:pr=!0}}H=E.callback,H!==null&&(e.flags|=64,Q&&(e.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[H]:Q.push(H))}else Q={lane:H,tag:E.tag,payload:E.payload,callback:E.callback,next:null},K===null?(U=K=Q,R=W):K=K.next=Q,v|=H;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;Q=E,E=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);K===null&&(R=W),h.baseState=R,h.firstBaseUpdate=U,h.lastBaseUpdate=K,d===null&&(h.shared.lanes=0),br|=v,e.lanes=v,e.memoizedState=W}}function bp(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function Sp(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)bp(a[e],n)}function Nl(e,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(E){Yt(n,n.return,E)}}function vr(e,n,a){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var v=l.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,h=n;var R=a;try{E()}catch(U){Yt(h,R,U)}}}l=l.next}while(l!==d)}}catch(U){Yt(n,n.return,U)}}function wp(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{Sp(n,a)}catch(l){Yt(e,e.return,l)}}}function Rp(e,n,a){a.props=va(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Yt(e,n,l)}}function Aa(e,n){try{var a=e.ref;if(a!==null){var l=e.stateNode;switch(e.tag){case 26:case 27:case 5:var h=l;break;default:h=l}typeof a=="function"?e.refCleanup=a(h):a.current=h}}catch(d){Yt(e,n,d)}}function fn(e,n){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Yt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Yt(e,n,h)}else a.current=null}function Cp(e){var n=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Yt(e,e.return,h)}}function Dp(e,n,a){try{var l=e.stateNode;qT(l,e.type,a,n),l[ve]=n}catch(h){Yt(e,e.return,h)}}function xp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27||e.tag===4}function sf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||xp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==27&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function lf(e,n,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?a.nodeType===8?a.parentNode.insertBefore(e,n):a.insertBefore(e,n):(a.nodeType===8?(n=a.parentNode,n.insertBefore(e,a)):(n=a,n.appendChild(e)),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Mu));else if(l!==4&&l!==27&&(e=e.child,e!==null))for(lf(e,n,a),e=e.sibling;e!==null;)lf(e,n,a),e=e.sibling}function Tu(e,n,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(l!==4&&l!==27&&(e=e.child,e!==null))for(Tu(e,n,a),e=e.sibling;e!==null;)Tu(e,n,a),e=e.sibling}var Mi=!1,ae=!1,of=!1,Ip=typeof WeakSet=="function"?WeakSet:Set,Ne=null,Vp=!1;function _T(e,n){if(e=e.containerInfo,Lf=Bu,e=Ym(e),uh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var v=0,E=-1,R=-1,U=0,K=0,W=e,H=null;e:for(;;){for(var Q;W!==a||h!==0&&W.nodeType!==3||(E=v+h),W!==d||l!==0&&W.nodeType!==3||(R=v+l),W.nodeType===3&&(v+=W.nodeValue.length),(Q=W.firstChild)!==null;)H=W,W=Q;for(;;){if(W===e)break e;if(H===a&&++U===h&&(E=v),H===d&&++K===l&&(R=v),(Q=W.nextSibling)!==null)break;W=H,H=W.parentNode}W=Q}a=E===-1||R===-1?null:{start:E,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(Pf={focusedElem:e,selectionRange:a},Bu=!1,Ne=n;Ne!==null;)if(n=Ne,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ne=e;else for(;Ne!==null;){switch(n=Ne,d=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&d!==null){e=void 0,a=n,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ct=va(a.type,h,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(ct,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(Tt){Yt(a,a.return,Tt)}}break;case 3:if(e&1024){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)Bf(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Bf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,Ne=e;break}Ne=n.return}return ct=Vp,Vp=!1,ct}function Np(e,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Li(e,a),l&4&&Nl(5,a);break;case 1:if(Li(e,a),l&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(E){Yt(a,a.return,E)}else{var h=va(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(E){Yt(a,a.return,E)}}l&64&&wp(a),l&512&&Aa(a,a.return);break;case 3:if(Li(e,a),l&64&&(l=a.updateQueue,l!==null)){if(e=null,a.child!==null)switch(a.child.tag){case 27:case 5:e=a.child.stateNode;break;case 1:e=a.child.stateNode}try{Sp(l,e)}catch(E){Yt(a,a.return,E)}}break;case 26:Li(e,a),l&512&&Aa(a,a.return);break;case 27:case 5:Li(e,a),n===null&&l&4&&Cp(a),l&512&&Aa(a,a.return);break;case 12:Li(e,a);break;case 13:Li(e,a),l&4&&Up(e,a);break;case 22:if(h=a.memoizedState!==null||Mi,!h){n=n!==null&&n.memoizedState!==null||ae;var d=Mi,v=ae;Mi=h,(ae=n)&&!v?Er(e,a,(a.subtreeFlags&8772)!==0):Li(e,a),Mi=d,ae=v}l&512&&(a.memoizedProps.mode==="manual"?Aa(a,a.return):fn(a,a.return));break;default:Li(e,a)}}function Op(e){var n=e.alternate;n!==null&&(e.alternate=null,Op(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Wr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ge=null,dn=!1;function Ui(e,n,a){for(a=a.child;a!==null;)Mp(e,n,a),a=a.sibling}function Mp(e,n,a){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount($i,a)}catch{}switch(a.tag){case 26:ae||fn(a,n),Ui(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ae||fn(a,n);var l=ge,h=dn;for(ge=a.stateNode,Ui(e,n,a),a=a.stateNode,n=a.attributes;n.length;)a.removeAttributeNode(n[0]);Wr(a),ge=l,dn=h;break;case 5:ae||fn(a,n);case 6:h=ge;var d=dn;if(ge=null,Ui(e,n,a),ge=h,dn=d,ge!==null)if(dn)try{e=ge,l=a.stateNode,e.nodeType===8?e.parentNode.removeChild(l):e.removeChild(l)}catch(v){Yt(a,n,v)}else try{ge.removeChild(a.stateNode)}catch(v){Yt(a,n,v)}break;case 18:ge!==null&&(dn?(n=ge,a=a.stateNode,n.nodeType===8?jf(n.parentNode,a):n.nodeType===1&&jf(n,a),Xl(n)):jf(ge,a.stateNode));break;case 4:l=ge,h=dn,ge=a.stateNode.containerInfo,dn=!0,Ui(e,n,a),ge=l,dn=h;break;case 0:case 11:case 14:case 15:ae||vr(2,a,n),ae||vr(4,a,n),Ui(e,n,a);break;case 1:ae||(fn(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Rp(a,n,l)),Ui(e,n,a);break;case 21:Ui(e,n,a);break;case 22:ae||fn(a,n),ae=(l=ae)||a.memoizedState!==null,Ui(e,n,a),ae=l;break;default:Ui(e,n,a)}}function Up(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Xl(e)}catch(a){Yt(n,n.return,a)}}function vT(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Ip),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Ip),n;default:throw Error(s(435,e.tag))}}function uf(e,n){var a=vT(e);n.forEach(function(l){var h=NT.bind(null,e,l);a.has(l)||(a.add(l),l.then(h,h))})}function In(e,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,v=n,E=v;t:for(;E!==null;){switch(E.tag){case 27:case 5:ge=E.stateNode,dn=!1;break t;case 3:ge=E.stateNode.containerInfo,dn=!0;break t;case 4:ge=E.stateNode.containerInfo,dn=!0;break t}E=E.return}if(ge===null)throw Error(s(160));Mp(d,v,h),ge=null,dn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Lp(n,e),n=n.sibling}var Bn=null;function Lp(e,n){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:In(n,e),Vn(e),l&4&&(vr(3,e,e.return),Nl(3,e),vr(5,e,e.return));break;case 1:In(n,e),Vn(e),l&512&&(ae||a===null||fn(a,a.return)),l&64&&Mi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Bn;if(In(n,e),Vn(e),l&512&&(ae||a===null||fn(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[nr]||d[De]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),ke(d,l,a),d[De]=e,Wt(d),l=d;break t;case"link":var v=Cy("link","href",h).get(l+(a.href||""));if(v){for(var E=0;E<v.length;E++)if(d=v[E],d.getAttribute("href")===(a.href==null?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(E,1);break e}}d=h.createElement(l),ke(d,l,a),h.head.appendChild(d);break;case"meta":if(v=Cy("meta","content",h).get(l+(a.content||""))){for(E=0;E<v.length;E++)if(d=v[E],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(E,1);break e}}d=h.createElement(l),ke(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[De]=e,Wt(d),l=d}e.stateNode=l}else Dy(h,e.type,e.stateNode);else e.stateNode=Ry(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Dy(h,e.type,e.stateNode):Ry(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Dp(e,e.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&e.alternate===null){h=e.stateNode,d=e.memoizedProps;try{for(var R=h.firstChild;R;){var U=R.nextSibling,K=R.nodeName;R[nr]||K==="HEAD"||K==="BODY"||K==="SCRIPT"||K==="STYLE"||K==="LINK"&&R.rel.toLowerCase()==="stylesheet"||h.removeChild(R),R=U}for(var W=e.type,H=h.attributes;H.length;)h.removeAttributeNode(H[0]);ke(h,W,d),h[De]=e,h[ve]=d}catch(ct){Yt(e,e.return,ct)}}case 5:if(In(n,e),Vn(e),l&512&&(ae||a===null||fn(a,a.return)),e.flags&32){h=e.stateNode;try{Tn(h,"")}catch(ct){Yt(e,e.return,ct)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Dp(e,h,a!==null?a.memoizedProps:h)),l&1024&&(of=!0);break;case 6:if(In(n,e),Vn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(ct){Yt(e,e.return,ct)}}break;case 3:if(ku=null,h=Bn,Bn=Lu(n.containerInfo),In(n,e),Bn=h,Vn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Xl(n.containerInfo)}catch(ct){Yt(e,e.return,ct)}of&&(of=!1,Pp(e));break;case 4:l=Bn,Bn=Lu(e.stateNode.containerInfo),In(n,e),Vn(e),Bn=l;break;case 12:In(n,e),Vn(e);break;case 13:In(n,e),Vn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(_f=en()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,uf(e,l)));break;case 22:if(l&512&&(ae||a===null||fn(a,a.return)),R=e.memoizedState!==null,U=a!==null&&a.memoizedState!==null,K=Mi,W=ae,Mi=K||R,ae=W||U,In(n,e),ae=W,Mi=K,Vn(e),n=e.stateNode,n._current=e,n._visibility&=-3,n._visibility|=n._pendingVisibility&2,l&8192&&(n._visibility=R?n._visibility&-2:n._visibility|1,R&&(n=Mi||ae,a===null||U||n||ps(e)),e.memoizedProps===null||e.memoizedProps.mode!=="manual"))t:for(a=null,n=e;;){if(n.tag===5||n.tag===26||n.tag===27){if(a===null){U=a=n;try{if(h=U.stateNode,R)d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{v=U.stateNode,E=U.memoizedProps.style;var Q=E!=null&&E.hasOwnProperty("display")?E.display:null;v.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(ct){Yt(U,U.return,ct)}}}else if(n.tag===6){if(a===null){U=n;try{U.stateNode.nodeValue=R?"":U.memoizedProps}catch(ct){Yt(U,U.return,ct)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,uf(e,a))));break;case 19:In(n,e),Vn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,uf(e,l)));break;case 21:break;default:In(n,e),Vn(e)}}function Vn(e){var n=e.flags;if(n&2){try{if(e.tag!==27){t:{for(var a=e.return;a!==null;){if(xp(a)){var l=a;break t}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var h=l.stateNode,d=sf(e);Tu(e,d,h);break;case 5:var v=l.stateNode;l.flags&32&&(Tn(v,""),l.flags&=-33);var E=sf(e);Tu(e,E,v);break;case 3:case 4:var R=l.stateNode.containerInfo,U=sf(e);lf(e,U,R);break;default:throw Error(s(161))}}}catch(K){Yt(e,e.return,K)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Pp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Pp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Li(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Np(e,n.alternate,n),n=n.sibling}function ps(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:vr(4,n,n.return),ps(n);break;case 1:fn(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Rp(n,n.return,a),ps(n);break;case 26:case 27:case 5:fn(n,n.return),ps(n);break;case 22:fn(n,n.return),n.memoizedState===null&&ps(n);break;default:ps(n)}e=e.sibling}}function Er(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=e,d=n,v=d.flags;switch(d.tag){case 0:case 11:case 15:Er(h,d,a),Nl(4,d);break;case 1:if(Er(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(U){Yt(l,l.return,U)}if(l=d,h=l.updateQueue,h!==null){var E=l.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)bp(R[h],E)}catch(U){Yt(l,l.return,U)}}a&&v&64&&wp(d),Aa(d,d.return);break;case 26:case 27:case 5:Er(h,d,a),a&&l===null&&v&4&&Cp(d),Aa(d,d.return);break;case 12:Er(h,d,a);break;case 13:Er(h,d,a),a&&v&4&&Up(h,d);break;case 22:d.memoizedState===null&&Er(h,d,a),Aa(d,d.return);break;default:Er(h,d,a)}n=n.sibling}}function cf(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Al(a))}function hf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Al(e))}function Tr(e,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)kp(e,n,a,l),n=n.sibling}function kp(e,n,a,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Tr(e,n,a,l),h&2048&&Nl(9,n);break;case 3:Tr(e,n,a,l),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Al(e)));break;case 12:if(h&2048){Tr(e,n,a,l),e=n.stateNode;try{var d=n.memoizedProps,v=d.id,E=d.onPostCommit;typeof E=="function"&&E(v,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Yt(n,n.return,R)}}else Tr(e,n,a,l);break;case 23:break;case 22:d=n.stateNode,n.memoizedState!==null?d._visibility&4?Tr(e,n,a,l):Ol(e,n):d._visibility&4?Tr(e,n,a,l):(d._visibility|=4,ys(e,n,a,l,(n.subtreeFlags&10256)!==0)),h&2048&&cf(n.alternate,n);break;case 24:Tr(e,n,a,l),h&2048&&hf(n.alternate,n);break;default:Tr(e,n,a,l)}}function ys(e,n,a,l,h){for(h=h&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var d=e,v=n,E=a,R=l,U=v.flags;switch(v.tag){case 0:case 11:case 15:ys(d,v,E,R,h),Nl(8,v);break;case 23:break;case 22:var K=v.stateNode;v.memoizedState!==null?K._visibility&4?ys(d,v,E,R,h):Ol(d,v):(K._visibility|=4,ys(d,v,E,R,h)),h&&U&2048&&cf(v.alternate,v);break;case 24:ys(d,v,E,R,h),h&&U&2048&&hf(v.alternate,v);break;default:ys(d,v,E,R,h)}n=n.sibling}}function Ol(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,l=n,h=l.flags;switch(l.tag){case 22:Ol(a,l),h&2048&&cf(l.alternate,l);break;case 24:Ol(a,l),h&2048&&hf(l.alternate,l);break;default:Ol(a,l)}n=n.sibling}}var Ml=8192;function _s(e){if(e.subtreeFlags&Ml)for(e=e.child;e!==null;)zp(e),e=e.sibling}function zp(e){switch(e.tag){case 26:_s(e),e.flags&Ml&&e.memoizedState!==null&&lA(Bn,e.memoizedState,e.memoizedProps);break;case 5:_s(e);break;case 3:case 4:var n=Bn;Bn=Lu(e.stateNode.containerInfo),_s(e),Bn=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Ml,Ml=16777216,_s(e),Ml=n):_s(e));break;default:_s(e)}}function jp(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Ul(e){var n=e.deletions;if(e.flags&16){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ne=l,qp(l,e)}jp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Bp(e),e=e.sibling}function Bp(e){switch(e.tag){case 0:case 11:case 15:Ul(e),e.flags&2048&&vr(9,e,e.return);break;case 3:Ul(e);break;case 12:Ul(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&4&&(e.return===null||e.return.tag!==13)?(n._visibility&=-5,Au(e)):Ul(e);break;default:Ul(e)}}function Au(e){var n=e.deletions;if(e.flags&16){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ne=l,qp(l,e)}jp(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:vr(8,n,n.return),Au(n);break;case 22:a=n.stateNode,a._visibility&4&&(a._visibility&=-5,Au(n));break;default:Au(n)}e=e.sibling}}function qp(e,n){for(;Ne!==null;){var a=Ne;switch(a.tag){case 0:case 11:case 15:vr(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Al(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ne=l;else t:for(a=e;Ne!==null;){l=Ne;var h=l.sibling,d=l.return;if(Op(l),l===a){Ne=null;break t}if(h!==null){h.return=d,Ne=h;break t}Ne=d}}}function ET(e,n,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(e,n,a,l){return new ET(e,n,a,l)}function ff(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ar(e,n){var a=e.alternate;return a===null?(a=Nn(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&31457280,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Hp(e,n){e.flags&=31457282;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function bu(e,n,a,l,h,d){var v=0;if(l=e,typeof e=="function")ff(e)&&(v=1);else if(typeof e=="string")v=aA(e,a,Ye.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case p:return ba(a.children,h,d,n);case y:v=8,h|=24;break;case T:return e=Nn(12,a,n,h|2),e.elementType=T,e.lanes=d,e;case q:return e=Nn(13,a,n,h),e.elementType=q,e.lanes=d,e;case L:return e=Nn(19,a,n,h),e.elementType=L,e.lanes=d,e;case et:return Fp(a,h,d,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case S:case I:v=10;break t;case C:v=9;break t;case z:v=11;break t;case Y:v=14;break t;case tt:v=16,l=null;break t}v=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return n=Nn(v,a,n,h),n.elementType=e,n.type=l,n.lanes=d,n}function ba(e,n,a,l){return e=Nn(7,e,l,n),e.lanes=a,e}function Fp(e,n,a,l){e=Nn(22,e,l,n),e.elementType=et,e.lanes=a;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=h._current;if(d===null)throw Error(s(456));if(!(h._pendingVisibility&2)){var v=cr(d,2);v!==null&&(h._pendingVisibility|=2,Je(v,d,2))}},attach:function(){var d=h._current;if(d===null)throw Error(s(456));if(h._pendingVisibility&2){var v=cr(d,2);v!==null&&(h._pendingVisibility&=-3,Je(v,d,2))}}};return e.stateNode=h,e}function df(e,n,a){return e=Nn(6,e,null,n),e.lanes=a,e}function mf(e,n,a){return n=Nn(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Pi(e){e.flags|=4}function Gp(e,n){if(n.type!=="stylesheet"||n.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!xy(n)){if(n=xn.current,n!==null&&((Ut&4194176)===Ut?ii!==null:(Ut&62914560)!==Ut&&!(Ut&536870912)||n!==ii))throw vl=_h,og;e.flags|=8192}}function Su(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Wi():536870912,e.lanes|=n,Es|=n)}function Ll(e,n){if(!jt)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Jt(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(n)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&31457280,l|=h.flags&31457280,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,n}function TT(e,n,a){var l=n.pendingProps;switch(ph(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(n),null;case 1:return Jt(n),null;case 3:return a=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Oi(be),pi(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(gl(n)?Pi(n):e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,jn!==null&&(Af(jn),jn=null))),Jt(n),null;case 26:return a=n.memoizedState,e===null?(Pi(n),a!==null?(Jt(n),Gp(n,a)):(Jt(n),n.flags&=-16777217)):a?a!==e.memoizedState?(Pi(n),Jt(n),Gp(n,a)):(Jt(n),n.flags&=-16777217):(e.memoizedProps!==l&&Pi(n),Jt(n),n.flags&=-16777217),null;case 27:za(n),a=_n.current;var h=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Pi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return Jt(n),null}e=Ye.current,gl(n)?sg(n):(e=Ty(h,l,a),n.stateNode=e,Pi(n))}return Jt(n),null;case 5:if(za(n),a=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Pi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return Jt(n),null}if(e=Ye.current,gl(n))sg(n);else{switch(h=Uu(_n.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}e[De]=n,e[ve]=l;t:for(h=n.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break t;for(;h.sibling===null;){if(h.return===null||h.return===n)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}n.stateNode=e;t:switch(ke(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Pi(n)}}return Jt(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&Pi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(e=_n.current,gl(n)){if(e=n.stateNode,a=n.memoizedProps,l=null,h=We,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[De]=n,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||gy(e.nodeValue,a)),e||da(n)}else e=Uu(e).createTextNode(l),e[De]=n,n.stateNode=e}return Jt(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=gl(n),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[De]=n}else pl(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;Jt(n),h=!1}else jn!==null&&(Af(jn),jn=null),h=!0;if(!h)return n.flags&256?(xi(n),n):(xi(n),null)}if(xi(n),n.flags&128)return n.lanes=a,n;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==e&&a&&(n.child.flags|=8192),Su(n,n.updateQueue),Jt(n),null;case 4:return pi(),e===null&&Of(n.stateNode.containerInfo),Jt(n),null;case 10:return Oi(n.type),Jt(n),null;case 19:if(ie(Ae),h=n.memoizedState,h===null)return Jt(n),null;if(l=(n.flags&128)!==0,d=h.rendering,d===null)if(l)Ll(h,!1);else{if(se!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(d=lu(e),d!==null){for(n.flags|=128,Ll(h,!1),e=d.updateQueue,n.updateQueue=e,Su(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)Hp(a,e),a=a.sibling;return Gt(Ae,Ae.current&1|2),n.child}e=e.sibling}h.tail!==null&&en()>wu&&(n.flags|=128,l=!0,Ll(h,!1),n.lanes=4194304)}else{if(!l)if(e=lu(d),e!==null){if(n.flags|=128,l=!0,e=e.updateQueue,n.updateQueue=e,Su(n,e),Ll(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!jt)return Jt(n),null}else 2*en()-h.renderingStartTime>wu&&a!==536870912&&(n.flags|=128,l=!0,Ll(h,!1),n.lanes=4194304);h.isBackwards?(d.sibling=n.child,n.child=d):(e=h.last,e!==null?e.sibling=d:n.child=d,h.last=d)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=en(),n.sibling=null,e=Ae.current,Gt(Ae,l?e&1|2:e&1),n):(Jt(n),null);case 22:case 23:return xi(n),Eh(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?a&536870912&&!(n.flags&128)&&(Jt(n),n.subtreeFlags&6&&(n.flags|=8192)):Jt(n),a=n.updateQueue,a!==null&&Su(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),e!==null&&ie(ga),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Oi(be),Jt(n),null;case 25:return null}throw Error(s(156,n.tag))}function AT(e,n){switch(ph(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Oi(be),pi(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return za(n),null;case 13:if(xi(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));pl()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return ie(Ae),null;case 4:return pi(),null;case 10:return Oi(n.type),null;case 22:case 23:return xi(n),Eh(),e!==null&&ie(ga),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Oi(be),null;case 25:return null;default:return null}}function Qp(e,n){switch(ph(n),n.tag){case 3:Oi(be),pi();break;case 26:case 27:case 5:za(n);break;case 4:pi();break;case 13:xi(n);break;case 19:ie(Ae);break;case 10:Oi(n.type);break;case 22:case 23:xi(n),Eh(),e!==null&&ie(ga);break;case 24:Oi(be)}}var bT={getCacheForType:function(e){var n=He(be),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a}},ST=typeof WeakMap=="function"?WeakMap:Map,te=0,$t=null,xt=null,Ut=0,Xt=0,mn=null,ki=!1,vs=!1,gf=!1,zi=0,se=0,br=0,Sa=0,pf=0,On=0,Es=0,Pl=null,ai=null,yf=!1,_f=0,wu=1/0,Ru=null,Sr=null,Cu=!1,wa=null,kl=0,vf=0,Ef=null,zl=0,Tf=null;function gn(){if(te&2&&Ut!==0)return Ut&-Ut;if(b.T!==null){var e=hs;return e!==0?e:xf()}return Oo()}function Kp(){On===0&&(On=!(Ut&536870912)||jt?Zs():536870912);var e=xn.current;return e!==null&&(e.flags|=32),On}function Je(e,n,a){(e===$t&&Xt===2||e.cancelPendingCommit!==null)&&(Ts(e,0),ji(e,Ut,On,!1)),oe(e,a),(!(te&2)||e!==$t)&&(e===$t&&(!(te&2)&&(Sa|=a),se===4&&ji(e,Ut,On,!1)),si(e))}function Yp(e,n,a){if(te&6)throw Error(s(327));var l=!a&&(n&60)===0&&(n&e.expiredLanes)===0||Zi(e,n),h=l?CT(e,n):wf(e,n,!0),d=l;do{if(h===0){vs&&!l&&ji(e,n,0,!1);break}else if(h===6)ji(e,n,0,!ki);else{if(a=e.current.alternate,d&&!wT(a)){h=wf(e,n,!1),d=!1;continue}if(h===2){if(d=n,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;t:{var E=e;h=Pl;var R=E.current.memoizedState.isDehydrated;if(R&&(Ts(E,v).flags|=256),v=wf(E,v,!1),v!==2){if(gf&&!R){E.errorRecoveryDisabledLanes|=d,Sa|=d,h=4;break t}d=ai,ai=h,d!==null&&Af(d)}h=v}if(d=!1,h!==2)continue}}if(h===1){Ts(e,0),ji(e,n,0,!0);break}t:{switch(l=e,h){case 0:case 1:throw Error(s(345));case 4:if((n&4194176)===n){ji(l,n,On,!ki);break t}break;case 2:ai=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=n,(n&62914560)===n&&(d=_f+300-en(),10<d)){if(ji(l,n,On,!ki),vn(l,0)!==0)break t;l.timeoutHandle=_y($p.bind(null,l,a,ai,Ru,yf,n,On,Sa,Es,ki,2,-0,0),d);break t}$p(l,a,ai,Ru,yf,n,On,Sa,Es,ki,0,-0,0)}}break}while(!0);si(e)}function Af(e){ai===null?ai=e:ai.push.apply(ai,e)}function $p(e,n,a,l,h,d,v,E,R,U,K,W,H){var Q=n.subtreeFlags;if((Q&8192||(Q&16785408)===16785408)&&(Gl={stylesheets:null,count:0,unsuspend:sA},zp(n),n=oA(),n!==null)){e.cancelPendingCommit=n(ny.bind(null,e,a,l,h,v,E,R,1,W,H)),ji(e,d,v,!U);return}ny(e,a,l,h,v,E,R,K,W,H)}function wT(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!hn(d(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ji(e,n,a,l){n&=~pf,n&=~Sa,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var h=n;0<h;){var d=31-$e(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&Ji(e,a,n)}function Du(){return te&6?!0:(jl(0),!1)}function bf(){if(xt!==null){if(Xt===0)var e=xt.return;else e=xt,Ni=Ea=null,Dh(e),us=null,El=0,e=xt;for(;e!==null;)Qp(e.alternate,e),e=e.return;xt=null}}function Ts(e,n){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,FT(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),bf(),$t=e,xt=a=Ar(e.current,null),Ut=n,Xt=0,mn=null,ki=!1,vs=Zi(e,n),gf=!1,Es=On=pf=Sa=br=se=0,ai=Pl=null,yf=!1,n&8&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var h=31-$e(l),d=1<<h;n|=e[h],l&=~d}return zi=n,Wo(),a}function Xp(e,n){Ct=null,b.H=ri,n===_l?(n=hg(),Xt=3):n===og?(n=hg(),Xt=4):Xt=n===up?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,mn=n,xt===null&&(se=1,_u(e,Rn(n,e.current)))}function Zp(){var e=b.H;return b.H=ri,e===null?ri:e}function Wp(){var e=b.A;return b.A=bT,e}function Sf(){se=4,ki||(Ut&4194176)!==Ut&&xn.current!==null||(vs=!0),!(br&134217727)&&!(Sa&134217727)||$t===null||ji($t,Ut,On,!1)}function wf(e,n,a){var l=te;te|=2;var h=Zp(),d=Wp();($t!==e||Ut!==n)&&(Ru=null,Ts(e,n)),n=!1;var v=se;t:do try{if(Xt!==0&&xt!==null){var E=xt,R=mn;switch(Xt){case 8:bf(),v=6;break t;case 3:case 2:case 6:xn.current===null&&(n=!0);var U=Xt;if(Xt=0,mn=null,As(e,E,R,U),a&&vs){v=0;break t}break;default:U=Xt,Xt=0,mn=null,As(e,E,R,U)}}RT(),v=se;break}catch(K){Xp(e,K)}while(!0);return n&&e.shellSuspendCounter++,Ni=Ea=null,te=l,b.H=h,b.A=d,xt===null&&($t=null,Ut=0,Wo()),v}function RT(){for(;xt!==null;)Jp(xt)}function CT(e,n){var a=te;te|=2;var l=Zp(),h=Wp();$t!==e||Ut!==n?(Ru=null,wu=en()+500,Ts(e,n)):vs=Zi(e,n);t:do try{if(Xt!==0&&xt!==null){n=xt;var d=mn;e:switch(Xt){case 1:Xt=0,mn=null,As(e,n,d,1);break;case 2:if(ug(d)){Xt=0,mn=null,ty(n);break}n=function(){Xt===2&&$t===e&&(Xt=7),si(e)},d.then(n,n);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:ug(d)?(Xt=0,mn=null,ty(n)):(Xt=0,mn=null,As(e,n,d,7));break;case 5:var v=null;switch(xt.tag){case 26:v=xt.memoizedState;case 5:case 27:var E=xt;if(!v||xy(v)){Xt=0,mn=null;var R=E.sibling;if(R!==null)xt=R;else{var U=E.return;U!==null?(xt=U,xu(U)):xt=null}break e}}Xt=0,mn=null,As(e,n,d,5);break;case 6:Xt=0,mn=null,As(e,n,d,6);break;case 8:bf(),se=6;break t;default:throw Error(s(462))}}DT();break}catch(K){Xp(e,K)}while(!0);return Ni=Ea=null,b.H=l,b.A=h,te=a,xt!==null?0:($t=null,Ut=0,Wo(),se)}function DT(){for(;xt!==null&&!Wc();)Jp(xt)}function Jp(e){var n=Tp(e.alternate,e,zi);e.memoizedProps=e.pendingProps,n===null?xu(e):xt=n}function ty(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=gp(a,n,n.pendingProps,n.type,void 0,Ut);break;case 11:n=gp(a,n,n.pendingProps,n.type.render,n.ref,Ut);break;case 5:Dh(n);default:Qp(a,n),n=xt=Hp(n,zi),n=Tp(a,n,zi)}e.memoizedProps=e.pendingProps,n===null?xu(e):xt=n}function As(e,n,a,l){Ni=Ea=null,Dh(n),us=null,El=0;var h=n.return;try{if(pT(e,h,n,a,Ut)){se=1,_u(e,Rn(a,e.current)),xt=null;return}}catch(d){if(h!==null)throw xt=h,d;se=1,_u(e,Rn(a,e.current)),xt=null;return}n.flags&32768?(jt||l===1?e=!0:vs||Ut&536870912?e=!1:(ki=e=!0,(l===2||l===3||l===6)&&(l=xn.current,l!==null&&l.tag===13&&(l.flags|=16384))),ey(n,e)):xu(n)}function xu(e){var n=e;do{if(n.flags&32768){ey(n,ki);return}e=n.return;var a=TT(n.alternate,n,zi);if(a!==null){xt=a;return}if(n=n.sibling,n!==null){xt=n;return}xt=n=e}while(n!==null);se===0&&(se=5)}function ey(e,n){do{var a=AT(e.alternate,e);if(a!==null){a.flags&=32767,xt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){xt=e;return}xt=e=a}while(e!==null);se=6,xt=null}function ny(e,n,a,l,h,d,v,E,R,U){var K=b.T,W=st.p;try{st.p=2,b.T=null,xT(e,n,a,l,W,h,d,v,E,R,U)}finally{b.T=K,st.p=W}}function xT(e,n,a,l,h,d,v,E){do bs();while(wa!==null);if(te&6)throw Error(s(327));var R=e.finishedWork;if(l=e.finishedLanes,R===null)return null;if(e.finishedWork=null,e.finishedLanes=0,R===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var U=R.lanes|R.childLanes;if(U|=dh,Vo(e,l,U,d,v,E),e===$t&&(xt=$t=null,Ut=0),!(R.subtreeFlags&10256)&&!(R.flags&10256)||Cu||(Cu=!0,vf=U,Ef=a,OT(yi,function(){return bs(),null})),a=(R.flags&15990)!==0,R.subtreeFlags&15990||a?(a=b.T,b.T=null,d=st.p,st.p=2,v=te,te|=4,_T(e,R),Lp(R,e),JE(Pf,e.containerInfo),Bu=!!Lf,Pf=Lf=null,e.current=R,Np(e,R.alternate,R),Ks(),te=v,st.p=d,b.T=a):e.current=R,Cu?(Cu=!1,wa=e,kl=l):iy(e,U),U=e.pendingLanes,U===0&&(Sr=null),$s(R.stateNode),si(e),n!==null)for(h=e.onRecoverableError,R=0;R<n.length;R++)U=n[R],h(U.value,{componentStack:U.stack});return kl&3&&bs(),U=e.pendingLanes,l&4194218&&U&42?e===Tf?zl++:(zl=0,Tf=e):zl=0,jl(0),null}function iy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Al(n)))}function bs(){if(wa!==null){var e=wa,n=vf;vf=0;var a=No(kl),l=b.T,h=st.p;try{if(st.p=32>a?32:a,b.T=null,wa===null)var d=!1;else{a=Ef,Ef=null;var v=wa,E=kl;if(wa=null,kl=0,te&6)throw Error(s(331));var R=te;if(te|=4,Bp(v.current),kp(v,v.current,E,a),te=R,jl(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot($i,v)}catch{}d=!0}return d}finally{st.p=h,b.T=l,iy(e,n)}}return!1}function ry(e,n,a){n=Rn(a,n),n=qh(e.stateNode,n,2),e=_r(e,n,2),e!==null&&(oe(e,2),si(e))}function Yt(e,n,a){if(e.tag===3)ry(e,e,a);else for(;n!==null;){if(n.tag===3){ry(n,e,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Sr===null||!Sr.has(l))){e=Rn(a,e),a=lp(2),l=_r(n,a,2),l!==null&&(op(a,l,n,e),oe(l,2),si(l));break}}n=n.return}}function Rf(e,n,a){var l=e.pingCache;if(l===null){l=e.pingCache=new ST;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(a)||(gf=!0,h.add(a),e=IT.bind(null,e,n,a),n.then(e,e))}function IT(e,n,a){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,$t===e&&(Ut&a)===a&&(se===4||se===3&&(Ut&62914560)===Ut&&300>en()-_f?!(te&2)&&Ts(e,0):pf|=a,Es===Ut&&(Es=0)),si(e)}function ay(e,n){n===0&&(n=Wi()),e=cr(e,n),e!==null&&(oe(e,n),si(e))}function VT(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),ay(e,a)}function NT(e,n){var a=0;switch(e.tag){case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),ay(e,a)}function OT(e,n){return $r(e,n)}var Iu=null,Ss=null,Cf=!1,Vu=!1,Df=!1,Ra=0;function si(e){e!==Ss&&e.next===null&&(Ss===null?Iu=Ss=e:Ss=Ss.next=e),Vu=!0,Cf||(Cf=!0,UT(MT))}function jl(e,n){if(!Df&&Vu){Df=!0;do for(var a=!1,l=Iu;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,E=l.pingedLanes;d=(1<<31-$e(42|e)+1)-1,d&=h&~(v&~E),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(a=!0,oy(l,d))}else d=Ut,d=vn(l,l===$t?d:0),!(d&3)||Zi(l,d)||(a=!0,oy(l,d));l=l.next}while(a);Df=!1}}function MT(){Vu=Cf=!1;var e=0;Ra!==0&&(HT()&&(e=Ra),Ra=0);for(var n=en(),a=null,l=Iu;l!==null;){var h=l.next,d=sy(l,n);d===0?(l.next=null,a===null?Iu=h:a.next=h,h===null&&(Ss=a)):(a=l,(e!==0||d&3)&&(Vu=!0)),l=h}jl(e)}function sy(e,n){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-$e(d),E=1<<v,R=h[v];R===-1?(!(E&a)||E&l)&&(h[v]=qa(E,n)):R<=n&&(e.expiredLanes|=E),d&=~E}if(n=$t,a=Ut,a=vn(e,e===n?a:0),l=e.callbackNode,a===0||e===n&&Xt===2||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Ba(l),e.callbackNode=null,e.callbackPriority=0;if(!(a&3)||Zi(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(l!==null&&Ba(l),No(a)){case 2:case 8:a=Ce;break;case 32:a=yi;break;case 268435456:a=Ys;break;default:a=yi}return l=ly.bind(null,e),a=$r(a,l),e.callbackPriority=n,e.callbackNode=a,n}return l!==null&&l!==null&&Ba(l),e.callbackPriority=2,e.callbackNode=null,2}function ly(e,n){var a=e.callbackNode;if(bs()&&e.callbackNode!==a)return null;var l=Ut;return l=vn(e,e===$t?l:0),l===0?null:(Yp(e,l,n),sy(e,en()),e.callbackNode!=null&&e.callbackNode===a?ly.bind(null,e):null)}function oy(e,n){if(bs())return null;Yp(e,n,!0)}function UT(e){GT(function(){te&6?$r(_e,e):e()})}function xf(){return Ra===0&&(Ra=Zs()),Ra}function uy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:$n(""+e)}function cy(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function LT(e,n,a,l,h){if(n==="submit"&&a&&a.stateNode===h){var d=uy((h[ve]||null).action),v=l.submitter;v&&(n=(n=v[ve]||null)?uy(n.formAction):v.getAttribute("formAction"),n!==null&&(d=n,v=null));var E=new $a("action","action",null,l,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ra!==0){var R=v?cy(h,v):new FormData(h);Ph(a,{pending:!0,data:R,method:h.method,action:d},null,R)}}else typeof d=="function"&&(E.preventDefault(),R=v?cy(h,v):new FormData(h),Ph(a,{pending:!0,data:R,method:h.method,action:d},d,R))},currentTarget:h}]})}}for(var If=0;If<ng.length;If++){var Vf=ng[If],PT=Vf.toLowerCase(),kT=Vf[0].toUpperCase()+Vf.slice(1);zn(PT,"on"+kT)}zn(Zm,"onAnimationEnd"),zn(Wm,"onAnimationIteration"),zn(Jm,"onAnimationStart"),zn("dblclick","onDoubleClick"),zn("focusin","onFocus"),zn("focusout","onBlur"),zn(eT,"onTransitionRun"),zn(nT,"onTransitionStart"),zn(iT,"onTransitionCancel"),zn(tg,"onTransitionEnd"),nn("onMouseEnter",["mouseout","mouseover"]),nn("onMouseLeave",["mouseout","mouseover"]),nn("onPointerEnter",["pointerout","pointerover"]),nn("onPointerLeave",["pointerout","pointerover"]),un("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),un("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),un("onBeforeInput",["compositionend","keypress","textInput","paste"]),un("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),un("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),un("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bl));function hy(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(n)for(var v=l.length-1;0<=v;v--){var E=l[v],R=E.instance,U=E.currentTarget;if(E=E.listener,R!==d&&h.isPropagationStopped())break t;d=E,h.currentTarget=U;try{d(h)}catch(K){yu(K)}h.currentTarget=null,d=R}else for(v=0;v<l.length;v++){if(E=l[v],R=E.instance,U=E.currentTarget,E=E.listener,R!==d&&h.isPropagationStopped())break t;d=E,h.currentTarget=U;try{d(h)}catch(K){yu(K)}h.currentTarget=null,d=R}}}}function Nt(e,n){var a=n[Zr];a===void 0&&(a=n[Zr]=new Set);var l=e+"__bubble";a.has(l)||(fy(n,e,2,!1),a.add(l))}function Nf(e,n,a){var l=0;n&&(l|=4),fy(a,e,l,n)}var Nu="_reactListening"+Math.random().toString(36).slice(2);function Of(e){if(!e[Nu]){e[Nu]=!0,Js.forEach(function(a){a!=="selectionchange"&&(zT.has(a)||Nf(a,!1,e),Nf(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Nu]||(n[Nu]=!0,Nf("selectionchange",!1,n))}}function fy(e,n,a,l){switch(Uy(n)){case 2:var h=hA;break;case 8:h=fA;break;default:h=Qf}a=h.bind(null,n,a,e),h=void 0,!bn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(n,a,{capture:!0,passive:h}):e.addEventListener(n,a,!0):h!==void 0?e.addEventListener(n,a,{passive:h}):e.addEventListener(n,a,!1)}function Mf(e,n,a,l,h){var d=l;if(!(n&1)&&!(n&2)&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var E=l.stateNode.containerInfo;if(E===h||E.nodeType===8&&E.parentNode===h)break;if(v===4)for(v=l.return;v!==null;){var R=v.tag;if((R===3||R===4)&&(R=v.stateNode.containerInfo,R===h||R.nodeType===8&&R.parentNode===h))return;v=v.return}for(;E!==null;){if(v=kn(E),v===null)return;if(R=v.tag,R===5||R===6||R===26||R===27){l=d=v;continue t}E=E.parentNode}}l=l.return}Po(function(){var U=d,K=Ya(a),W=[];t:{var H=eg.get(e);if(H!==void 0){var Q=$a,ct=e;switch(e){case"keypress":if(Zn(a)===0)break t;case"keydown":case"keyup":Q=es;break;case"focusin":ct="focus",Q=Wa;break;case"focusout":ct="blur",Q=Wa;break;case"beforeblur":case"afterblur":Q=Wa;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Sn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=ah;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Go;break;case Zm:case Wm:case Jm:Q=Ja;break;case tg:Q=Ko;break;case"scroll":case"scrollend":Q=ko;break;case"wheel":Q=ns;break;case"copy":case"cut":case"paste":Q=ts;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=hl;break;case"toggle":case"beforetoggle":Q=$o}var Tt=(n&4)!==0,le=!Tt&&(e==="scroll"||e==="scrollend"),P=Tt?H!==null?H+"Capture":null:H;Tt=[];for(var N=U,B;N!==null;){var $=N;if(B=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||B===null||P===null||($=na(N,P),$!=null&&Tt.push(ql(N,$,B))),le)break;N=N.return}0<Tt.length&&(H=new Q(H,ct,null,a,K),W.push({event:H,listeners:Tt}))}}if(!(n&7)){t:{if(H=e==="mouseover"||e==="pointerover",Q=e==="mouseout"||e==="pointerout",H&&a!==An&&(ct=a.relatedTarget||a.fromElement)&&(kn(ct)||ct[_i]))break t;if((Q||H)&&(H=K.window===K?K:(H=K.ownerDocument)?H.defaultView||H.parentWindow:window,Q?(ct=a.relatedTarget||a.toElement,Q=U,ct=ct?kn(ct):null,ct!==null&&(le=mt(ct),Tt=ct.tag,ct!==le||Tt!==5&&Tt!==27&&Tt!==6)&&(ct=null)):(Q=null,ct=U),Q!==ct)){if(Tt=Sn,$="onMouseLeave",P="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(Tt=hl,$="onPointerLeave",P="onPointerEnter",N="pointer"),le=Q==null?H:ir(Q),B=ct==null?H:ir(ct),H=new Tt($,N+"leave",Q,a,K),H.target=le,H.relatedTarget=B,$=null,kn(K)===U&&(Tt=new Tt(P,N+"enter",ct,a,K),Tt.target=B,Tt.relatedTarget=le,$=Tt),le=$,Q&&ct)e:{for(Tt=Q,P=ct,N=0,B=Tt;B;B=ws(B))N++;for(B=0,$=P;$;$=ws($))B++;for(;0<N-B;)Tt=ws(Tt),N--;for(;0<B-N;)P=ws(P),B--;for(;N--;){if(Tt===P||P!==null&&Tt===P.alternate)break e;Tt=ws(Tt),P=ws(P)}Tt=null}else Tt=null;Q!==null&&dy(W,H,Q,Tt,!1),ct!==null&&le!==null&&dy(W,le,ct,Tt,!0)}}t:{if(H=U?ir(U):window,Q=H.nodeName&&H.nodeName.toLowerCase(),Q==="select"||Q==="input"&&H.type==="file")var ot=jm;else if(Te(H))if(Bm)ot=ZE;else{ot=$E;var Dt=YE}else Q=H.nodeName,!Q||Q.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?U&&rl(U.elementType)&&(ot=jm):ot=XE;if(ot&&(ot=ot(e,U))){Ri(W,ot,a,K);break t}Dt&&Dt(e,H,U),e==="focusout"&&U&&H.type==="number"&&U.memoizedProps.value!=null&&Ka(H,"number",H.value)}switch(Dt=U?ir(U):window,e){case"focusin":(Te(Dt)||Dt.contentEditable==="true")&&(is=Dt,ch=U,ml=null);break;case"focusout":ml=ch=is=null;break;case"mousedown":hh=!0;break;case"contextmenu":case"mouseup":case"dragend":hh=!1,$m(W,a,K);break;case"selectionchange":if(tT)break;case"keydown":case"keyup":$m(W,a,K)}var ft;if(ti)t:{switch(e){case"compositionstart":var yt="onCompositionStart";break t;case"compositionend":yt="onCompositionEnd";break t;case"compositionupdate":yt="onCompositionUpdate";break t}yt=void 0}else Ot?F(e,a)&&(yt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(yt="onCompositionStart");yt&&(_&&a.locale!=="ko"&&(Ot||yt!=="onCompositionStart"?yt==="onCompositionEnd"&&Ot&&(ft=sl()):(Xn=K,ur="value"in Xn?Xn.value:Xn.textContent,Ot=!0)),Dt=Ou(U,yt),0<Dt.length&&(yt=new ul(yt,e,null,a,K),W.push({event:yt,listeners:Dt}),ft?yt.data=ft:(ft=it(a),ft!==null&&(yt.data=ft)))),(ft=g?Ee(e,a):Mt(e,a))&&(yt=Ou(U,"onBeforeInput"),0<yt.length&&(Dt=new ul("onBeforeInput","beforeinput",null,a,K),W.push({event:Dt,listeners:yt}),Dt.data=ft)),LT(W,e,U,a,K)}hy(W,n)})}function ql(e,n,a){return{instance:e,listener:n,currentTarget:a}}function Ou(e,n){for(var a=n+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=na(e,a),h!=null&&l.unshift(ql(e,h,d)),h=na(e,n),h!=null&&l.push(ql(e,h,d))),e=e.return}return l}function ws(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function dy(e,n,a,l,h){for(var d=n._reactName,v=[];a!==null&&a!==l;){var E=a,R=E.alternate,U=E.stateNode;if(E=E.tag,R!==null&&R===l)break;E!==5&&E!==26&&E!==27||U===null||(R=U,h?(U=na(a,d),U!=null&&v.unshift(ql(a,U,R))):h||(U=na(a,d),U!=null&&v.push(ql(a,U,R)))),a=a.return}v.length!==0&&e.push({event:n,listeners:v})}var jT=/\r\n?/g,BT=/\u0000|\uFFFD/g;function my(e){return(typeof e=="string"?e:""+e).replace(jT,`
`).replace(BT,"")}function gy(e,n){return n=my(n),my(e)===n}function Mu(){}function Kt(e,n,a,l,h,d){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Tn(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Tn(e,""+l);break;case"className":sr(e,"class",l);break;case"tabIndex":sr(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":sr(e,a,l);break;case"style":Lo(e,l,d);break;case"data":if(n!=="object"){sr(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=$n(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(n!=="input"&&Kt(e,n,"name",h.name,h,null),Kt(e,n,"formEncType",h.formEncType,h,null),Kt(e,n,"formMethod",h.formMethod,h,null),Kt(e,n,"formTarget",h.formTarget,h,null)):(Kt(e,n,"encType",h.encType,h,null),Kt(e,n,"method",h.method,h,null),Kt(e,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=$n(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Mu);break;case"onScroll":l!=null&&Nt("scroll",e);break;case"onScrollEnd":l!=null&&Nt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=$n(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Nt("beforetoggle",e),Nt("toggle",e),ar(e,"popover",l);break;case"xlinkActuate":En(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":En(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":En(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":En(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":En(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":En(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":En(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":En(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":En(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ar(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ih.get(a)||a,ar(e,a,l))}}function Uf(e,n,a,l,h,d){switch(a){case"style":Lo(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?Tn(e,l):(typeof l=="number"||typeof l=="bigint")&&Tn(e,""+l);break;case"onScroll":l!=null&&Nt("scroll",e);break;case"onScrollEnd":l!=null&&Nt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Mu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ga.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),d=e[ve]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(n,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):ar(e,a,l)}}}function ke(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",e),Nt("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Kt(e,n,d,v,a,null)}}h&&Kt(e,n,"srcSet",a.srcSet,a,null),l&&Kt(e,n,"src",a.src,a,null);return;case"input":Nt("invalid",e);var E=d=v=h=null,R=null,U=null;for(l in a)if(a.hasOwnProperty(l)){var K=a[l];if(K!=null)switch(l){case"name":h=K;break;case"type":v=K;break;case"checked":R=K;break;case"defaultChecked":U=K;break;case"value":d=K;break;case"defaultValue":E=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,n));break;default:Kt(e,n,l,K,a,null)}}ta(e,d,E,R,U,v,h,!1),Jr(e);return;case"select":Nt("invalid",e),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":d=E;break;case"defaultValue":v=E;break;case"multiple":l=E;default:Kt(e,n,h,E,a,null)}n=d,a=v,e.multiple=!!l,n!=null?zt(e,!!l,n,!1):a!=null&&zt(e,!!l,a,!0);return;case"textarea":Nt("invalid",e),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(E=a[v],E!=null))switch(v){case"value":l=E;break;case"defaultValue":h=E;break;case"children":d=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Kt(e,n,v,E,a,null)}or(e,l,h,d),Jr(e);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(l=a[R],l!=null))switch(R){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Kt(e,n,R,l,a,null)}return;case"dialog":Nt("cancel",e),Nt("close",e);break;case"iframe":case"object":Nt("load",e);break;case"video":case"audio":for(l=0;l<Bl.length;l++)Nt(Bl[l],e);break;case"image":Nt("error",e),Nt("load",e);break;case"details":Nt("toggle",e);break;case"embed":case"source":case"link":Nt("error",e),Nt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in a)if(a.hasOwnProperty(U)&&(l=a[U],l!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Kt(e,n,U,l,a,null)}return;default:if(rl(n)){for(K in a)a.hasOwnProperty(K)&&(l=a[K],l!==void 0&&Uf(e,n,K,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Kt(e,n,E,l,a,null))}function qT(e,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,E=null,R=null,U=null,K=null;for(Q in a){var W=a[Q];if(a.hasOwnProperty(Q)&&W!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":R=W;default:l.hasOwnProperty(Q)||Kt(e,n,Q,null,l,W)}}for(var H in l){var Q=l[H];if(W=a[H],l.hasOwnProperty(H)&&(Q!=null||W!=null))switch(H){case"type":d=Q;break;case"name":h=Q;break;case"checked":U=Q;break;case"defaultChecked":K=Q;break;case"value":v=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,n));break;default:Q!==W&&Kt(e,n,H,Q,l,W)}}lr(e,v,E,R,U,K,d,h);return;case"select":Q=v=E=H=null;for(d in a)if(R=a[d],a.hasOwnProperty(d)&&R!=null)switch(d){case"value":break;case"multiple":Q=R;default:l.hasOwnProperty(d)||Kt(e,n,d,null,l,R)}for(h in l)if(d=l[h],R=a[h],l.hasOwnProperty(h)&&(d!=null||R!=null))switch(h){case"value":H=d;break;case"defaultValue":E=d;break;case"multiple":v=d;default:d!==R&&Kt(e,n,h,d,l,R)}n=E,a=v,l=Q,H!=null?zt(e,!!a,H,!1):!!l!=!!a&&(n!=null?zt(e,!!a,n,!0):zt(e,!!a,a?[]:"",!1));return;case"textarea":Q=H=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Kt(e,n,E,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":H=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Kt(e,n,v,h,l,d)}ea(e,H,Q);return;case"option":for(var ct in a)if(H=a[ct],a.hasOwnProperty(ct)&&H!=null&&!l.hasOwnProperty(ct))switch(ct){case"selected":e.selected=!1;break;default:Kt(e,n,ct,null,l,H)}for(R in l)if(H=l[R],Q=a[R],l.hasOwnProperty(R)&&H!==Q&&(H!=null||Q!=null))switch(R){case"selected":e.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Kt(e,n,R,H,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Tt in a)H=a[Tt],a.hasOwnProperty(Tt)&&H!=null&&!l.hasOwnProperty(Tt)&&Kt(e,n,Tt,null,l,H);for(U in l)if(H=l[U],Q=a[U],l.hasOwnProperty(U)&&H!==Q&&(H!=null||Q!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,n));break;default:Kt(e,n,U,H,l,Q)}return;default:if(rl(n)){for(var le in a)H=a[le],a.hasOwnProperty(le)&&H!==void 0&&!l.hasOwnProperty(le)&&Uf(e,n,le,void 0,l,H);for(K in l)H=l[K],Q=a[K],!l.hasOwnProperty(K)||H===Q||H===void 0&&Q===void 0||Uf(e,n,K,H,l,Q);return}}for(var P in a)H=a[P],a.hasOwnProperty(P)&&H!=null&&!l.hasOwnProperty(P)&&Kt(e,n,P,null,l,H);for(W in l)H=l[W],Q=a[W],!l.hasOwnProperty(W)||H===Q||H==null&&Q==null||Kt(e,n,W,H,l,Q)}var Lf=null,Pf=null;function Uu(e){return e.nodeType===9?e:e.ownerDocument}function py(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function kf(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var zf=null;function HT(){var e=window.event;return e&&e.type==="popstate"?e===zf?!1:(zf=e,!0):(zf=null,!1)}var _y=typeof setTimeout=="function"?setTimeout:void 0,FT=typeof clearTimeout=="function"?clearTimeout:void 0,vy=typeof Promise=="function"?Promise:void 0,GT=typeof queueMicrotask=="function"?queueMicrotask:typeof vy<"u"?function(e){return vy.resolve(null).then(e).catch(QT)}:_y;function QT(e){setTimeout(function(){throw e})}function jf(e,n){var a=n,l=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(l===0){e.removeChild(h),Xl(n);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=h}while(a);Xl(n)}function Bf(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Bf(a),Wr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function KT(e,n,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[nr])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=qn(e.nextSibling),e===null)break}return null}function YT(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=qn(e.nextSibling),e===null))return null;return e}function qn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}function Ey(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return e;n--}else a==="/$"&&n++}e=e.previousSibling}return null}function Ty(e,n,a){switch(n=Uu(a),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}var Mn=new Map,Ay=new Set;function Lu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.ownerDocument}var Bi=st.d;st.d={f:$T,r:XT,D:ZT,C:WT,L:JT,m:tA,X:nA,S:eA,M:iA};function $T(){var e=Bi.f(),n=Du();return e||n}function XT(e){var n=vi(e);n!==null&&n.tag===5&&n.type==="form"?$g(n):Bi.r(e)}var Rs=typeof document>"u"?null:document;function by(e,n,a){var l=Rs;if(l&&typeof n=="string"&&n){var h=re(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Ay.has(h)||(Ay.add(h),e={rel:e,crossOrigin:a,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),ke(n,"link",e),Wt(n),l.head.appendChild(n)))}}function ZT(e){Bi.D(e),by("dns-prefetch",e,null)}function WT(e,n){Bi.C(e,n),by("preconnect",e,n)}function JT(e,n,a){Bi.L(e,n,a);var l=Rs;if(l&&e&&n){var h='link[rel="preload"][as="'+re(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+re(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+re(a.imageSizes)+'"]')):h+='[href="'+re(e)+'"]';var d=h;switch(n){case"style":d=Cs(e);break;case"script":d=Ds(e)}Mn.has(d)||(e=D({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),Mn.set(d,e),l.querySelector(h)!==null||n==="style"&&l.querySelector(Hl(d))||n==="script"&&l.querySelector(Fl(d))||(n=l.createElement("link"),ke(n,"link",e),Wt(n),l.head.appendChild(n)))}}function tA(e,n){Bi.m(e,n);var a=Rs;if(a&&e){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+re(l)+'"][href="'+re(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ds(e)}if(!Mn.has(d)&&(e=D({rel:"modulepreload",href:e},n),Mn.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Fl(d)))return}l=a.createElement("link"),ke(l,"link",e),Wt(l),a.head.appendChild(l)}}}function eA(e,n,a){Bi.S(e,n,a);var l=Rs;if(l&&e){var h=rr(l).hoistableStyles,d=Cs(e);n=n||"default";var v=h.get(d);if(!v){var E={loading:0,preload:null};if(v=l.querySelector(Hl(d)))E.loading=5;else{e=D({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Mn.get(d))&&qf(e,a);var R=v=l.createElement("link");Wt(R),ke(R,"link",e),R._p=new Promise(function(U,K){R.onload=U,R.onerror=K}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Pu(v,n,l)}v={type:"stylesheet",instance:v,count:1,state:E},h.set(d,v)}}}function nA(e,n){Bi.X(e,n);var a=Rs;if(a&&e){var l=rr(a).hoistableScripts,h=Ds(e),d=l.get(h);d||(d=a.querySelector(Fl(h)),d||(e=D({src:e,async:!0},n),(n=Mn.get(h))&&Hf(e,n),d=a.createElement("script"),Wt(d),ke(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function iA(e,n){Bi.M(e,n);var a=Rs;if(a&&e){var l=rr(a).hoistableScripts,h=Ds(e),d=l.get(h);d||(d=a.querySelector(Fl(h)),d||(e=D({src:e,async:!0,type:"module"},n),(n=Mn.get(h))&&Hf(e,n),d=a.createElement("script"),Wt(d),ke(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Sy(e,n,a,l){var h=(h=_n.current)?Lu(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Cs(a.href),a=rr(h).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Cs(a.href);var d=rr(h).hoistableStyles,v=d.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=h.querySelector(Hl(e)))&&!d._p&&(v.instance=d,v.state.loading=5),Mn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Mn.set(e,a),d||rA(h,e,a,v.state))),n&&l===null)throw Error(s(528,""));return v}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ds(a),a=rr(h).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Cs(e){return'href="'+re(e)+'"'}function Hl(e){return'link[rel="stylesheet"]['+e+"]"}function wy(e){return D({},e,{"data-precedence":e.precedence,precedence:null})}function rA(e,n,a,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ke(n,"link",a),Wt(n),e.head.appendChild(n))}function Ds(e){return'[src="'+re(e)+'"]'}function Fl(e){return"script[async]"+e}function Ry(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+re(a.href)+'"]');if(l)return n.instance=l,Wt(l),l;var h=D({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Wt(l),ke(l,"style",h),Pu(l,a.precedence,e),n.instance=l;case"stylesheet":h=Cs(a.href);var d=e.querySelector(Hl(h));if(d)return n.state.loading|=4,n.instance=d,Wt(d),d;l=wy(a),(h=Mn.get(h))&&qf(l,h),d=(e.ownerDocument||e).createElement("link"),Wt(d);var v=d;return v._p=new Promise(function(E,R){v.onload=E,v.onerror=R}),ke(d,"link",l),n.state.loading|=4,Pu(d,a.precedence,e),n.instance=d;case"script":return d=Ds(a.src),(h=e.querySelector(Fl(d)))?(n.instance=h,Wt(h),h):(l=a,(h=Mn.get(d))&&(l=D({},a),Hf(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),Wt(h),ke(h,"link",l),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&!(n.state.loading&4)&&(l=n.instance,n.state.loading|=4,Pu(l,a.precedence,e));return n.instance}function Pu(e,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var E=l[v];if(E.dataset.precedence===n)d=E;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function qf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Hf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var ku=null;function Cy(e,n,a){if(ku===null){var l=new Map,h=ku=new Map;h.set(a,l)}else h=ku,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[nr]||d[De]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(n)||"";v=e+v;var E=l.get(v);E?E.push(d):l.set(v,[d])}}return l}function Dy(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function aA(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function xy(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var Gl=null;function sA(){}function lA(e,n,a){if(Gl===null)throw Error(s(475));var l=Gl;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var h=Cs(a.href),d=e.querySelector(Hl(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=zu.bind(l),e.then(l,l)),n.state.loading|=4,n.instance=d,Wt(d);return}d=e.ownerDocument||e,a=wy(a),(h=Mn.get(h))&&qf(a,h),d=d.createElement("link"),Wt(d);var v=d;v._p=new Promise(function(E,R){v.onload=E,v.onerror=R}),ke(d,"link",a),n.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(l.count++,n=zu.bind(l),e.addEventListener("load",n),e.addEventListener("error",n))}}function oA(){if(Gl===null)throw Error(s(475));var e=Gl;return e.stylesheets&&e.count===0&&Ff(e,e.stylesheets),0<e.count?function(n){var a=setTimeout(function(){if(e.stylesheets&&Ff(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a)}}:null}function zu(){if(this.count--,this.count===0){if(this.stylesheets)Ff(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ju=null;function Ff(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ju=new Map,n.forEach(uA,e),ju=null,zu.call(e))}function uA(e,n){if(!(n.state.loading&4)){var a=ju.get(e);if(a)var l=a.get(null);else{a=new Map,ju.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=n.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=zu.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var Ql={$$typeof:I,Provider:null,Consumer:null,_currentValue:Rt,_currentValue2:Rt,_threadCount:0};function cA(e,n,a,l,h,d,v,E){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ha(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ha(0),this.hiddenUpdates=Ha(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Iy(e,n,a,l,h,d,v,E,R,U,K,W){return e=new cA(e,n,a,v,E,R,U,W),n=1,d===!0&&(n|=24),d=Nn(3,null,null,n),e.current=d,d.stateNode=e,n=Th(),n.refCount++,e.pooledCache=n,n.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:n},ef(d),e}function Vy(e){return e?(e=ss,e):ss}function Ny(e,n,a,l,h,d){h=Vy(h),l.context===null?l.context=h:l.pendingContext=h,l=yr(n),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=_r(e,l,n),a!==null&&(Je(a,e,n),xl(a,e,n))}function Oy(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Gf(e,n){Oy(e,n),(e=e.alternate)&&Oy(e,n)}function My(e){if(e.tag===13){var n=cr(e,67108864);n!==null&&Je(n,e,67108864),Gf(e,67108864)}}var Bu=!0;function hA(e,n,a,l){var h=b.T;b.T=null;var d=st.p;try{st.p=2,Qf(e,n,a,l)}finally{st.p=d,b.T=h}}function fA(e,n,a,l){var h=b.T;b.T=null;var d=st.p;try{st.p=8,Qf(e,n,a,l)}finally{st.p=d,b.T=h}}function Qf(e,n,a,l){if(Bu){var h=Kf(l);if(h===null)Mf(e,n,l,qu,a),Ly(e,l);else if(mA(h,e,n,a,l))l.stopPropagation();else if(Ly(e,l),n&4&&-1<dA.indexOf(e)){for(;h!==null;){var d=vi(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Pn(d.pendingLanes);if(v!==0){var E=d;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var R=1<<31-$e(v);E.entanglements[1]|=R,v&=~R}si(d),!(te&6)&&(wu=en()+500,jl(0))}}break;case 13:E=cr(d,2),E!==null&&Je(E,d,2),Du(),Gf(d,2)}if(d=Kf(l),d===null&&Mf(e,n,l,qu,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Mf(e,n,l,null,a)}}function Kf(e){return e=Ya(e),Yf(e)}var qu=null;function Yf(e){if(qu=null,e=kn(e),e!==null){var n=mt(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=qt(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return qu=e,null}function Uy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Co()){case _e:return 2;case Ce:return 8;case yi:case Do:return 32;case Ys:return 268435456;default:return 32}default:return 32}}var $f=!1,wr=null,Rr=null,Cr=null,Kl=new Map,Yl=new Map,Dr=[],dA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ly(e,n){switch(e){case"focusin":case"focusout":wr=null;break;case"dragenter":case"dragleave":Rr=null;break;case"mouseover":case"mouseout":Cr=null;break;case"pointerover":case"pointerout":Kl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yl.delete(n.pointerId)}}function $l(e,n,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},n!==null&&(n=vi(n),n!==null&&My(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function mA(e,n,a,l,h){switch(n){case"focusin":return wr=$l(wr,e,n,a,l,h),!0;case"dragenter":return Rr=$l(Rr,e,n,a,l,h),!0;case"mouseover":return Cr=$l(Cr,e,n,a,l,h),!0;case"pointerover":var d=h.pointerId;return Kl.set(d,$l(Kl.get(d)||null,e,n,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Yl.set(d,$l(Yl.get(d)||null,e,n,a,l,h)),!0}return!1}function Py(e){var n=kn(e.target);if(n!==null){var a=mt(n);if(a!==null){if(n=a.tag,n===13){if(n=qt(a),n!==null){e.blockedOn=n,er(e.priority,function(){if(a.tag===13){var l=gn(),h=cr(a,l);h!==null&&Je(h,a,l),Gf(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Hu(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=Kf(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);An=l,a.target.dispatchEvent(l),An=null}else return n=vi(a),n!==null&&My(n),e.blockedOn=a,!1;n.shift()}return!0}function ky(e,n,a){Hu(e)&&a.delete(n)}function gA(){$f=!1,wr!==null&&Hu(wr)&&(wr=null),Rr!==null&&Hu(Rr)&&(Rr=null),Cr!==null&&Hu(Cr)&&(Cr=null),Kl.forEach(ky),Yl.forEach(ky)}function Fu(e,n){e.blockedOn===n&&(e.blockedOn=null,$f||($f=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,gA)))}var Gu=null;function zy(e){Gu!==e&&(Gu=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Gu===e&&(Gu=null);for(var n=0;n<e.length;n+=3){var a=e[n],l=e[n+1],h=e[n+2];if(typeof l!="function"){if(Yf(l||a)===null)continue;break}var d=vi(a);d!==null&&(e.splice(n,3),n-=3,Ph(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Xl(e){function n(R){return Fu(R,e)}wr!==null&&Fu(wr,e),Rr!==null&&Fu(Rr,e),Cr!==null&&Fu(Cr,e),Kl.forEach(n),Yl.forEach(n);for(var a=0;a<Dr.length;a++){var l=Dr[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Dr.length&&(a=Dr[0],a.blockedOn===null);)Py(a),a.blockedOn===null&&Dr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[ve]||null;if(typeof d=="function")v||zy(a);else if(v){var E=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[ve]||null)E=v.formAction;else if(Yf(h)!==null)continue}else E=v.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),zy(a)}}}function Xf(e){this._internalRoot=e}Qu.prototype.render=Xf.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=gn();Ny(a,l,e,n,null,null)},Qu.prototype.unmount=Xf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;e.tag===0&&bs(),Ny(e.current,2,null,e,null,null),Du(),n[_i]=null}};function Qu(e){this._internalRoot=e}Qu.prototype.unstable_scheduleHydration=function(e){if(e){var n=Oo();e={blockedOn:null,target:e,priority:n};for(var a=0;a<Dr.length&&n!==0&&n<Dr[a].priority;a++);Dr.splice(a,0,e),a===0&&Py(e)}};var jy=t.version;if(jy!=="19.0.0")throw Error(s(527,jy,"19.0.0"));st.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=nt(n),e=e!==null?ht(e):null,e=e===null?null:e.stateNode,e};var pA={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:b,findFiberByHostInstance:kn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ku=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ku.isDisabled&&Ku.supportsFiber)try{$i=Ku.inject(pA),qe=Ku}catch{}}return Wl.createRoot=function(e,n){if(!o(e))throw Error(s(299));var a=!1,l="",h=ip,d=rp,v=ap,E=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=Iy(e,1,!1,null,null,a,l,h,d,v,E,null),e[_i]=n.current,Of(e.nodeType===8?e.parentNode:e),new Xf(n)},Wl.hydrateRoot=function(e,n,a){if(!o(e))throw Error(s(299));var l=!1,h="",d=ip,v=rp,E=ap,R=null,U=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(R=a.unstable_transitionCallbacks),a.formState!==void 0&&(U=a.formState)),n=Iy(e,1,!0,n,a??null,l,h,d,v,E,R,U),n.context=Vy(null),a=n.current,l=gn(),h=yr(l),h.callback=null,_r(a,h,l),n.current.lanes=l,oe(n,l),si(n),e[_i]=n.current,Of(e),new Qu(n)},Wl.version="19.0.0",Wl}var Xy;function RA(){if(Xy)return Jf.exports;Xy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Jf.exports=wA(),Jf.exports}var CA=RA(),Jl={},Zy;function DA(){if(Zy)return Jl;Zy=1,Object.defineProperty(Jl,"__esModule",{value:!0}),Jl.parse=f,Jl.serialize=y;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,c=(()=>{const C=function(){};return C.prototype=Object.create(null),C})();function f(C,I){const z=new c,q=C.length;if(q<2)return z;const L=(I==null?void 0:I.decode)||T;let Y=0;do{const tt=C.indexOf("=",Y);if(tt===-1)break;const et=C.indexOf(";",Y),gt=et===-1?q:et;if(tt>gt){Y=C.lastIndexOf(";",tt-1)+1;continue}const ut=m(C,Y,tt),bt=p(C,tt,ut),O=C.slice(ut,bt);if(z[O]===void 0){let w=m(C,tt+1,gt),b=p(C,gt,w);const D=L(C.slice(w,b));z[O]=D}Y=gt+1}while(Y<q);return z}function m(C,I,z){do{const q=C.charCodeAt(I);if(q!==32&&q!==9)return I}while(++I<z);return z}function p(C,I,z){for(;I>z;){const q=C.charCodeAt(--I);if(q!==32&&q!==9)return I+1}return z}function y(C,I,z){const q=(z==null?void 0:z.encode)||encodeURIComponent;if(!r.test(C))throw new TypeError(`argument name is invalid: ${C}`);const L=q(I);if(!t.test(L))throw new TypeError(`argument val is invalid: ${I}`);let Y=C+"="+L;if(!z)return Y;if(z.maxAge!==void 0){if(!Number.isInteger(z.maxAge))throw new TypeError(`option maxAge is invalid: ${z.maxAge}`);Y+="; Max-Age="+z.maxAge}if(z.domain){if(!i.test(z.domain))throw new TypeError(`option domain is invalid: ${z.domain}`);Y+="; Domain="+z.domain}if(z.path){if(!s.test(z.path))throw new TypeError(`option path is invalid: ${z.path}`);Y+="; Path="+z.path}if(z.expires){if(!S(z.expires)||!Number.isFinite(z.expires.valueOf()))throw new TypeError(`option expires is invalid: ${z.expires}`);Y+="; Expires="+z.expires.toUTCString()}if(z.httpOnly&&(Y+="; HttpOnly"),z.secure&&(Y+="; Secure"),z.partitioned&&(Y+="; Partitioned"),z.priority)switch(typeof z.priority=="string"?z.priority.toLowerCase():void 0){case"low":Y+="; Priority=Low";break;case"medium":Y+="; Priority=Medium";break;case"high":Y+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${z.priority}`)}if(z.sameSite)switch(typeof z.sameSite=="string"?z.sameSite.toLowerCase():z.sameSite){case!0:case"strict":Y+="; SameSite=Strict";break;case"lax":Y+="; SameSite=Lax";break;case"none":Y+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${z.sameSite}`)}return Y}function T(C){if(C.indexOf("%")===-1)return C;try{return decodeURIComponent(C)}catch{return C}}function S(C){return o.call(C)==="[object Date]"}return Jl}DA();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Wy="popstate";function xA(r={}){function t(o,c){let{pathname:f="/",search:m="",hash:p=""}=Ua(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),yd("",{pathname:f,search:m,hash:p},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function i(o,c){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let p=o.location.href,y=p.indexOf("#");m=y===-1?p:p.slice(0,y)}return m+"#"+(typeof c=="string"?c:co(c))}function s(o,c){Hn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return VA(t,i,s,r)}function ee(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function Hn(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function IA(){return Math.random().toString(36).substring(2,10)}function Jy(r,t){return{usr:r.state,key:r.key,idx:t}}function yd(r,t,i=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?Ua(t):t,state:i,key:t&&t.key||s||IA()}}function co({pathname:r="/",search:t="",hash:i=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function Ua(r){let t={};if(r){let i=r.indexOf("#");i>=0&&(t.hash=r.substring(i),r=r.substring(0,i));let s=r.indexOf("?");s>=0&&(t.search=r.substring(s),r=r.substring(0,s)),r&&(t.pathname=r)}return t}function VA(r,t,i,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,f=o.history,m="POP",p=null,y=T();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function T(){return(f.state||{idx:null}).idx}function S(){m="POP";let L=T(),Y=L==null?null:L-y;y=L,p&&p({action:m,location:q.location,delta:Y})}function C(L,Y){m="PUSH";let tt=yd(q.location,L,Y);i&&i(tt,L),y=T()+1;let et=Jy(tt,y),gt=q.createHref(tt);try{f.pushState(et,"",gt)}catch(ut){if(ut instanceof DOMException&&ut.name==="DataCloneError")throw ut;o.location.assign(gt)}c&&p&&p({action:m,location:q.location,delta:1})}function I(L,Y){m="REPLACE";let tt=yd(q.location,L,Y);i&&i(tt,L),y=T();let et=Jy(tt,y),gt=q.createHref(tt);f.replaceState(et,"",gt),c&&p&&p({action:m,location:q.location,delta:0})}function z(L){let Y=o.location.origin!=="null"?o.location.origin:o.location.href,tt=typeof L=="string"?L:co(L);return tt=tt.replace(/ $/,"%20"),ee(Y,`No window.location.(origin|href) available to create URL for href: ${tt}`),new URL(tt,Y)}let q={get action(){return m},get location(){return r(o,f)},listen(L){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Wy,S),p=L,()=>{o.removeEventListener(Wy,S),p=null}},createHref(L){return t(o,L)},createURL:z,encodeLocation(L){let Y=z(L);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:C,replace:I,go(L){return f.go(L)}};return q}function vv(r,t,i="/"){return NA(r,t,i,!1)}function NA(r,t,i,s){let o=typeof t=="string"?Ua(t):t,c=Pr(o.pathname||"/",i);if(c==null)return null;let f=Ev(r);OA(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let y=FA(c);m=qA(f[p],y,s)}return m}function Ev(r,t=[],i=[],s=""){let o=(c,f,m)=>{let p={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};p.relativePath.startsWith("/")&&(ee(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let y=qi([s,p.relativePath]),T=i.concat(p);c.children&&c.children.length>0&&(ee(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),Ev(c.children,t,T,y)),!(c.path==null&&!c.index)&&t.push({path:y,score:jA(y,c.index),routesMeta:T})};return r.forEach((c,f)=>{var m;if(c.path===""||!((m=c.path)!=null&&m.includes("?")))o(c,f);else for(let p of Tv(c.path))o(c,f,p)}),t}function Tv(r){let t=r.split("/");if(t.length===0)return[];let[i,...s]=t,o=i.endsWith("?"),c=i.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let f=Tv(s.join("/")),m=[];return m.push(...f.map(p=>p===""?c:[c,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function OA(r){r.sort((t,i)=>t.score!==i.score?i.score-t.score:BA(t.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var MA=/^:[\w-]+$/,UA=3,LA=2,PA=1,kA=10,zA=-2,t_=r=>r==="*";function jA(r,t){let i=r.split("/"),s=i.length;return i.some(t_)&&(s+=zA),t&&(s+=LA),i.filter(o=>!t_(o)).reduce((o,c)=>o+(MA.test(c)?UA:c===""?PA:kA),s)}function BA(r,t){return r.length===t.length&&r.slice(0,-1).every((s,o)=>s===t[o])?r[r.length-1]-t[t.length-1]:0}function qA(r,t,i=!1){let{routesMeta:s}=r,o={},c="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],y=m===s.length-1,T=c==="/"?t:t.slice(c.length)||"/",S=uc({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},T),C=p.route;if(!S&&y&&i&&!s[s.length-1].route.index&&(S=uc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},T)),!S)return null;Object.assign(o,S.params),f.push({params:o,pathname:qi([c,S.pathname]),pathnameBase:YA(qi([c,S.pathnameBase])),route:C}),S.pathnameBase!=="/"&&(c=qi([c,S.pathnameBase]))}return f}function uc(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[i,s]=HA(r.path,r.caseSensitive,r.end),o=t.match(i);if(!o)return null;let c=o[0],f=c.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:T,isOptional:S},C)=>{if(T==="*"){let z=m[C]||"";f=c.slice(0,c.length-z.length).replace(/(.)\/+$/,"$1")}const I=m[C];return S&&!I?y[T]=void 0:y[T]=(I||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:f,pattern:r}}function HA(r,t=!1,i=!0){Hn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function FA(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Hn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function Pr(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,s=r.charAt(i);return s&&s!=="/"?null:r.slice(i)||"/"}function GA(r,t="/"){let{pathname:i,search:s="",hash:o=""}=typeof r=="string"?Ua(r):r;return{pathname:i?i.startsWith("/")?i:QA(i,t):t,search:$A(s),hash:XA(o)}}function QA(r,t){let i=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function id(r,t,i,s){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function KA(r){return r.filter((t,i)=>i===0||t.route.path&&t.route.path.length>0)}function Av(r){let t=KA(r);return t.map((i,s)=>s===t.length-1?i.pathname:i.pathnameBase)}function bv(r,t,i,s=!1){let o;typeof r=="string"?o=Ua(r):(o={...r},ee(!o.pathname||!o.pathname.includes("?"),id("?","pathname","search",o)),ee(!o.pathname||!o.pathname.includes("#"),id("#","pathname","hash",o)),ee(!o.search||!o.search.includes("#"),id("#","search","hash",o)));let c=r===""||o.pathname==="",f=c?"/":o.pathname,m;if(f==null)m=i;else{let S=t.length-1;if(!s&&f.startsWith("..")){let C=f.split("/");for(;C[0]==="..";)C.shift(),S-=1;o.pathname=C.join("/")}m=S>=0?t[S]:"/"}let p=GA(o,m),y=f&&f!=="/"&&f.endsWith("/"),T=(c||f===".")&&i.endsWith("/");return!p.pathname.endsWith("/")&&(y||T)&&(p.pathname+="/"),p}var qi=r=>r.join("/").replace(/\/\/+/g,"/"),YA=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),$A=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,XA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function ZA(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var Sv=["POST","PUT","PATCH","DELETE"];new Set(Sv);var WA=["GET",...Sv];new Set(WA);var Bs=G.createContext(null);Bs.displayName="DataRouter";var Dc=G.createContext(null);Dc.displayName="DataRouterState";var wv=G.createContext({isTransitioning:!1});wv.displayName="ViewTransition";var JA=G.createContext(new Map);JA.displayName="Fetchers";var tb=G.createContext(null);tb.displayName="Await";var di=G.createContext(null);di.displayName="Navigation";var vo=G.createContext(null);vo.displayName="Location";var mi=G.createContext({outlet:null,matches:[],isDataRoute:!1});mi.displayName="Route";var Kd=G.createContext(null);Kd.displayName="RouteError";function eb(r,{relative:t}={}){ee(Eo(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=G.useContext(di),{hash:o,pathname:c,search:f}=To(r,{relative:t}),m=c;return i!=="/"&&(m=c==="/"?i:qi([i,c])),s.createHref({pathname:m,search:f,hash:o})}function Eo(){return G.useContext(vo)!=null}function La(){return ee(Eo(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(vo).location}var Rv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Cv(r){G.useContext(di).static||G.useLayoutEffect(r)}function nb(){let{isDataRoute:r}=G.useContext(mi);return r?pb():ib()}function ib(){ee(Eo(),"useNavigate() may be used only in the context of a <Router> component.");let r=G.useContext(Bs),{basename:t,navigator:i}=G.useContext(di),{matches:s}=G.useContext(mi),{pathname:o}=La(),c=JSON.stringify(Av(s)),f=G.useRef(!1);return Cv(()=>{f.current=!0}),G.useCallback((p,y={})=>{if(Hn(f.current,Rv),!f.current)return;if(typeof p=="number"){i.go(p);return}let T=bv(p,JSON.parse(c),o,y.relative==="path");r==null&&t!=="/"&&(T.pathname=T.pathname==="/"?t:qi([t,T.pathname])),(y.replace?i.replace:i.push)(T,y.state,y)},[t,i,c,o,r])}G.createContext(null);function rb(){let{matches:r}=G.useContext(mi),t=r[r.length-1];return t?t.params:{}}function To(r,{relative:t}={}){let{matches:i}=G.useContext(mi),{pathname:s}=La(),o=JSON.stringify(Av(i));return G.useMemo(()=>bv(r,JSON.parse(o),s,t==="path"),[r,o,s,t])}function ab(r,t){return Dv(r,t)}function Dv(r,t,i,s){var tt;ee(Eo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:c}=G.useContext(di),{matches:f}=G.useContext(mi),m=f[f.length-1],p=m?m.params:{},y=m?m.pathname:"/",T=m?m.pathnameBase:"/",S=m&&m.route;{let et=S&&S.path||"";xv(y,!S||et.endsWith("*")||et.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${et}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${et}"> to <Route path="${et==="/"?"*":`${et}/*`}">.`)}let C=La(),I;if(t){let et=typeof t=="string"?Ua(t):t;ee(T==="/"||((tt=et.pathname)==null?void 0:tt.startsWith(T)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${et.pathname}" was given in the \`location\` prop.`),I=et}else I=C;let z=I.pathname||"/",q=z;if(T!=="/"){let et=T.replace(/^\//,"").split("/");q="/"+z.replace(/^\//,"").split("/").slice(et.length).join("/")}let L=!c&&i&&i.matches&&i.matches.length>0?i.matches:vv(r,{pathname:q});Hn(S||L!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),Hn(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Y=cb(L&&L.map(et=>Object.assign({},et,{params:Object.assign({},p,et.params),pathname:qi([T,o.encodeLocation?o.encodeLocation(et.pathname).pathname:et.pathname]),pathnameBase:et.pathnameBase==="/"?T:qi([T,o.encodeLocation?o.encodeLocation(et.pathnameBase).pathname:et.pathnameBase])})),f,i,s);return t&&Y?G.createElement(vo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...I},navigationType:"POP"}},Y):Y}function sb(){let r=gb(),t=ZA(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),i=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=G.createElement(G.Fragment,null,G.createElement("p",null," Hey developer "),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:c},"ErrorBoundary")," or"," ",G.createElement("code",{style:c},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},t),i?G.createElement("pre",{style:o},i):null,f)}var lb=G.createElement(sb,null),ob=class extends G.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){console.error("React Router caught the following error during render",r,t)}render(){return this.state.error!==void 0?G.createElement(mi.Provider,{value:this.props.routeContext},G.createElement(Kd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ub({routeContext:r,match:t,children:i}){let s=G.useContext(Bs);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),G.createElement(mi.Provider,{value:r},i)}function cb(r,t=[],i=null,s=null){if(r==null){if(!i)return null;if(i.errors)r=i.matches;else if(t.length===0&&!i.initialized&&i.matches.length>0)r=i.matches;else return null}let o=r,c=i==null?void 0:i.errors;if(c!=null){let p=o.findIndex(y=>y.route.id&&(c==null?void 0:c[y.route.id])!==void 0);ee(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(i)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=p),y.route.id){let{loaderData:T,errors:S}=i,C=y.route.loader&&!T.hasOwnProperty(y.route.id)&&(!S||S[y.route.id]===void 0);if(y.route.lazy||C){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,y,T)=>{let S,C=!1,I=null,z=null;i&&(S=c&&y.route.id?c[y.route.id]:void 0,I=y.route.errorElement||lb,f&&(m<0&&T===0?(xv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,z=null):m===T&&(C=!0,z=y.route.hydrateFallbackElement||null)));let q=t.concat(o.slice(0,T+1)),L=()=>{let Y;return S?Y=I:C?Y=z:y.route.Component?Y=G.createElement(y.route.Component,null):y.route.element?Y=y.route.element:Y=p,G.createElement(ub,{match:y,routeContext:{outlet:p,matches:q,isDataRoute:i!=null},children:Y})};return i&&(y.route.ErrorBoundary||y.route.errorElement||T===0)?G.createElement(ob,{location:i.location,revalidation:i.revalidation,component:I,error:S,children:L(),routeContext:{outlet:null,matches:q,isDataRoute:!0}}):L()},null)}function Yd(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hb(r){let t=G.useContext(Bs);return ee(t,Yd(r)),t}function fb(r){let t=G.useContext(Dc);return ee(t,Yd(r)),t}function db(r){let t=G.useContext(mi);return ee(t,Yd(r)),t}function $d(r){let t=db(r),i=t.matches[t.matches.length-1];return ee(i.route.id,`${r} can only be used on routes that contain a unique "id"`),i.route.id}function mb(){return $d("useRouteId")}function gb(){var s;let r=G.useContext(Kd),t=fb("useRouteError"),i=$d("useRouteError");return r!==void 0?r:(s=t.errors)==null?void 0:s[i]}function pb(){let{router:r}=hb("useNavigate"),t=$d("useNavigate"),i=G.useRef(!1);return Cv(()=>{i.current=!0}),G.useCallback(async(o,c={})=>{Hn(i.current,Rv),i.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:t,...c}))},[r,t])}var e_={};function xv(r,t,i){!t&&!e_[r]&&(e_[r]=!0,Hn(!1,i))}G.memo(yb);function yb({routes:r,future:t,state:i}){return Dv(r,void 0,i,t)}function _d(r){ee(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function _b({basename:r="/",children:t=null,location:i,navigationType:s="POP",navigator:o,static:c=!1}){ee(!Eo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=G.useMemo(()=>({basename:f,navigator:o,static:c,future:{}}),[f,o,c]);typeof i=="string"&&(i=Ua(i));let{pathname:p="/",search:y="",hash:T="",state:S=null,key:C="default"}=i,I=G.useMemo(()=>{let z=Pr(p,f);return z==null?null:{location:{pathname:z,search:y,hash:T,state:S,key:C},navigationType:s}},[f,p,y,T,S,C,s]);return Hn(I!=null,`<Router basename="${f}"> is not able to match the URL "${p}${y}${T}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:G.createElement(di.Provider,{value:m},G.createElement(vo.Provider,{children:t,value:I}))}function vb({children:r,location:t}){return ab(vd(r),t)}function vd(r,t=[]){let i=[];return G.Children.forEach(r,(s,o)=>{if(!G.isValidElement(s))return;let c=[...t,o];if(s.type===G.Fragment){i.push.apply(i,vd(s.props.children,c));return}ee(s.type===_d,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ee(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=vd(s.props.children,c)),i.push(f)}),i}var ec="get",nc="application/x-www-form-urlencoded";function xc(r){return r!=null&&typeof r.tagName=="string"}function Eb(r){return xc(r)&&r.tagName.toLowerCase()==="button"}function Tb(r){return xc(r)&&r.tagName.toLowerCase()==="form"}function Ab(r){return xc(r)&&r.tagName.toLowerCase()==="input"}function bb(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Sb(r,t){return r.button===0&&(!t||t==="_self")&&!bb(r)}var Yu=null;function wb(){if(Yu===null)try{new FormData(document.createElement("form"),0),Yu=!1}catch{Yu=!0}return Yu}var Rb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function rd(r){return r!=null&&!Rb.has(r)?(Hn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${nc}"`),null):r}function Cb(r,t){let i,s,o,c,f;if(Tb(r)){let m=r.getAttribute("action");s=m?Pr(m,t):null,i=r.getAttribute("method")||ec,o=rd(r.getAttribute("enctype"))||nc,c=new FormData(r)}else if(Eb(r)||Ab(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?Pr(p,t):null,i=r.getAttribute("formmethod")||m.getAttribute("method")||ec,o=rd(r.getAttribute("formenctype"))||rd(m.getAttribute("enctype"))||nc,c=new FormData(m,r),!wb()){let{name:y,type:T,value:S}=r;if(T==="image"){let C=y?`${y}.`:"";c.append(`${C}x`,"0"),c.append(`${C}y`,"0")}else y&&c.append(y,S)}}else{if(xc(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=ec,s=null,o=nc,f=r}return c&&o==="text/plain"&&(f=c,c=void 0),{action:s,method:i.toLowerCase(),encType:o,formData:c,body:f}}function Xd(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}async function Db(r,t){if(r.id in t)return t[r.id];try{let i=await import(r.module);return t[r.id]=i,i}catch(i){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function xb(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Ib(r,t,i){let s=await Promise.all(r.map(async o=>{let c=t.routes[o.route.id];if(c){let f=await Db(c,i);return f.links?f.links():[]}return[]}));return Mb(s.flat(1).filter(xb).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function n_(r,t,i,s,o,c){let f=(p,y)=>i[y]?p.route.id!==i[y].route.id:!0,m=(p,y)=>{var T;return i[y].pathname!==p.pathname||((T=i[y].route.path)==null?void 0:T.endsWith("*"))&&i[y].params["*"]!==p.params["*"]};return c==="assets"?t.filter((p,y)=>f(p,y)||m(p,y)):c==="data"?t.filter((p,y)=>{var S;let T=s.routes[p.route.id];if(!T||!T.hasLoader)return!1;if(f(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let C=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((S=i[0])==null?void 0:S.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof C=="boolean")return C}return!0}):[]}function Vb(r,t){return Nb(r.map(i=>{let s=t.routes[i.route.id];if(!s)return[];let o=[s.module];return s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function Nb(r){return[...new Set(r)]}function Ob(r){let t={},i=Object.keys(r).sort();for(let s of i)t[s]=r[s];return t}function Mb(r,t){let i=new Set;return new Set(t),r.reduce((s,o)=>{let c=JSON.stringify(Ob(o));return i.has(c)||(i.add(c),s.push({key:c,link:o})),s},[])}function Ub(r){let t=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t.pathname==="/"?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function Lb(){let r=G.useContext(Bs);return Xd(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Pb(){let r=G.useContext(Dc);return Xd(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Zd=G.createContext(void 0);Zd.displayName="FrameworkContext";function Iv(){let r=G.useContext(Zd);return Xd(r,"You must render this element inside a <HydratedRouter> element"),r}function kb(r,t){let i=G.useContext(Zd),[s,o]=G.useState(!1),[c,f]=G.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:T,onTouchStart:S}=t,C=G.useRef(null);G.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let q=Y=>{Y.forEach(tt=>{f(tt.isIntersecting)})},L=new IntersectionObserver(q,{threshold:.5});return C.current&&L.observe(C.current),()=>{L.disconnect()}}},[r]),G.useEffect(()=>{if(s){let q=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(q)}}},[s]);let I=()=>{o(!0)},z=()=>{o(!1),f(!1)};return i?r!=="intent"?[c,C,{}]:[c,C,{onFocus:to(m,I),onBlur:to(p,z),onMouseEnter:to(y,I),onMouseLeave:to(T,z),onTouchStart:to(S,I)}]:[!1,C,{}]}function to(r,t){return i=>{r&&r(i),i.defaultPrevented||t(i)}}function zb({page:r,...t}){let{router:i}=Lb(),s=G.useMemo(()=>vv(i.routes,r,i.basename),[i.routes,r,i.basename]);return s?G.createElement(Bb,{page:r,matches:s,...t}):null}function jb(r){let{manifest:t,routeModules:i}=Iv(),[s,o]=G.useState([]);return G.useEffect(()=>{let c=!1;return Ib(r,t,i).then(f=>{c||o(f)}),()=>{c=!0}},[r,t,i]),s}function Bb({page:r,matches:t,...i}){let s=La(),{manifest:o,routeModules:c}=Iv(),{loaderData:f,matches:m}=Pb(),p=G.useMemo(()=>n_(r,t,m,o,s,"data"),[r,t,m,o,s]),y=G.useMemo(()=>n_(r,t,m,o,s,"assets"),[r,t,m,o,s]),T=G.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let I=new Set,z=!1;if(t.forEach(L=>{var tt;let Y=o.routes[L.route.id];!Y||!Y.hasLoader||(!p.some(et=>et.route.id===L.route.id)&&L.route.id in f&&((tt=c[L.route.id])!=null&&tt.shouldRevalidate)||Y.hasClientLoader?z=!0:I.add(L.route.id))}),I.size===0)return[];let q=Ub(r);return z&&I.size>0&&q.searchParams.set("_routes",t.filter(L=>I.has(L.route.id)).map(L=>L.route.id).join(",")),[q.pathname+q.search]},[f,s,o,p,t,r,c]),S=G.useMemo(()=>Vb(y,o),[y,o]),C=jb(y);return G.createElement(G.Fragment,null,T.map(I=>G.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...i})),S.map(I=>G.createElement("link",{key:I,rel:"modulepreload",href:I,...i})),C.map(({key:I,link:z})=>G.createElement("link",{key:I,...z})))}function qb(...r){return t=>{r.forEach(i=>{typeof i=="function"?i(t):i!=null&&(i.current=t)})}}var Vv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Vv&&(window.__reactRouterVersion="7.1.5")}catch{}function Hb({basename:r,children:t,window:i}){let s=G.useRef();s.current==null&&(s.current=xA({window:i,v5Compat:!0}));let o=s.current,[c,f]=G.useState({action:o.action,location:o.location}),m=G.useCallback(p=>{G.startTransition(()=>f(p))},[f]);return G.useLayoutEffect(()=>o.listen(m),[o,m]),G.createElement(_b,{basename:r,children:t,location:c.location,navigationType:c.action,navigator:o})}var Nv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wd=G.forwardRef(function({onClick:t,discover:i="render",prefetch:s="none",relative:o,reloadDocument:c,replace:f,state:m,target:p,to:y,preventScrollReset:T,viewTransition:S,...C},I){let{basename:z}=G.useContext(di),q=typeof y=="string"&&Nv.test(y),L,Y=!1;if(typeof y=="string"&&q&&(L=y,Vv))try{let b=new URL(window.location.href),D=y.startsWith("//")?new URL(b.protocol+y):new URL(y),M=Pr(D.pathname,z);D.origin===b.origin&&M!=null?y=M+D.search+D.hash:Y=!0}catch{Hn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let tt=eb(y,{relative:o}),[et,gt,ut]=kb(s,C),bt=Kb(y,{replace:f,state:m,target:p,preventScrollReset:T,relative:o,viewTransition:S});function O(b){t&&t(b),b.defaultPrevented||bt(b)}let w=G.createElement("a",{...C,...ut,href:L||tt,onClick:Y||c?t:O,ref:qb(I,gt),target:p,"data-discover":!q&&i==="render"?"true":void 0});return et&&!q?G.createElement(G.Fragment,null,w,G.createElement(zb,{page:tt})):w});Wd.displayName="Link";var Fb=G.forwardRef(function({"aria-current":t="page",caseSensitive:i=!1,className:s="",end:o=!1,style:c,to:f,viewTransition:m,children:p,...y},T){let S=To(f,{relative:y.relative}),C=La(),I=G.useContext(Dc),{navigator:z,basename:q}=G.useContext(di),L=I!=null&&Wb(S)&&m===!0,Y=z.encodeLocation?z.encodeLocation(S).pathname:S.pathname,tt=C.pathname,et=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;i||(tt=tt.toLowerCase(),et=et?et.toLowerCase():null,Y=Y.toLowerCase()),et&&q&&(et=Pr(et,q)||et);const gt=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let ut=tt===Y||!o&&tt.startsWith(Y)&&tt.charAt(gt)==="/",bt=et!=null&&(et===Y||!o&&et.startsWith(Y)&&et.charAt(Y.length)==="/"),O={isActive:ut,isPending:bt,isTransitioning:L},w=ut?t:void 0,b;typeof s=="function"?b=s(O):b=[s,ut?"active":null,bt?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let D=typeof c=="function"?c(O):c;return G.createElement(Wd,{...y,"aria-current":w,className:b,ref:T,style:D,to:f,viewTransition:m},typeof p=="function"?p(O):p)});Fb.displayName="NavLink";var Gb=G.forwardRef(({discover:r="render",fetcherKey:t,navigate:i,reloadDocument:s,replace:o,state:c,method:f=ec,action:m,onSubmit:p,relative:y,preventScrollReset:T,viewTransition:S,...C},I)=>{let z=Xb(),q=Zb(m,{relative:y}),L=f.toLowerCase()==="get"?"get":"post",Y=typeof m=="string"&&Nv.test(m),tt=et=>{if(p&&p(et),et.defaultPrevented)return;et.preventDefault();let gt=et.nativeEvent.submitter,ut=(gt==null?void 0:gt.getAttribute("formmethod"))||f;z(gt||et.currentTarget,{fetcherKey:t,method:ut,navigate:i,replace:o,state:c,relative:y,preventScrollReset:T,viewTransition:S})};return G.createElement("form",{ref:I,method:L,action:q,onSubmit:s?p:tt,...C,"data-discover":!Y&&r==="render"?"true":void 0})});Gb.displayName="Form";function Qb(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ov(r){let t=G.useContext(Bs);return ee(t,Qb(r)),t}function Kb(r,{target:t,replace:i,state:s,preventScrollReset:o,relative:c,viewTransition:f}={}){let m=nb(),p=La(),y=To(r,{relative:c});return G.useCallback(T=>{if(Sb(T,t)){T.preventDefault();let S=i!==void 0?i:co(p)===co(y);m(r,{replace:S,state:s,preventScrollReset:o,relative:c,viewTransition:f})}},[p,m,y,i,s,t,r,o,c,f])}var Yb=0,$b=()=>`__${String(++Yb)}__`;function Xb(){let{router:r}=Ov("useSubmit"),{basename:t}=G.useContext(di),i=mb();return G.useCallback(async(s,o={})=>{let{action:c,method:f,encType:m,formData:p,body:y}=Cb(s,t);if(o.navigate===!1){let T=o.fetcherKey||$b();await r.fetch(T,i,o.action||c,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,t,i])}function Zb(r,{relative:t}={}){let{basename:i}=G.useContext(di),s=G.useContext(mi);ee(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...To(r||".",{relative:t})},f=La();if(r==null){c.search=f.search;let m=new URLSearchParams(c.search),p=m.getAll("index");if(p.some(T=>T==="")){m.delete("index"),p.filter(S=>S).forEach(S=>m.append("index",S));let T=m.toString();c.search=T?`?${T}`:""}}return(!r||r===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(c.pathname=c.pathname==="/"?i:qi([i,c.pathname])),co(c)}function Wb(r,t={}){let i=G.useContext(wv);ee(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Ov("useViewTransitionState"),o=To(r,{relative:t.relative});if(!i.isTransitioning)return!1;let c=Pr(i.currentLocation.pathname,s)||i.currentLocation.pathname,f=Pr(i.nextLocation.pathname,s)||i.nextLocation.pathname;return uc(o.pathname,f)!=null||uc(o.pathname,c)!=null}new TextEncoder;var i_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv=function(r){const t=[];let i=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},Jb=function(r){const t=[];let i=0,s=0;for(;i<r.length;){const o=r[i++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[i++];t[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[i++],f=r[i++],m=r[i++],p=((o&7)<<18|(c&63)<<12|(f&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const c=r[i++],f=r[i++];t[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|f&63)}}return t.join("")},Uv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const c=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,T=c>>2,S=(c&3)<<4|m>>4;let C=(m&15)<<2|y>>6,I=y&63;p||(I=64,f||(C=64)),s.push(i[T],i[S],i[C],i[I])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(Mv(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):Jb(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const c=i[r.charAt(o++)],m=o<r.length?i[r.charAt(o)]:0;++o;const y=o<r.length?i[r.charAt(o)]:64;++o;const S=o<r.length?i[r.charAt(o)]:64;if(++o,c==null||m==null||y==null||S==null)throw new tS;const C=c<<2|m>>4;if(s.push(C),y!==64){const I=m<<4&240|y>>2;if(s.push(I),S!==64){const z=y<<6&192|S;s.push(z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class tS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const eS=function(r){const t=Mv(r);return Uv.encodeByteArray(t,!0)},cc=function(r){return eS(r).replace(/\./g,"")},nS=function(r){try{return Uv.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS=()=>iS().__FIREBASE_DEFAULTS__,aS=()=>{if(typeof process>"u"||typeof i_>"u")return;const r=i_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},sS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&nS(r[1]);return t&&JSON.parse(t)},Jd=()=>{try{return rS()||aS()||sS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},lS=r=>{var t,i;return(i=(t=Jd())===null||t===void 0?void 0:t.emulatorHosts)===null||i===void 0?void 0:i[r]},oS=r=>{const t=lS(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),s]:[t.substring(0,i),s]},Lv=()=>{var r;return(r=Jd())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cS(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},r);return[cc(JSON.stringify(i)),cc(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hS(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fS(){var r;const t=(r=Jd())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function dS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function mS(){return!fS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Pv(){try{return typeof indexedDB=="object"}catch{return!1}}function kv(){return new Promise((r,t)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var c;t(((c=o.error)===null||c===void 0?void 0:c.message)||"")}}catch(i){t(i)}})}function gS(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS="FirebaseError";class Qr extends Error{constructor(t,i,s){super(i),this.code=t,this.customData=s,this.name=pS,Object.setPrototypeOf(this,Qr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ic.prototype.create)}}class Ic{constructor(t,i,s){this.service=t,this.serviceName=i,this.errors=s}create(t,...i){const s=i[0]||{},o=`${this.service}/${t}`,c=this.errors[t],f=c?yS(c,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Qr(o,m,s)}}function yS(r,t){return r.replace(_S,(i,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const _S=/\{\$([^}]+)}/g;function hc(r,t){if(r===t)return!0;const i=Object.keys(r),s=Object.keys(t);for(const o of i){if(!s.includes(o))return!1;const c=r[o],f=t[o];if(r_(c)&&r_(f)){if(!hc(c,f))return!1}else if(c!==f)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function r_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS=1e3,ES=2,TS=4*60*60*1e3,AS=.5;function a_(r,t=vS,i=ES){const s=t*Math.pow(i,r),o=Math.round(AS*s*(Math.random()-.5)*2);return Math.min(TS,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(r){return r&&r._delegate?r._delegate:r}class Hi{constructor(t,i,s){this.name=t,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const s=new uS;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){var i;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(i=t==null?void 0:t.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(o)return null;throw c}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(wS(t))try{this.getOrInitializeService({instanceIdentifier:Ca})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(t=Ca){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ca){return this.instances.has(t)}getOptions(t=Ca){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);s===m&&f.resolve(o)}return o}onInit(t,i){var s;const o=this.normalizeInstanceIdentifier(i),c=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;c.add(t),this.onInitCallbacks.set(o,c);const f=this.instances.get(o);return f&&t(f,o),()=>{c.delete(t)}}invokeOnInitCallbacks(t,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:SS(t),options:i}),this.instances.set(t,s),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Ca){return this.component?this.component.multipleInstances?t:Ca:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function SS(r){return r===Ca?void 0:r}function wS(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new bS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pt||(Pt={}));const CS={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},DS=Pt.INFO,xS={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},IS=(r,t,...i)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=xS[t];if(o)console[o](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class tm{constructor(t){this.name=t,this._logLevel=DS,this._logHandler=IS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Pt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?CS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...t),this._logHandler(this,Pt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...t),this._logHandler(this,Pt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...t),this._logHandler(this,Pt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...t),this._logHandler(this,Pt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...t),this._logHandler(this,Pt.ERROR,...t)}}const VS=(r,t)=>t.some(i=>r instanceof i);let s_,l_;function NS(){return s_||(s_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function OS(){return l_||(l_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zv=new WeakMap,Ed=new WeakMap,jv=new WeakMap,ad=new WeakMap,em=new WeakMap;function MS(r){const t=new Promise((i,s)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",f)},c=()=>{i(Nr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",f)});return t.then(i=>{i instanceof IDBCursor&&zv.set(i,r)}).catch(()=>{}),em.set(t,r),t}function US(r){if(Ed.has(r))return;const t=new Promise((i,s)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",f),r.removeEventListener("abort",f)},c=()=>{i(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",f),r.addEventListener("abort",f)});Ed.set(r,t)}let Td={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Ed.get(r);if(t==="objectStoreNames")return r.objectStoreNames||jv.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Nr(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function LS(r){Td=r(Td)}function PS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const s=r.call(sd(this),t,...i);return jv.set(s,t.sort?t.sort():[t]),Nr(s)}:OS().includes(r)?function(...t){return r.apply(sd(this),t),Nr(zv.get(this))}:function(...t){return Nr(r.apply(sd(this),t))}}function kS(r){return typeof r=="function"?PS(r):(r instanceof IDBTransaction&&US(r),VS(r,NS())?new Proxy(r,Td):r)}function Nr(r){if(r instanceof IDBRequest)return MS(r);if(ad.has(r))return ad.get(r);const t=kS(r);return t!==r&&(ad.set(r,t),em.set(t,r)),t}const sd=r=>em.get(r);function Bv(r,t,{blocked:i,upgrade:s,blocking:o,terminated:c}={}){const f=indexedDB.open(r,t),m=Nr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Nr(f.result),p.oldVersion,p.newVersion,Nr(f.transaction),p)}),i&&f.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),m.then(p=>{c&&p.addEventListener("close",()=>c()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const zS=["get","getKey","getAll","getAllKeys","count"],jS=["put","add","delete","clear"],ld=new Map;function o_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(ld.get(t))return ld.get(t);const i=t.replace(/FromIndex$/,""),s=t!==i,o=jS.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||zS.includes(i)))return;const c=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[i](...m),o&&p.done]))[0]};return ld.set(t,c),c}LS(r=>({...r,get:(t,i,s)=>o_(t,i)||r.get(t,i,s),has:(t,i)=>!!o_(t,i)||r.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(qS(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function qS(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Ad="@firebase/app",u_="0.11.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi=new tm("@firebase/app"),HS="@firebase/app-compat",FS="@firebase/analytics-compat",GS="@firebase/analytics",QS="@firebase/app-check-compat",KS="@firebase/app-check",YS="@firebase/auth",$S="@firebase/auth-compat",XS="@firebase/database",ZS="@firebase/data-connect",WS="@firebase/database-compat",JS="@firebase/functions",tw="@firebase/functions-compat",ew="@firebase/installations",nw="@firebase/installations-compat",iw="@firebase/messaging",rw="@firebase/messaging-compat",aw="@firebase/performance",sw="@firebase/performance-compat",lw="@firebase/remote-config",ow="@firebase/remote-config-compat",uw="@firebase/storage",cw="@firebase/storage-compat",hw="@firebase/firestore",fw="@firebase/vertexai",dw="@firebase/firestore-compat",mw="firebase",gw="11.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bd="[DEFAULT]",pw={[Ad]:"fire-core",[HS]:"fire-core-compat",[GS]:"fire-analytics",[FS]:"fire-analytics-compat",[KS]:"fire-app-check",[QS]:"fire-app-check-compat",[YS]:"fire-auth",[$S]:"fire-auth-compat",[XS]:"fire-rtdb",[ZS]:"fire-data-connect",[WS]:"fire-rtdb-compat",[JS]:"fire-fn",[tw]:"fire-fn-compat",[ew]:"fire-iid",[nw]:"fire-iid-compat",[iw]:"fire-fcm",[rw]:"fire-fcm-compat",[aw]:"fire-perf",[sw]:"fire-perf-compat",[lw]:"fire-rc",[ow]:"fire-rc-compat",[uw]:"fire-gcs",[cw]:"fire-gcs-compat",[hw]:"fire-fst",[dw]:"fire-fst-compat",[fw]:"fire-vertex","fire-js":"fire-js",[mw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fc=new Map,yw=new Map,Sd=new Map;function c_(r,t){try{r.container.addComponent(t)}catch(i){Fi.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function kr(r){const t=r.name;if(Sd.has(t))return Fi.debug(`There were multiple attempts to register component ${t}.`),!1;Sd.set(t,r);for(const i of fc.values())c_(i,r);for(const i of yw.values())c_(i,r);return!0}function Ao(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function _w(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Or=new Ic("app","Firebase",vw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(t,i,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Hi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Or.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw=gw;function qv(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const s=Object.assign({name:bd,automaticDataCollectionEnabled:!1},t),o=s.name;if(typeof o!="string"||!o)throw Or.create("bad-app-name",{appName:String(o)});if(i||(i=Lv()),!i)throw Or.create("no-options");const c=fc.get(o);if(c){if(hc(i,c.options)&&hc(s,c.config))return c;throw Or.create("duplicate-app",{appName:o})}const f=new RS(o);for(const p of Sd.values())f.addComponent(p);const m=new Ew(i,s,f);return fc.set(o,m),m}function Hv(r=bd){const t=fc.get(r);if(!t&&r===bd&&Lv())return qv();if(!t)throw Or.create("no-app",{appName:r});return t}function oi(r,t,i){var s;let o=(s=pw[r])!==null&&s!==void 0?s:r;i&&(o+=`-${i}`);const c=o.match(/\s|\//),f=t.match(/\s|\//);if(c||f){const m=[`Unable to register library "${o}" with version "${t}":`];c&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),c&&f&&m.push("and"),f&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Fi.warn(m.join(" "));return}kr(new Hi(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw="firebase-heartbeat-database",bw=1,ho="firebase-heartbeat-store";let od=null;function Fv(){return od||(od=Bv(Aw,bw,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(ho)}catch(i){console.warn(i)}}}}).catch(r=>{throw Or.create("idb-open",{originalErrorMessage:r.message})})),od}async function Sw(r){try{const i=(await Fv()).transaction(ho),s=await i.objectStore(ho).get(Gv(r));return await i.done,s}catch(t){if(t instanceof Qr)Fi.warn(t.message);else{const i=Or.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Fi.warn(i.message)}}}async function h_(r,t){try{const s=(await Fv()).transaction(ho,"readwrite");await s.objectStore(ho).put(t,Gv(r)),await s.done}catch(i){if(i instanceof Qr)Fi.warn(i.message);else{const s=Or.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Fi.warn(s.message)}}}function Gv(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww=1024,Rw=30;class Cw{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new xw(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=f_();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(f=>f.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>Rw){const f=Iw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Fi.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=f_(),{heartbeatsToSend:s,unsentEntries:o}=Dw(this._heartbeatsCache.heartbeats),c=cc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return Fi.warn(i),""}}}function f_(){return new Date().toISOString().substring(0,10)}function Dw(r,t=ww){const i=[];let s=r.slice();for(const o of r){const c=i.find(f=>f.agent===o.agent);if(c){if(c.dates.push(o.date),d_(i)>t){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),d_(i)>t){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class xw{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Pv()?kv().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Sw(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return h_(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return h_(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function d_(r){return cc(JSON.stringify({version:2,heartbeats:r})).length}function Iw(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vw(r){kr(new Hi("platform-logger",t=>new BS(t),"PRIVATE")),kr(new Hi("heartbeat",t=>new Cw(t),"PRIVATE")),oi(Ad,u_,r),oi(Ad,u_,"esm2017"),oi("fire-js","")}Vw("");var Nw="firebase",Ow="11.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */oi(Nw,Ow,"app");const Qv="@firebase/installations",nm="0.6.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv=1e4,Yv=`w:${nm}`,$v="FIS_v2",Mw="https://firebaseinstallations.googleapis.com/v1",Uw=60*60*1e3,Lw="installations",Pw="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Va=new Ic(Lw,Pw,kw);function Xv(r){return r instanceof Qr&&r.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zv({projectId:r}){return`${Mw}/projects/${r}/installations`}function Wv(r){return{token:r.token,requestStatus:2,expiresIn:jw(r.expiresIn),creationTime:Date.now()}}async function Jv(r,t){const s=(await t.json()).error;return Va.create("request-failed",{requestName:r,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function t0({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function zw(r,{refreshToken:t}){const i=t0(r);return i.append("Authorization",Bw(t)),i}async function e0(r){const t=await r();return t.status>=500&&t.status<600?r():t}function jw(r){return Number(r.replace("s","000"))}function Bw(r){return`${$v} ${r}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qw({appConfig:r,heartbeatServiceProvider:t},{fid:i}){const s=Zv(r),o=t0(r),c=t.getImmediate({optional:!0});if(c){const y=await c.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const f={fid:i,authVersion:$v,appId:r.appId,sdkVersion:Yv},m={method:"POST",headers:o,body:JSON.stringify(f)},p=await e0(()=>fetch(s,m));if(p.ok){const y=await p.json();return{fid:y.fid||i,registrationStatus:2,refreshToken:y.refreshToken,authToken:Wv(y.authToken)}}else throw await Jv("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n0(r){return new Promise(t=>{setTimeout(t,r)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hw(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw=/^[cdef][\w-]{21}$/,wd="";function Gw(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const i=Qw(r);return Fw.test(i)?i:wd}catch{return wd}}function Qw(r){return Hw(r).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vc(r){return`${r.appName}!${r.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0=new Map;function r0(r,t){const i=Vc(r);a0(i,t),Kw(i,t)}function a0(r,t){const i=i0.get(r);if(i)for(const s of i)s(t)}function Kw(r,t){const i=Yw();i&&i.postMessage({key:r,fid:t}),$w()}let Da=null;function Yw(){return!Da&&"BroadcastChannel"in self&&(Da=new BroadcastChannel("[Firebase] FID Change"),Da.onmessage=r=>{a0(r.data.key,r.data.fid)}),Da}function $w(){i0.size===0&&Da&&(Da.close(),Da=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw="firebase-installations-database",Zw=1,Na="firebase-installations-store";let ud=null;function im(){return ud||(ud=Bv(Xw,Zw,{upgrade:(r,t)=>{switch(t){case 0:r.createObjectStore(Na)}}})),ud}async function dc(r,t){const i=Vc(r),o=(await im()).transaction(Na,"readwrite"),c=o.objectStore(Na),f=await c.get(i);return await c.put(t,i),await o.done,(!f||f.fid!==t.fid)&&r0(r,t.fid),t}async function s0(r){const t=Vc(r),s=(await im()).transaction(Na,"readwrite");await s.objectStore(Na).delete(t),await s.done}async function Nc(r,t){const i=Vc(r),o=(await im()).transaction(Na,"readwrite"),c=o.objectStore(Na),f=await c.get(i),m=t(f);return m===void 0?await c.delete(i):await c.put(m,i),await o.done,m&&(!f||f.fid!==m.fid)&&r0(r,m.fid),m}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rm(r){let t;const i=await Nc(r.appConfig,s=>{const o=Ww(s),c=Jw(r,o);return t=c.registrationPromise,c.installationEntry});return i.fid===wd?{installationEntry:await t}:{installationEntry:i,registrationPromise:t}}function Ww(r){const t=r||{fid:Gw(),registrationStatus:0};return l0(t)}function Jw(r,t){if(t.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Va.create("app-offline"));return{installationEntry:t,registrationPromise:o}}const i={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},s=t1(r,i);return{installationEntry:i,registrationPromise:s}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:e1(r)}:{installationEntry:t}}async function t1(r,t){try{const i=await qw(r,t);return dc(r.appConfig,i)}catch(i){throw Xv(i)&&i.customData.serverCode===409?await s0(r.appConfig):await dc(r.appConfig,{fid:t.fid,registrationStatus:0}),i}}async function e1(r){let t=await m_(r.appConfig);for(;t.registrationStatus===1;)await n0(100),t=await m_(r.appConfig);if(t.registrationStatus===0){const{installationEntry:i,registrationPromise:s}=await rm(r);return s||i}return t}function m_(r){return Nc(r,t=>{if(!t)throw Va.create("installation-not-found");return l0(t)})}function l0(r){return n1(r)?{fid:r.fid,registrationStatus:0}:r}function n1(r){return r.registrationStatus===1&&r.registrationTime+Kv<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i1({appConfig:r,heartbeatServiceProvider:t},i){const s=r1(r,i),o=zw(r,i),c=t.getImmediate({optional:!0});if(c){const y=await c.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const f={installation:{sdkVersion:Yv,appId:r.appId}},m={method:"POST",headers:o,body:JSON.stringify(f)},p=await e0(()=>fetch(s,m));if(p.ok){const y=await p.json();return Wv(y)}else throw await Jv("Generate Auth Token",p)}function r1(r,{fid:t}){return`${Zv(r)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function am(r,t=!1){let i;const s=await Nc(r.appConfig,c=>{if(!o0(c))throw Va.create("not-registered");const f=c.authToken;if(!t&&l1(f))return c;if(f.requestStatus===1)return i=a1(r,t),c;{if(!navigator.onLine)throw Va.create("app-offline");const m=u1(c);return i=s1(r,m),m}});return i?await i:s.authToken}async function a1(r,t){let i=await g_(r.appConfig);for(;i.authToken.requestStatus===1;)await n0(100),i=await g_(r.appConfig);const s=i.authToken;return s.requestStatus===0?am(r,t):s}function g_(r){return Nc(r,t=>{if(!o0(t))throw Va.create("not-registered");const i=t.authToken;return c1(i)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function s1(r,t){try{const i=await i1(r,t),s=Object.assign(Object.assign({},t),{authToken:i});return await dc(r.appConfig,s),i}catch(i){if(Xv(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await s0(r.appConfig);else{const s=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await dc(r.appConfig,s)}throw i}}function o0(r){return r!==void 0&&r.registrationStatus===2}function l1(r){return r.requestStatus===2&&!o1(r)}function o1(r){const t=Date.now();return t<r.creationTime||r.creationTime+r.expiresIn<t+Uw}function u1(r){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},r),{authToken:t})}function c1(r){return r.requestStatus===1&&r.requestTime+Kv<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h1(r){const t=r,{installationEntry:i,registrationPromise:s}=await rm(t);return s?s.catch(console.error):am(t).catch(console.error),i.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f1(r,t=!1){const i=r;return await d1(i),(await am(i,t)).token}async function d1(r){const{registrationPromise:t}=await rm(r);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m1(r){if(!r||!r.options)throw cd("App Configuration");if(!r.name)throw cd("App Name");const t=["projectId","apiKey","appId"];for(const i of t)if(!r.options[i])throw cd(i);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function cd(r){return Va.create("missing-app-config-values",{valueName:r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0="installations",g1="installations-internal",p1=r=>{const t=r.getProvider("app").getImmediate(),i=m1(t),s=Ao(t,"heartbeat");return{app:t,appConfig:i,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},y1=r=>{const t=r.getProvider("app").getImmediate(),i=Ao(t,u0).getImmediate();return{getId:()=>h1(i),getToken:o=>f1(i,o)}};function _1(){kr(new Hi(u0,p1,"PUBLIC")),kr(new Hi(g1,y1,"PRIVATE"))}_1();oi(Qv,nm);oi(Qv,nm,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mc="analytics",v1="firebase_id",E1="origin",T1=60*1e3,A1="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",sm="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on=new tm("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},yn=new Ic("analytics","Analytics",b1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(r){if(!r.startsWith(sm)){const t=yn.create("invalid-gtag-resource",{gtagURL:r});return on.warn(t.message),""}return r}function c0(r){return Promise.all(r.map(t=>t.catch(i=>i)))}function w1(r,t){let i;return window.trustedTypes&&(i=window.trustedTypes.createPolicy(r,t)),i}function R1(r,t){const i=w1("firebase-js-sdk-policy",{createScriptURL:S1}),s=document.createElement("script"),o=`${sm}?l=${r}&id=${t}`;s.src=i?i==null?void 0:i.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function C1(r){let t=[];return Array.isArray(window[r])?t=window[r]:window[r]=t,t}async function D1(r,t,i,s,o,c){const f=s[o];try{if(f)await t[f];else{const p=(await c0(i)).find(y=>y.measurementId===o);p&&await t[p.appId]}}catch(m){on.error(m)}r("config",o,c)}async function x1(r,t,i,s,o){try{let c=[];if(o&&o.send_to){let f=o.send_to;Array.isArray(f)||(f=[f]);const m=await c0(i);for(const p of f){const y=m.find(S=>S.measurementId===p),T=y&&t[y.appId];if(T)c.push(T);else{c=[];break}}}c.length===0&&(c=Object.values(t)),await Promise.all(c),r("event",s,o||{})}catch(c){on.error(c)}}function I1(r,t,i,s){async function o(c,...f){try{if(c==="event"){const[m,p]=f;await x1(r,t,i,m,p)}else if(c==="config"){const[m,p]=f;await D1(r,t,i,s,m,p)}else if(c==="consent"){const[m,p]=f;r("consent",m,p)}else if(c==="get"){const[m,p,y]=f;r("get",m,p,y)}else if(c==="set"){const[m]=f;r("set",m)}else r(c,...f)}catch(m){on.error(m)}}return o}function V1(r,t,i,s,o){let c=function(...f){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(c=window[o]),window[o]=I1(c,r,t,i),{gtagCore:c,wrappedGtag:window[o]}}function N1(r){const t=window.document.getElementsByTagName("script");for(const i of Object.values(t))if(i.src&&i.src.includes(sm)&&i.src.includes(r))return i;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1=30,M1=1e3;class U1{constructor(t={},i=M1){this.throttleMetadata=t,this.intervalMillis=i}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,i){this.throttleMetadata[t]=i}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const h0=new U1;function L1(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function P1(r){var t;const{appId:i,apiKey:s}=r,o={method:"GET",headers:L1(s)},c=A1.replace("{app-id}",i),f=await fetch(c,o);if(f.status!==200&&f.status!==304){let m="";try{const p=await f.json();!((t=p.error)===null||t===void 0)&&t.message&&(m=p.error.message)}catch{}throw yn.create("config-fetch-failed",{httpStatus:f.status,responseMessage:m})}return f.json()}async function k1(r,t=h0,i){const{appId:s,apiKey:o,measurementId:c}=r.options;if(!s)throw yn.create("no-app-id");if(!o){if(c)return{measurementId:c,appId:s};throw yn.create("no-api-key")}const f=t.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new B1;return setTimeout(async()=>{m.abort()},T1),f0({appId:s,apiKey:o,measurementId:c},f,m,t)}async function f0(r,{throttleEndTimeMillis:t,backoffCount:i},s,o=h0){var c;const{appId:f,measurementId:m}=r;try{await z1(s,t)}catch(p){if(m)return on.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:f,measurementId:m};throw p}try{const p=await P1(r);return o.deleteThrottleMetadata(f),p}catch(p){const y=p;if(!j1(y)){if(o.deleteThrottleMetadata(f),m)return on.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${y==null?void 0:y.message}]`),{appId:f,measurementId:m};throw p}const T=Number((c=y==null?void 0:y.customData)===null||c===void 0?void 0:c.httpStatus)===503?a_(i,o.intervalMillis,O1):a_(i,o.intervalMillis),S={throttleEndTimeMillis:Date.now()+T,backoffCount:i+1};return o.setThrottleMetadata(f,S),on.debug(`Calling attemptFetch again in ${T} millis`),f0(r,S,s,o)}}function z1(r,t){return new Promise((i,s)=>{const o=Math.max(t-Date.now(),0),c=setTimeout(i,o);r.addEventListener(()=>{clearTimeout(c),s(yn.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function j1(r){if(!(r instanceof Qr)||!r.customData)return!1;const t=Number(r.customData.httpStatus);return t===429||t===500||t===503||t===504}class B1{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function q1(r,t,i,s,o){if(o&&o.global){r("event",i,s);return}else{const c=await t,f=Object.assign(Object.assign({},s),{send_to:c});r("event",i,f)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H1(){if(Pv())try{await kv()}catch(r){return on.warn(yn.create("indexeddb-unavailable",{errorInfo:r==null?void 0:r.toString()}).message),!1}else return on.warn(yn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function F1(r,t,i,s,o,c,f){var m;const p=k1(r);p.then(I=>{i[I.measurementId]=I.appId,r.options.measurementId&&I.measurementId!==r.options.measurementId&&on.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${I.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(I=>on.error(I)),t.push(p);const y=H1().then(I=>{if(I)return s.getId()}),[T,S]=await Promise.all([p,y]);N1(c)||R1(c,T.measurementId),o("js",new Date);const C=(m=f==null?void 0:f.config)!==null&&m!==void 0?m:{};return C[E1]="firebase",C.update=!0,S!=null&&(C[v1]=S),o("config",T.measurementId,C),T.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(t){this.app=t}_delete(){return delete ao[this.app.options.appId],Promise.resolve()}}let ao={},p_=[];const y_={};let hd="dataLayer",Q1="gtag",__,d0,v_=!1;function K1(){const r=[];if(dS()&&r.push("This is a browser extension environment."),gS()||r.push("Cookies are not available."),r.length>0){const t=r.map((s,o)=>`(${o+1}) ${s}`).join(" "),i=yn.create("invalid-analytics-context",{errorInfo:t});on.warn(i.message)}}function Y1(r,t,i){K1();const s=r.options.appId;if(!s)throw yn.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)on.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw yn.create("no-api-key");if(ao[s]!=null)throw yn.create("already-exists",{id:s});if(!v_){C1(hd);const{wrappedGtag:c,gtagCore:f}=V1(ao,p_,y_,hd,Q1);d0=c,__=f,v_=!0}return ao[s]=F1(r,p_,y_,t,__,hd,i),new G1(r)}function $1(r=Hv()){r=Fn(r);const t=Ao(r,mc);return t.isInitialized()?t.getImmediate():X1(r)}function X1(r,t={}){const i=Ao(r,mc);if(i.isInitialized()){const o=i.getImmediate();if(hc(t,i.getOptions()))return o;throw yn.create("already-initialized")}return i.initialize({options:t})}function Z1(r,t,i,s){r=Fn(r),q1(d0,ao[r.app.options.appId],t,i,s).catch(o=>on.error(o))}const E_="@firebase/analytics",T_="0.10.11";function W1(){kr(new Hi(mc,(t,{options:i})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("installations-internal").getImmediate();return Y1(s,o,i)},"PUBLIC")),kr(new Hi("analytics-internal",r,"PRIVATE")),oi(E_,T_),oi(E_,T_,"esm2017");function r(t){try{const i=t.getProvider(mc).getImmediate();return{logEvent:(s,o,c)=>Z1(i,s,o,c)}}catch(i){throw yn.create("interop-component-reg-failed",{reason:i})}}}W1();var A_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Mr,m0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(O,w){function b(){}b.prototype=w.prototype,O.D=w.prototype,O.prototype=new b,O.prototype.constructor=O,O.C=function(D,M,j){for(var x=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)x[ye-2]=arguments[ye];return w.prototype[M].apply(D,x)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,w,b){b||(b=0);var D=Array(16);if(typeof w=="string")for(var M=0;16>M;++M)D[M]=w.charCodeAt(b++)|w.charCodeAt(b++)<<8|w.charCodeAt(b++)<<16|w.charCodeAt(b++)<<24;else for(M=0;16>M;++M)D[M]=w[b++]|w[b++]<<8|w[b++]<<16|w[b++]<<24;w=O.g[0],b=O.g[1],M=O.g[2];var j=O.g[3],x=w+(j^b&(M^j))+D[0]+3614090360&4294967295;w=b+(x<<7&4294967295|x>>>25),x=j+(M^w&(b^M))+D[1]+3905402710&4294967295,j=w+(x<<12&4294967295|x>>>20),x=M+(b^j&(w^b))+D[2]+606105819&4294967295,M=j+(x<<17&4294967295|x>>>15),x=b+(w^M&(j^w))+D[3]+3250441966&4294967295,b=M+(x<<22&4294967295|x>>>10),x=w+(j^b&(M^j))+D[4]+4118548399&4294967295,w=b+(x<<7&4294967295|x>>>25),x=j+(M^w&(b^M))+D[5]+1200080426&4294967295,j=w+(x<<12&4294967295|x>>>20),x=M+(b^j&(w^b))+D[6]+2821735955&4294967295,M=j+(x<<17&4294967295|x>>>15),x=b+(w^M&(j^w))+D[7]+4249261313&4294967295,b=M+(x<<22&4294967295|x>>>10),x=w+(j^b&(M^j))+D[8]+1770035416&4294967295,w=b+(x<<7&4294967295|x>>>25),x=j+(M^w&(b^M))+D[9]+2336552879&4294967295,j=w+(x<<12&4294967295|x>>>20),x=M+(b^j&(w^b))+D[10]+4294925233&4294967295,M=j+(x<<17&4294967295|x>>>15),x=b+(w^M&(j^w))+D[11]+2304563134&4294967295,b=M+(x<<22&4294967295|x>>>10),x=w+(j^b&(M^j))+D[12]+1804603682&4294967295,w=b+(x<<7&4294967295|x>>>25),x=j+(M^w&(b^M))+D[13]+4254626195&4294967295,j=w+(x<<12&4294967295|x>>>20),x=M+(b^j&(w^b))+D[14]+2792965006&4294967295,M=j+(x<<17&4294967295|x>>>15),x=b+(w^M&(j^w))+D[15]+1236535329&4294967295,b=M+(x<<22&4294967295|x>>>10),x=w+(M^j&(b^M))+D[1]+4129170786&4294967295,w=b+(x<<5&4294967295|x>>>27),x=j+(b^M&(w^b))+D[6]+3225465664&4294967295,j=w+(x<<9&4294967295|x>>>23),x=M+(w^b&(j^w))+D[11]+643717713&4294967295,M=j+(x<<14&4294967295|x>>>18),x=b+(j^w&(M^j))+D[0]+3921069994&4294967295,b=M+(x<<20&4294967295|x>>>12),x=w+(M^j&(b^M))+D[5]+3593408605&4294967295,w=b+(x<<5&4294967295|x>>>27),x=j+(b^M&(w^b))+D[10]+38016083&4294967295,j=w+(x<<9&4294967295|x>>>23),x=M+(w^b&(j^w))+D[15]+3634488961&4294967295,M=j+(x<<14&4294967295|x>>>18),x=b+(j^w&(M^j))+D[4]+3889429448&4294967295,b=M+(x<<20&4294967295|x>>>12),x=w+(M^j&(b^M))+D[9]+568446438&4294967295,w=b+(x<<5&4294967295|x>>>27),x=j+(b^M&(w^b))+D[14]+3275163606&4294967295,j=w+(x<<9&4294967295|x>>>23),x=M+(w^b&(j^w))+D[3]+4107603335&4294967295,M=j+(x<<14&4294967295|x>>>18),x=b+(j^w&(M^j))+D[8]+1163531501&4294967295,b=M+(x<<20&4294967295|x>>>12),x=w+(M^j&(b^M))+D[13]+2850285829&4294967295,w=b+(x<<5&4294967295|x>>>27),x=j+(b^M&(w^b))+D[2]+4243563512&4294967295,j=w+(x<<9&4294967295|x>>>23),x=M+(w^b&(j^w))+D[7]+1735328473&4294967295,M=j+(x<<14&4294967295|x>>>18),x=b+(j^w&(M^j))+D[12]+2368359562&4294967295,b=M+(x<<20&4294967295|x>>>12),x=w+(b^M^j)+D[5]+4294588738&4294967295,w=b+(x<<4&4294967295|x>>>28),x=j+(w^b^M)+D[8]+2272392833&4294967295,j=w+(x<<11&4294967295|x>>>21),x=M+(j^w^b)+D[11]+1839030562&4294967295,M=j+(x<<16&4294967295|x>>>16),x=b+(M^j^w)+D[14]+4259657740&4294967295,b=M+(x<<23&4294967295|x>>>9),x=w+(b^M^j)+D[1]+2763975236&4294967295,w=b+(x<<4&4294967295|x>>>28),x=j+(w^b^M)+D[4]+1272893353&4294967295,j=w+(x<<11&4294967295|x>>>21),x=M+(j^w^b)+D[7]+4139469664&4294967295,M=j+(x<<16&4294967295|x>>>16),x=b+(M^j^w)+D[10]+3200236656&4294967295,b=M+(x<<23&4294967295|x>>>9),x=w+(b^M^j)+D[13]+681279174&4294967295,w=b+(x<<4&4294967295|x>>>28),x=j+(w^b^M)+D[0]+3936430074&4294967295,j=w+(x<<11&4294967295|x>>>21),x=M+(j^w^b)+D[3]+3572445317&4294967295,M=j+(x<<16&4294967295|x>>>16),x=b+(M^j^w)+D[6]+76029189&4294967295,b=M+(x<<23&4294967295|x>>>9),x=w+(b^M^j)+D[9]+3654602809&4294967295,w=b+(x<<4&4294967295|x>>>28),x=j+(w^b^M)+D[12]+3873151461&4294967295,j=w+(x<<11&4294967295|x>>>21),x=M+(j^w^b)+D[15]+530742520&4294967295,M=j+(x<<16&4294967295|x>>>16),x=b+(M^j^w)+D[2]+3299628645&4294967295,b=M+(x<<23&4294967295|x>>>9),x=w+(M^(b|~j))+D[0]+4096336452&4294967295,w=b+(x<<6&4294967295|x>>>26),x=j+(b^(w|~M))+D[7]+1126891415&4294967295,j=w+(x<<10&4294967295|x>>>22),x=M+(w^(j|~b))+D[14]+2878612391&4294967295,M=j+(x<<15&4294967295|x>>>17),x=b+(j^(M|~w))+D[5]+4237533241&4294967295,b=M+(x<<21&4294967295|x>>>11),x=w+(M^(b|~j))+D[12]+1700485571&4294967295,w=b+(x<<6&4294967295|x>>>26),x=j+(b^(w|~M))+D[3]+2399980690&4294967295,j=w+(x<<10&4294967295|x>>>22),x=M+(w^(j|~b))+D[10]+4293915773&4294967295,M=j+(x<<15&4294967295|x>>>17),x=b+(j^(M|~w))+D[1]+2240044497&4294967295,b=M+(x<<21&4294967295|x>>>11),x=w+(M^(b|~j))+D[8]+1873313359&4294967295,w=b+(x<<6&4294967295|x>>>26),x=j+(b^(w|~M))+D[15]+4264355552&4294967295,j=w+(x<<10&4294967295|x>>>22),x=M+(w^(j|~b))+D[6]+2734768916&4294967295,M=j+(x<<15&4294967295|x>>>17),x=b+(j^(M|~w))+D[13]+1309151649&4294967295,b=M+(x<<21&4294967295|x>>>11),x=w+(M^(b|~j))+D[4]+4149444226&4294967295,w=b+(x<<6&4294967295|x>>>26),x=j+(b^(w|~M))+D[11]+3174756917&4294967295,j=w+(x<<10&4294967295|x>>>22),x=M+(w^(j|~b))+D[2]+718787259&4294967295,M=j+(x<<15&4294967295|x>>>17),x=b+(j^(M|~w))+D[9]+3951481745&4294967295,O.g[0]=O.g[0]+w&4294967295,O.g[1]=O.g[1]+(M+(x<<21&4294967295|x>>>11))&4294967295,O.g[2]=O.g[2]+M&4294967295,O.g[3]=O.g[3]+j&4294967295}s.prototype.u=function(O,w){w===void 0&&(w=O.length);for(var b=w-this.blockSize,D=this.B,M=this.h,j=0;j<w;){if(M==0)for(;j<=b;)o(this,O,j),j+=this.blockSize;if(typeof O=="string"){for(;j<w;)if(D[M++]=O.charCodeAt(j++),M==this.blockSize){o(this,D),M=0;break}}else for(;j<w;)if(D[M++]=O[j++],M==this.blockSize){o(this,D),M=0;break}}this.h=M,this.o+=w},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var w=1;w<O.length-8;++w)O[w]=0;var b=8*this.o;for(w=O.length-8;w<O.length;++w)O[w]=b&255,b/=256;for(this.u(O),O=Array(16),w=b=0;4>w;++w)for(var D=0;32>D;D+=8)O[b++]=this.g[w]>>>D&255;return O};function c(O,w){var b=m;return Object.prototype.hasOwnProperty.call(b,O)?b[O]:b[O]=w(O)}function f(O,w){this.h=w;for(var b=[],D=!0,M=O.length-1;0<=M;M--){var j=O[M]|0;D&&j==w||(b[M]=j,D=!1)}this.g=b}var m={};function p(O){return-128<=O&&128>O?c(O,function(w){return new f([w|0],0>w?-1:0)}):new f([O|0],0>O?-1:0)}function y(O){if(isNaN(O)||!isFinite(O))return S;if(0>O)return L(y(-O));for(var w=[],b=1,D=0;O>=b;D++)w[D]=O/b|0,b*=4294967296;return new f(w,0)}function T(O,w){if(O.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(O.charAt(0)=="-")return L(T(O.substring(1),w));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=y(Math.pow(w,8)),D=S,M=0;M<O.length;M+=8){var j=Math.min(8,O.length-M),x=parseInt(O.substring(M,M+j),w);8>j?(j=y(Math.pow(w,j)),D=D.j(j).add(y(x))):(D=D.j(b),D=D.add(y(x)))}return D}var S=p(0),C=p(1),I=p(16777216);r=f.prototype,r.m=function(){if(q(this))return-L(this).m();for(var O=0,w=1,b=0;b<this.g.length;b++){var D=this.i(b);O+=(0<=D?D:4294967296+D)*w,w*=4294967296}return O},r.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(z(this))return"0";if(q(this))return"-"+L(this).toString(O);for(var w=y(Math.pow(O,6)),b=this,D="";;){var M=gt(b,w).g;b=Y(b,M.j(w));var j=((0<b.g.length?b.g[0]:b.h)>>>0).toString(O);if(b=M,z(b))return j+D;for(;6>j.length;)j="0"+j;D=j+D}},r.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function z(O){if(O.h!=0)return!1;for(var w=0;w<O.g.length;w++)if(O.g[w]!=0)return!1;return!0}function q(O){return O.h==-1}r.l=function(O){return O=Y(this,O),q(O)?-1:z(O)?0:1};function L(O){for(var w=O.g.length,b=[],D=0;D<w;D++)b[D]=~O.g[D];return new f(b,~O.h).add(C)}r.abs=function(){return q(this)?L(this):this},r.add=function(O){for(var w=Math.max(this.g.length,O.g.length),b=[],D=0,M=0;M<=w;M++){var j=D+(this.i(M)&65535)+(O.i(M)&65535),x=(j>>>16)+(this.i(M)>>>16)+(O.i(M)>>>16);D=x>>>16,j&=65535,x&=65535,b[M]=x<<16|j}return new f(b,b[b.length-1]&-2147483648?-1:0)};function Y(O,w){return O.add(L(w))}r.j=function(O){if(z(this)||z(O))return S;if(q(this))return q(O)?L(this).j(L(O)):L(L(this).j(O));if(q(O))return L(this.j(L(O)));if(0>this.l(I)&&0>O.l(I))return y(this.m()*O.m());for(var w=this.g.length+O.g.length,b=[],D=0;D<2*w;D++)b[D]=0;for(D=0;D<this.g.length;D++)for(var M=0;M<O.g.length;M++){var j=this.i(D)>>>16,x=this.i(D)&65535,ye=O.i(M)>>>16,he=O.i(M)&65535;b[2*D+2*M]+=x*he,tt(b,2*D+2*M),b[2*D+2*M+1]+=j*he,tt(b,2*D+2*M+1),b[2*D+2*M+1]+=x*ye,tt(b,2*D+2*M+1),b[2*D+2*M+2]+=j*ye,tt(b,2*D+2*M+2)}for(D=0;D<w;D++)b[D]=b[2*D+1]<<16|b[2*D];for(D=w;D<2*w;D++)b[D]=0;return new f(b,0)};function tt(O,w){for(;(O[w]&65535)!=O[w];)O[w+1]+=O[w]>>>16,O[w]&=65535,w++}function et(O,w){this.g=O,this.h=w}function gt(O,w){if(z(w))throw Error("division by zero");if(z(O))return new et(S,S);if(q(O))return w=gt(L(O),w),new et(L(w.g),L(w.h));if(q(w))return w=gt(O,L(w)),new et(L(w.g),w.h);if(30<O.g.length){if(q(O)||q(w))throw Error("slowDivide_ only works with positive integers.");for(var b=C,D=w;0>=D.l(O);)b=ut(b),D=ut(D);var M=bt(b,1),j=bt(D,1);for(D=bt(D,2),b=bt(b,2);!z(D);){var x=j.add(D);0>=x.l(O)&&(M=M.add(b),j=x),D=bt(D,1),b=bt(b,1)}return w=Y(O,M.j(w)),new et(M,w)}for(M=S;0<=O.l(w);){for(b=Math.max(1,Math.floor(O.m()/w.m())),D=Math.ceil(Math.log(b)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),j=y(b),x=j.j(w);q(x)||0<x.l(O);)b-=D,j=y(b),x=j.j(w);z(j)&&(j=C),M=M.add(j),O=Y(O,x)}return new et(M,O)}r.A=function(O){return gt(this,O).h},r.and=function(O){for(var w=Math.max(this.g.length,O.g.length),b=[],D=0;D<w;D++)b[D]=this.i(D)&O.i(D);return new f(b,this.h&O.h)},r.or=function(O){for(var w=Math.max(this.g.length,O.g.length),b=[],D=0;D<w;D++)b[D]=this.i(D)|O.i(D);return new f(b,this.h|O.h)},r.xor=function(O){for(var w=Math.max(this.g.length,O.g.length),b=[],D=0;D<w;D++)b[D]=this.i(D)^O.i(D);return new f(b,this.h^O.h)};function ut(O){for(var w=O.g.length+1,b=[],D=0;D<w;D++)b[D]=O.i(D)<<1|O.i(D-1)>>>31;return new f(b,O.h)}function bt(O,w){var b=w>>5;w%=32;for(var D=O.g.length-b,M=[],j=0;j<D;j++)M[j]=0<w?O.i(j+b)>>>w|O.i(j+b+1)<<32-w:O.i(j+b);return new f(M,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,m0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=T,Mr=f}).apply(typeof A_<"u"?A_:typeof self<"u"?self:typeof window<"u"?window:{});var $u=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var g0,eo,p0,ic,Rd,y0,_0,v0;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,g,_){return u==Array.prototype||u==Object.prototype||(u[g]=_.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof $u=="object"&&$u];for(var g=0;g<u.length;++g){var _=u[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=i(this);function o(u,g){if(g)t:{var _=s;u=u.split(".");for(var A=0;A<u.length-1;A++){var k=u[A];if(!(k in _))break t;_=_[k]}u=u[u.length-1],A=_[u],g=g(A),g!=A&&g!=null&&t(_,u,{configurable:!0,writable:!0,value:g})}}function c(u,g){u instanceof String&&(u+="");var _=0,A=!1,k={next:function(){if(!A&&_<u.length){var F=_++;return{value:g(F,u[F]),done:!1}}return A=!0,{done:!0,value:void 0}}};return k[Symbol.iterator]=function(){return k},k}o("Array.prototype.values",function(u){return u||function(){return c(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(u){var g=typeof u;return g=g!="object"?g:u?Array.isArray(u)?"array":g:"null",g=="array"||g=="object"&&typeof u.length=="number"}function y(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function T(u,g,_){return u.call.apply(u.bind,arguments)}function S(u,g,_){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var k=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(k,A),u.apply(g,k)}}return function(){return u.apply(g,arguments)}}function C(u,g,_){return C=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:S,C.apply(null,arguments)}function I(u,g){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function z(u,g){function _(){}_.prototype=g.prototype,u.aa=g.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(A,k,F){for(var it=Array(arguments.length-2),Ot=2;Ot<arguments.length;Ot++)it[Ot-2]=arguments[Ot];return g.prototype[k].apply(A,it)}}function q(u){const g=u.length;if(0<g){const _=Array(g);for(let A=0;A<g;A++)_[A]=u[A];return _}return[]}function L(u,g){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(p(A)){const k=u.length||0,F=A.length||0;u.length=k+F;for(let it=0;it<F;it++)u[k+it]=A[it]}else u.push(A)}}class Y{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function tt(u){return/^[\s\xa0]*$/.test(u)}function et(){var u=m.navigator;return u&&(u=u.userAgent)?u:""}function gt(u){return gt[" "](u),u}gt[" "]=function(){};var ut=et().indexOf("Gecko")!=-1&&!(et().toLowerCase().indexOf("webkit")!=-1&&et().indexOf("Edge")==-1)&&!(et().indexOf("Trident")!=-1||et().indexOf("MSIE")!=-1)&&et().indexOf("Edge")==-1;function bt(u,g,_){for(const A in u)g.call(_,u[A],A,u)}function O(u,g){for(const _ in u)g.call(void 0,u[_],_,u)}function w(u){const g={};for(const _ in u)g[_]=u[_];return g}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(u,g){let _,A;for(let k=1;k<arguments.length;k++){A=arguments[k];for(_ in A)u[_]=A[_];for(let F=0;F<b.length;F++)_=b[F],Object.prototype.hasOwnProperty.call(A,_)&&(u[_]=A[_])}}function M(u){var g=1;u=u.split(":");const _=[];for(;0<g&&u.length;)_.push(u.shift()),g--;return u.length&&_.push(u.join(":")),_}function j(u){m.setTimeout(()=>{throw u},0)}function x(){var u=qt;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class ye{constructor(){this.h=this.g=null}add(g,_){const A=he.get();A.set(g,_),this.h?this.h.next=A:this.g=A,this.h=A}}var he=new Y(()=>new rt,u=>u.reset());class rt{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let _t,mt=!1,qt=new ye,V=()=>{const u=m.Promise.resolve(void 0);_t=()=>{u.then(nt)}};var nt=()=>{for(var u;u=x();){try{u.h.call(u.g)}catch(_){j(_)}var g=he;g.j(u),100>g.h&&(g.h++,u.next=g.g,g.g=u)}mt=!1};function ht(){this.s=this.s,this.C=this.C}ht.prototype.s=!1,ht.prototype.ma=function(){this.s||(this.s=!0,this.N())},ht.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function at(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}at.prototype.h=function(){this.defaultPrevented=!0};var st=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};m.addEventListener("test",_,g),m.removeEventListener("test",_,g)}catch{}return u}();function Rt(u,g){if(at.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget){if(ut){t:{try{gt(g.nodeName);var k=!0;break t}catch{}k=!1}k||(g=null)}}else _=="mouseover"?g=u.fromElement:_=="mouseout"&&(g=u.toElement);this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:St[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Rt.aa.h.call(this)}}z(Rt,at);var St={2:"touch",3:"pen",4:"mouse"};Rt.prototype.h=function(){Rt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var fe="closure_listenable_"+(1e6*Math.random()|0),kt=0;function ie(u,g,_,A,k){this.listener=u,this.proxy=null,this.src=g,this.type=_,this.capture=!!A,this.ha=k,this.key=++kt,this.da=this.fa=!1}function Gt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ye(u){this.src=u,this.g={},this.h=0}Ye.prototype.add=function(u,g,_,A,k){var F=u.toString();u=this.g[F],u||(u=this.g[F]=[],this.h++);var it=_n(u,g,A,k);return-1<it?(g=u[it],_||(g.fa=!1)):(g=new ie(g,this.src,F,!!A,k),g.fa=_,u.push(g)),g};function gi(u,g){var _=g.type;if(_ in u.g){var A=u.g[_],k=Array.prototype.indexOf.call(A,g,void 0),F;(F=0<=k)&&Array.prototype.splice.call(A,k,1),F&&(Gt(g),u.g[_].length==0&&(delete u.g[_],u.h--))}}function _n(u,g,_,A){for(var k=0;k<u.length;++k){var F=u[k];if(!F.da&&F.listener==g&&F.capture==!!_&&F.ha==A)return k}return-1}var Ki="closure_lm_"+(1e6*Math.random()|0),Yi={};function pi(u,g,_,A,k){if(Array.isArray(g)){for(var F=0;F<g.length;F++)pi(u,g[F],_,A,k);return null}return _=Co(_),u&&u[fe]?u.K(g,_,y(A)?!!A.capture:!1,k):Qs(u,g,_,!1,A,k)}function Qs(u,g,_,A,k,F){if(!g)throw Error("Invalid event type");var it=y(k)?!!k.capture:!!k,Ot=Ks(u);if(Ot||(u[Ki]=Ot=new Ye(u)),_=Ot.add(g,_,A,it,F),_.proxy)return _;if(A=za(),_.proxy=A,A.src=u,A.listener=_,u.addEventListener)st||(k=it),k===void 0&&(k=!1),u.addEventListener(g.toString(),A,k);else if(u.attachEvent)u.attachEvent(Ba(g.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function za(){function u(_){return g.call(u.src,u.listener,_)}const g=Wc;return u}function ja(u,g,_,A,k){if(Array.isArray(g))for(var F=0;F<g.length;F++)ja(u,g[F],_,A,k);else A=y(A)?!!A.capture:!!A,_=Co(_),u&&u[fe]?(u=u.i,g=String(g).toString(),g in u.g&&(F=u.g[g],_=_n(F,_,A,k),-1<_&&(Gt(F[_]),Array.prototype.splice.call(F,_,1),F.length==0&&(delete u.g[g],u.h--)))):u&&(u=Ks(u))&&(g=u.g[g.toString()],u=-1,g&&(u=_n(g,_,A,k)),(_=-1<u?g[u]:null)&&$r(_))}function $r(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[fe])gi(g.i,u);else{var _=u.type,A=u.proxy;g.removeEventListener?g.removeEventListener(_,A,u.capture):g.detachEvent?g.detachEvent(Ba(_),A):g.addListener&&g.removeListener&&g.removeListener(A),(_=Ks(g))?(gi(_,u),_.h==0&&(_.src=null,g[Ki]=null)):Gt(u)}}}function Ba(u){return u in Yi?Yi[u]:Yi[u]="on"+u}function Wc(u,g){if(u.da)u=!0;else{g=new Rt(g,this);var _=u.listener,A=u.ha||u.src;u.fa&&$r(u),u=_.call(A,g)}return u}function Ks(u){return u=u[Ki],u instanceof Ye?u:null}var en="__closure_events_fn_"+(1e9*Math.random()>>>0);function Co(u){return typeof u=="function"?u:(u[en]||(u[en]=function(g){return u.handleEvent(g)}),u[en])}function _e(){ht.call(this),this.i=new Ye(this),this.M=this,this.F=null}z(_e,ht),_e.prototype[fe]=!0,_e.prototype.removeEventListener=function(u,g,_,A){ja(this,u,g,_,A)};function Ce(u,g){var _,A=u.F;if(A)for(_=[];A;A=A.F)_.push(A);if(u=u.M,A=g.type||g,typeof g=="string")g=new at(g,u);else if(g instanceof at)g.target=g.target||u;else{var k=g;g=new at(A,u),D(g,k)}if(k=!0,_)for(var F=_.length-1;0<=F;F--){var it=g.g=_[F];k=yi(it,A,!0,g)&&k}if(it=g.g=u,k=yi(it,A,!0,g)&&k,k=yi(it,A,!1,g)&&k,_)for(F=0;F<_.length;F++)it=g.g=_[F],k=yi(it,A,!1,g)&&k}_e.prototype.N=function(){if(_e.aa.N.call(this),this.i){var u=this.i,g;for(g in u.g){for(var _=u.g[g],A=0;A<_.length;A++)Gt(_[A]);delete u.g[g],u.h--}}this.F=null},_e.prototype.K=function(u,g,_,A){return this.i.add(String(u),g,!1,_,A)},_e.prototype.L=function(u,g,_,A){return this.i.add(String(u),g,!0,_,A)};function yi(u,g,_,A){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();for(var k=!0,F=0;F<g.length;++F){var it=g[F];if(it&&!it.da&&it.capture==_){var Ot=it.listener,Ee=it.ha||it.src;it.fa&&gi(u.i,it),k=Ot.call(Ee,A)!==!1&&k}}return k&&!A.defaultPrevented}function Do(u,g,_){if(typeof u=="function")_&&(u=C(u,_));else if(u&&typeof u.handleEvent=="function")u=C(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(u,g||0)}function Ys(u){u.g=Do(()=>{u.g=null,u.i&&(u.i=!1,Ys(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class Jc extends ht{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Ys(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xr(u){ht.call(this),this.h=u,this.g={}}z(Xr,ht);var $i=[];function qe(u){bt(u.g,function(g,_){this.g.hasOwnProperty(_)&&$r(g)},u),u.g={}}Xr.prototype.N=function(){Xr.aa.N.call(this),qe(this)},Xr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $s=m.JSON.stringify,Gn=m.JSON.parse,$e=class{stringify(u){return m.JSON.stringify(u,void 0)}parse(u){return m.JSON.parse(u,void 0)}};function Xs(){}Xs.prototype.h=null;function xo(u){return u.h||(u.h=u.i())}function Io(){}var Qn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Xi(){at.call(this,"d")}z(Xi,at);function Pn(){at.call(this,"c")}z(Pn,at);var vn={},Zi=null;function qa(){return Zi=Zi||new _e}vn.La="serverreachability";function Zs(u){at.call(this,vn.La,u)}z(Zs,at);function Wi(u){const g=qa();Ce(g,new Zs(g))}vn.STAT_EVENT="statevent";function Ha(u,g){at.call(this,vn.STAT_EVENT,u),this.stat=g}z(Ha,at);function oe(u){const g=qa();Ce(g,new Ha(g,u))}vn.Ma="timingevent";function Vo(u,g){at.call(this,vn.Ma,u),this.size=g}z(Vo,at);function Ji(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){u()},g)}function tr(){this.g=!0}tr.prototype.xa=function(){this.g=!1};function No(u,g,_,A,k,F){u.info(function(){if(u.g)if(F)for(var it="",Ot=F.split("&"),Ee=0;Ee<Ot.length;Ee++){var Mt=Ot[Ee].split("=");if(1<Mt.length){var Ie=Mt[0];Mt=Mt[1];var Te=Ie.split("_");it=2<=Te.length&&Te[1]=="type"?it+(Ie+"="+Mt+"&"):it+(Ie+"=redacted&")}}else it=null;else it=F;return"XMLHTTP REQ ("+A+") [attempt "+k+"]: "+g+`
`+_+`
`+it})}function Oo(u,g,_,A,k,F,it){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+k+"]: "+g+`
`+_+`
`+F+" "+it})}function er(u,g,_,A){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+De(u,_)+(A?" "+A:"")})}function Kn(u,g){u.info(function(){return"TIMEOUT: "+g})}tr.prototype.info=function(){};function De(u,g){if(!u.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var A=_[u];if(!(2>A.length)){var k=A[1];if(Array.isArray(k)&&!(1>k.length)){var F=k[0];if(F!="noop"&&F!="stop"&&F!="close")for(var it=1;it<k.length;it++)k[it]=""}}}}return $s(_)}catch{return g}}var ve={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},_i={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Zr;function Fa(){}z(Fa,Xs),Fa.prototype.g=function(){return new XMLHttpRequest},Fa.prototype.i=function(){return{}},Zr=new Fa;function Yn(u,g,_,A){this.j=u,this.i=g,this.l=_,this.R=A||1,this.U=new Xr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ws}function Ws(){this.i=null,this.g="",this.h=!1}var nr={},Wr={};function kn(u,g,_){u.L=1,u.v=ea(re(g)),u.m=_,u.P=!0,vi(u,null)}function vi(u,g){u.F=Date.now(),Wt(u),u.A=re(u.v);var _=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),Ai(_.i,"t",A),u.C=0,_=u.j.J,u.h=new Ws,u.g=Ko(u.j,_?g:null,!u.m),0<u.O&&(u.M=new Jc(C(u.Y,u,u.g),u.O)),g=u.U,_=u.g,A=u.ca;var k="readystatechange";Array.isArray(k)||(k&&($i[0]=k.toString()),k=$i);for(var F=0;F<k.length;F++){var it=pi(_,k[F],A||g.handleEvent,!1,g.h||g);if(!it)break;g.g[it.key]=it}g=u.H?w(u.H):{},u.m?(u.u||(u.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,g)):(u.u="GET",u.g.ea(u.A,u.u,null,g)),Wi(),No(u.i,u.u,u.A,u.l,u.R,u.m)}Yn.prototype.ca=function(u){u=u.target;const g=this.M;g&&Sn(u)==3?g.j():this.Y(u)},Yn.prototype.Y=function(u){try{if(u==this.g)t:{const Te=Sn(this.g);var g=this.g.Ba();const Ri=this.g.Z();if(!(3>Te)&&(Te!=3||this.g&&(this.h.h||this.g.oa()||zo(this.g)))){this.J||Te!=4||g==7||(g==8||0>=Ri?Wi(3):Wi(2)),Ga(this);var _=this.g.Z();this.X=_;e:if(ir(this)){var A=zo(this.g);u="";var k=A.length,F=Sn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){nn(this),un(this);var it="";break e}this.h.i=new m.TextDecoder}for(g=0;g<k;g++)this.h.h=!0,u+=this.h.i.decode(A[g],{stream:!(F&&g==k-1)});A.length=0,this.h.g+=u,this.C=0,it=this.h.g}else it=this.g.oa();if(this.o=_==200,Oo(this.i,this.u,this.A,this.l,this.R,Te,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Ot,Ee=this.g;if((Ot=Ee.g?Ee.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!tt(Ot)){var Mt=Ot;break e}}Mt=null}if(_=Mt)er(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,cn(this,_);else{this.o=!1,this.s=3,oe(12),nn(this),un(this);break t}}if(this.P){_=!0;let Ue;for(;!this.J&&this.C<it.length;)if(Ue=rr(this,it),Ue==Wr){Te==4&&(this.s=4,oe(14),_=!1),er(this.i,this.l,null,"[Incomplete Response]");break}else if(Ue==nr){this.s=4,oe(15),er(this.i,this.l,it,"[Invalid Chunk]"),_=!1;break}else er(this.i,this.l,Ue,null),cn(this,Ue);if(ir(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Te!=4||it.length!=0||this.h.h||(this.s=1,oe(16),_=!1),this.o=this.o&&_,!_)er(this.i,this.l,it,"[Invalid Chunked Response]"),nn(this),un(this);else if(0<it.length&&!this.W){this.W=!0;var Ie=this.j;Ie.g==this&&Ie.ba&&!Ie.M&&(Ie.j.info("Great, no buffering proxy detected. Bytes received: "+it.length),oa(Ie),Ie.M=!0,oe(11))}}else er(this.i,this.l,it,null),cn(this,it);Te==4&&nn(this),this.o&&!this.J&&(Te==4?Fo(this.j,this):(this.o=!1,Wt(this)))}else ah(this.g),_==400&&0<it.indexOf("Unknown SID")?(this.s=3,oe(12)):(this.s=0,oe(13)),nn(this),un(this)}}}catch{}finally{}};function ir(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function rr(u,g){var _=u.C,A=g.indexOf(`
`,_);return A==-1?Wr:(_=Number(g.substring(_,A)),isNaN(_)?nr:(A+=1,A+_>g.length?Wr:(g=g.slice(A,A+_),u.C=A+_,g)))}Yn.prototype.cancel=function(){this.J=!0,nn(this)};function Wt(u){u.S=Date.now()+u.I,Js(u,u.I)}function Js(u,g){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Ji(C(u.ba,u),g)}function Ga(u){u.B&&(m.clearTimeout(u.B),u.B=null)}Yn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Kn(this.i,this.A),this.L!=2&&(Wi(),oe(17)),nn(this),this.s=2,un(this)):Js(this,this.S-u)};function un(u){u.j.G==0||u.J||Fo(u.j,u)}function nn(u){Ga(u);var g=u.M;g&&typeof g.ma=="function"&&g.ma(),u.M=null,qe(u.U),u.g&&(g=u.g,u.g=null,g.abort(),g.ma())}function cn(u,g){try{var _=u.j;if(_.G!=0&&(_.g==u||ar(_.h,u))){if(!u.K&&ar(_.h,u)&&_.G==3){try{var A=_.Da.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var k=A;if(k[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)es(_),Ja(_);else break t;cl(_),oe(18)}}else _.za=k[1],0<_.za-_.T&&37500>k[2]&&_.F&&_.v==0&&!_.C&&(_.C=Ji(C(_.Za,_),6e3));if(1>=Mo(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else wi(_,11)}else if((u.K||_.g==u)&&es(_),!tt(g))for(k=_.Da.g.parse(g),g=0;g<k.length;g++){let Mt=k[g];if(_.T=Mt[0],Mt=Mt[1],_.G==2)if(Mt[0]=="c"){_.K=Mt[1],_.ia=Mt[2];const Ie=Mt[3];Ie!=null&&(_.la=Ie,_.j.info("VER="+_.la));const Te=Mt[4];Te!=null&&(_.Aa=Te,_.j.info("SVER="+_.Aa));const Ri=Mt[5];Ri!=null&&typeof Ri=="number"&&0<Ri&&(A=1.5*Ri,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const Ue=u.g;if(Ue){const ei=Ue.g?Ue.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ei){var F=A.h;F.g||ei.indexOf("spdy")==-1&&ei.indexOf("quic")==-1&&ei.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(sr(F,F.h),F.h=null))}if(A.D){const fl=Ue.g?Ue.g.getResponseHeader("X-HTTP-Session-Id"):null;fl&&(A.ya=fl,zt(A.I,A.D,fl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var it=u;if(A.qa=Qo(A,A.J?A.ia:null,A.W),it.K){En(A.h,it);var Ot=it,Ee=A.L;Ee&&(Ot.I=Ee),Ot.B&&(Ga(Ot),Wt(Ot)),A.g=it}else qo(A);0<_.i.length&&ts(_)}else Mt[0]!="stop"&&Mt[0]!="close"||wi(_,7);else _.G==3&&(Mt[0]=="stop"||Mt[0]=="close"?Mt[0]=="stop"?wi(_,7):ol(_):Mt[0]!="noop"&&_.l&&_.l.ta(Mt),_.v=0)}}Wi(4)}catch{}}var th=class{constructor(u,g){this.g=u,this.map=g}};function tl(u){this.l=u||10,m.PerformanceNavigationTiming?(u=m.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function el(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Mo(u){return u.h?1:u.g?u.g.size:0}function ar(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function sr(u,g){u.g?u.g.add(g):u.h=g}function En(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}tl.prototype.cancel=function(){if(this.i=Xe(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Xe(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const _ of u.g.values())g=g.concat(_.D);return g}return q(u.i)}function Uo(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var g=[],_=u.length,A=0;A<_;A++)g.push(u[A]);return g}g=[],_=0;for(A in u)g[_++]=u[A];return g}function eh(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var g=[];u=u.length;for(var _=0;_<u;_++)g.push(_);return g}g=[],_=0;for(const A in u)g[_++]=A;return g}}}function Jr(u,g){if(u.forEach&&typeof u.forEach=="function")u.forEach(g,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,g,void 0);else for(var _=eh(u),A=Uo(u),k=A.length,F=0;F<k;F++)g.call(void 0,A[F],_&&_[F],u)}var nl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qa(u,g){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var A=u[_].indexOf("="),k=null;if(0<=A){var F=u[_].substring(0,A);k=u[_].substring(A+1)}else F=u[_];g(F,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function Ei(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Ei){this.h=u.h,lr(this,u.j),this.o=u.o,this.g=u.g,ta(this,u.s),this.l=u.l;var g=u.i,_=new $n;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),Ka(this,_),this.m=u.m}else u&&(g=String(u).match(nl))?(this.h=!1,lr(this,g[1]||"",!0),this.o=or(g[2]||""),this.g=or(g[3]||"",!0),ta(this,g[4]),this.l=or(g[5]||"",!0),Ka(this,g[6]||"",!0),this.m=or(g[7]||"")):(this.h=!1,this.i=new $n(null,this.h))}Ei.prototype.toString=function(){var u=[],g=this.j;g&&u.push(Tn(g,il,!0),":");var _=this.g;return(_||g=="file")&&(u.push("//"),(g=this.o)&&u.push(Tn(g,il,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Tn(_,_.charAt(0)=="/"?rl:Lo,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Tn(_,rh)),u.join("")};function re(u){return new Ei(u)}function lr(u,g,_){u.j=_?or(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function ta(u,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);u.s=g}else u.s=null}function Ka(u,g,_){g instanceof $n?(u.i=g,al(u.i,u.h)):(_||(g=Tn(g,ih)),u.i=new $n(g,u.h))}function zt(u,g,_){u.i.set(g,_)}function ea(u){return zt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function or(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Tn(u,g,_){return typeof u=="string"?(u=encodeURI(u).replace(g,nh),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function nh(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var il=/[#\/\?@]/g,Lo=/[#\?:]/g,rl=/[#\?]/g,ih=/[#\?@]/g,rh=/#/g;function $n(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function An(u){u.g||(u.g=new Map,u.h=0,u.i&&Qa(u.i,function(g,_){u.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}r=$n.prototype,r.add=function(u,g){An(this),this.i=null,u=bi(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(g),this.h+=1,this};function Ya(u,g){An(u),g=bi(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function Ti(u,g){return An(u),g=bi(u,g),u.g.has(g)}r.forEach=function(u,g){An(this),this.g.forEach(function(_,A){_.forEach(function(k){u.call(g,k,A,this)},this)},this)},r.na=function(){An(this);const u=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let A=0;A<g.length;A++){const k=u[A];for(let F=0;F<k.length;F++)_.push(g[A])}return _},r.V=function(u){An(this);let g=[];if(typeof u=="string")Ti(this,u)&&(g=g.concat(this.g.get(bi(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)g=g.concat(u[_])}return g},r.set=function(u,g){return An(this),this.i=null,u=bi(this,u),Ti(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},r.get=function(u,g){return u?(u=this.V(u),0<u.length?String(u[0]):g):g};function Ai(u,g,_){Ya(u,g),0<_.length&&(u.i=null,u.g.set(bi(u,g),q(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var A=g[_];const F=encodeURIComponent(String(A)),it=this.V(A);for(A=0;A<it.length;A++){var k=F;it[A]!==""&&(k+="="+encodeURIComponent(String(it[A]))),u.push(k)}}return this.i=u.join("&")};function bi(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function al(u,g){g&&!u.j&&(An(u),u.i=null,u.g.forEach(function(_,A){var k=A.toLowerCase();A!=k&&(Ya(this,A),Ai(this,k,_))},u)),u.j=g}function Po(u,g){const _=new tr;if(m.Image){const A=new Image;A.onload=I(bn,_,"TestLoadImage: loaded",!0,g,A),A.onerror=I(bn,_,"TestLoadImage: error",!1,g,A),A.onabort=I(bn,_,"TestLoadImage: abort",!1,g,A),A.ontimeout=I(bn,_,"TestLoadImage: timeout",!1,g,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else g(!1)}function na(u,g){const _=new tr,A=new AbortController,k=setTimeout(()=>{A.abort(),bn(_,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:A.signal}).then(F=>{clearTimeout(k),F.ok?bn(_,"TestPingServer: ok",!0,g):bn(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(k),bn(_,"TestPingServer: error",!1,g)})}function bn(u,g,_,A,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),A(_)}catch{}}function ia(){this.g=new $e}function Xn(u,g,_){const A=_||"";try{Jr(u,function(k,F){let it=k;y(k)&&(it=$s(k)),g.push(A+F+"="+encodeURIComponent(it))})}catch(k){throw g.push(A+"type="+encodeURIComponent("_badmap")),k}}function ur(u){this.l=u.Ub||null,this.j=u.eb||!1}z(ur,Xs),ur.prototype.g=function(){return new Si(this.l,this.j)},ur.prototype.i=function(u){return function(){return u}}({});function Si(u,g){_e.call(this),this.D=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}z(Si,_e),r=Si.prototype,r.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=g,this.readyState=1,Wn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(g.body=u),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Zn(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Wn(this)),this.g&&(this.readyState=3,Wn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;sl(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function sl(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?Zn(this):Wn(this),this.readyState==3&&sl(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,Zn(this))},r.Qa=function(u){this.g&&(this.response=u,Zn(this))},r.ga=function(){this.g&&Zn(this)};function Zn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Wn(u)}r.setRequestHeader=function(u,g){this.u.append(u,g)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=g.next();return u.join(`\r
`)};function Wn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Si.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ll(u){let g="";return bt(u,function(_,A){g+=A,g+=":",g+=_,g+=`\r
`}),g}function xe(u,g,_){t:{for(A in _){var A=!1;break t}A=!0}A||(_=ll(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):zt(u,g,_))}function Ht(u){_e.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}z(Ht,_e);var $a=/^https?$/i,ra=["POST","PUT"];r=Ht.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,g,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Zr.g(),this.v=this.o?xo(this.o):xo(Zr),this.g.onreadystatechange=C(this.Ea,this);try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(F){ko(this,F);return}if(u=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var k in A)_.set(k,A[k]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const F of A.keys())_.set(F,A.get(F));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(F=>F.toLowerCase()=="content-type"),k=m.FormData&&u instanceof m.FormData,!(0<=Array.prototype.indexOf.call(ra,g,void 0))||A||k||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,it]of _)this.g.setRequestHeader(F,it);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{aa(this),this.u=!0,this.g.send(u),this.u=!1}catch(F){ko(this,F)}};function ko(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.m=5,Xa(u),Jn(u)}function Xa(u){u.A||(u.A=!0,Ce(u,"complete"),Ce(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ce(this,"complete"),Ce(this,"abort"),Jn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Jn(this,!0)),Ht.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Za(this):this.bb())},r.bb=function(){Za(this)};function Za(u){if(u.h&&typeof f<"u"&&(!u.v[1]||Sn(u)!=4||u.Z()!=2)){if(u.u&&Sn(u)==4)Do(u.Ea,0,u);else if(Ce(u,"readystatechange"),Sn(u)==4){u.h=!1;try{const it=u.Z();t:switch(it){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break t;default:g=!1}var _;if(!(_=g)){var A;if(A=it===0){var k=String(u.D).match(nl)[1]||null;!k&&m.self&&m.self.location&&(k=m.self.location.protocol.slice(0,-1)),A=!$a.test(k?k.toLowerCase():"")}_=A}if(_)Ce(u,"complete"),Ce(u,"success");else{u.m=6;try{var F=2<Sn(u)?u.g.statusText:""}catch{F=""}u.l=F+" ["+u.Z()+"]",Xa(u)}}finally{Jn(u)}}}}function Jn(u,g){if(u.g){aa(u);const _=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,g||Ce(u,"ready");try{_.onreadystatechange=A}catch{}}}function aa(u){u.I&&(m.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function Sn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<Sn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),Gn(g)}};function zo(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ah(u){const g={};u=(u.g&&2<=Sn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(tt(u[A]))continue;var _=M(u[A]);const k=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const F=g[k]||[];g[k]=F,F.push(_)}O(g,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function sa(u,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||g}function Wa(u){this.Aa=0,this.i=[],this.j=new tr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=sa("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=sa("baseRetryDelayMs",5e3,u),this.cb=sa("retryDelaySeedMs",1e4,u),this.Wa=sa("forwardChannelMaxRetries",2,u),this.wa=sa("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new tl(u&&u.concurrentRequestLimit),this.Da=new ia,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Wa.prototype,r.la=8,r.G=1,r.connect=function(u,g,_,A){oe(0),this.W=u,this.H=g||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=Qo(this,null,this.W),ts(this)};function ol(u){if(jo(u),u.G==3){var g=u.U++,_=re(u.I);if(zt(_,"SID",u.K),zt(_,"RID",g),zt(_,"TYPE","terminate"),la(u,_),g=new Yn(u,u.j,g),g.L=2,g.v=ea(re(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=g.v,_=!0),_||(g.g=Ko(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Wt(g)}Go(u)}function Ja(u){u.g&&(oa(u),u.g.cancel(),u.g=null)}function jo(u){Ja(u),u.u&&(m.clearTimeout(u.u),u.u=null),es(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&m.clearTimeout(u.s),u.s=null)}function ts(u){if(!el(u.h)&&!u.s){u.s=!0;var g=u.Ga;_t||V(),mt||(_t(),mt=!0),qt.add(g,u),u.B=0}}function sh(u,g){return Mo(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=g.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Ji(C(u.Ga,u,g),hl(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const k=new Yn(this,this.j,u);let F=this.o;if(this.S&&(F?(F=w(F),D(F,this.S)):F=this.S),this.m!==null||this.O||(k.H=F,F=null),this.P)t:{for(var g=0,_=0;_<this.i.length;_++){e:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(g+=A,4096<g){g=_;break t}if(g===4096||_===this.i.length-1){g=_+1;break t}}g=1e3}else g=1e3;g=Bo(this,k,g),_=re(this.I),zt(_,"RID",u),zt(_,"CVER",22),this.D&&zt(_,"X-HTTP-Session-Id",this.D),la(this,_),F&&(this.O?g="headers="+encodeURIComponent(String(ll(F)))+"&"+g:this.m&&xe(_,this.m,F)),sr(this.h,k),this.Ua&&zt(_,"TYPE","init"),this.P?(zt(_,"$req",g),zt(_,"SID","null"),k.T=!0,kn(k,_,null)):kn(k,_,g),this.G=2}}else this.G==3&&(u?ul(this,u):this.i.length==0||el(this.h)||ul(this))};function ul(u,g){var _;g?_=g.l:_=u.U++;const A=re(u.I);zt(A,"SID",u.K),zt(A,"RID",_),zt(A,"AID",u.T),la(u,A),u.m&&u.o&&xe(A,u.m,u.o),_=new Yn(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),g&&(u.i=g.D.concat(u.i)),g=Bo(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),sr(u.h,_),kn(_,A,g)}function la(u,g){u.H&&bt(u.H,function(_,A){zt(g,A,_)}),u.l&&Jr({},function(_,A){zt(g,A,_)})}function Bo(u,g,_){_=Math.min(u.i.length,_);var A=u.l?C(u.l.Na,u.l,u):null;t:{var k=u.i;let F=-1;for(;;){const it=["count="+_];F==-1?0<_?(F=k[0].g,it.push("ofs="+F)):F=0:it.push("ofs="+F);let Ot=!0;for(let Ee=0;Ee<_;Ee++){let Mt=k[Ee].g;const Ie=k[Ee].map;if(Mt-=F,0>Mt)F=Math.max(0,k[Ee].g-100),Ot=!1;else try{Xn(Ie,it,"req"+Mt+"_")}catch{A&&A(Ie)}}if(Ot){A=it.join("&");break t}}}return u=u.i.splice(0,_),g.D=u,A}function qo(u){if(!u.g&&!u.u){u.Y=1;var g=u.Fa;_t||V(),mt||(_t(),mt=!0),qt.add(g,u),u.v=0}}function cl(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Ji(C(u.Fa,u),hl(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,Ho(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Ji(C(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,oe(10),Ja(this),Ho(this))};function oa(u){u.A!=null&&(m.clearTimeout(u.A),u.A=null)}function Ho(u){u.g=new Yn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var g=re(u.qa);zt(g,"RID","rpc"),zt(g,"SID",u.K),zt(g,"AID",u.T),zt(g,"CI",u.F?"0":"1"),!u.F&&u.ja&&zt(g,"TO",u.ja),zt(g,"TYPE","xmlhttp"),la(u,g),u.m&&u.o&&xe(g,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=ea(re(g)),_.m=null,_.P=!0,vi(_,u)}r.Za=function(){this.C!=null&&(this.C=null,Ja(this),cl(this),oe(19))};function es(u){u.C!=null&&(m.clearTimeout(u.C),u.C=null)}function Fo(u,g){var _=null;if(u.g==g){es(u),oa(u),u.g=null;var A=2}else if(ar(u.h,g))_=g.D,En(u.h,g),A=1;else return;if(u.G!=0){if(g.o)if(A==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var k=u.B;A=qa(),Ce(A,new Vo(A,_)),ts(u)}else qo(u);else if(k=g.s,k==3||k==0&&0<g.X||!(A==1&&sh(u,g)||A==2&&cl(u)))switch(_&&0<_.length&&(g=u.h,g.i=g.i.concat(_)),k){case 1:wi(u,5);break;case 4:wi(u,10);break;case 3:wi(u,6);break;default:wi(u,2)}}}function hl(u,g){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*g}function wi(u,g){if(u.j.info("Error code "+g),g==2){var _=C(u.fb,u),A=u.Xa;const k=!A;A=new Ei(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||lr(A,"https"),ea(A),k?Po(A.toString(),_):na(A.toString(),_)}else oe(2);u.G=0,u.l&&u.l.sa(g),Go(u),jo(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),oe(2)):(this.j.info("Failed to ping google.com"),oe(1))};function Go(u){if(u.G=0,u.ka=[],u.l){const g=Xe(u.h);(g.length!=0||u.i.length!=0)&&(L(u.ka,g),L(u.ka,u.i),u.h.i.length=0,q(u.i),u.i.length=0),u.l.ra()}}function Qo(u,g,_){var A=_ instanceof Ei?re(_):new Ei(_);if(A.g!="")g&&(A.g=g+"."+A.g),ta(A,A.s);else{var k=m.location;A=k.protocol,g=g?g+"."+k.hostname:k.hostname,k=+k.port;var F=new Ei(null);A&&lr(F,A),g&&(F.g=g),k&&ta(F,k),_&&(F.l=_),A=F}return _=u.D,g=u.ya,_&&g&&zt(A,_,g),zt(A,"VER",u.la),la(u,A),A}function Ko(u,g,_){if(g&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Ca&&!u.pa?new Ht(new ur({eb:_})):new Ht(u.pa),g.Ha(u.J),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yo(){}r=Yo.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ns(){}ns.prototype.g=function(u,g){return new Ze(u,g)};function Ze(u,g){_e.call(this),this.g=new Wa(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(u?u["X-WebChannel-Client-Profile"]=g.va:u={"X-WebChannel-Client-Profile":g.va}),this.g.S=u,(u=g&&g.Sb)&&!tt(u)&&(this.g.m=u),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!tt(g)&&(this.g.D=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new ti(this)}z(Ze,_e),Ze.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ze.prototype.close=function(){ol(this.g)},Ze.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=$s(u),u=_);g.i.push(new th(g.Ya++,u)),g.G==3&&ts(g)},Ze.prototype.N=function(){this.g.l=null,delete this.j,ol(this.g),delete this.g,Ze.aa.N.call(this)};function $o(u){Xi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){t:{for(const _ in g){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}z($o,Xi);function Xo(){Pn.call(this),this.status=1}z(Xo,Pn);function ti(u){this.g=u}z(ti,Yo),ti.prototype.ua=function(){Ce(this.g,"a")},ti.prototype.ta=function(u){Ce(this.g,new $o(u))},ti.prototype.sa=function(u){Ce(this.g,new Xo)},ti.prototype.ra=function(){Ce(this.g,"b")},ns.prototype.createWebChannel=ns.prototype.g,Ze.prototype.send=Ze.prototype.o,Ze.prototype.open=Ze.prototype.m,Ze.prototype.close=Ze.prototype.close,v0=function(){return new ns},_0=function(){return qa()},y0=vn,Rd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ve.NO_ERROR=0,ve.TIMEOUT=8,ve.HTTP_ERROR=6,ic=ve,_i.COMPLETE="complete",p0=_i,Io.EventType=Qn,Qn.OPEN="a",Qn.CLOSE="b",Qn.ERROR="c",Qn.MESSAGE="d",_e.prototype.listen=_e.prototype.K,eo=Io,Ht.prototype.listenOnce=Ht.prototype.L,Ht.prototype.getLastError=Ht.prototype.Ka,Ht.prototype.getLastErrorCode=Ht.prototype.Ba,Ht.prototype.getStatus=Ht.prototype.Z,Ht.prototype.getResponseJson=Ht.prototype.Oa,Ht.prototype.getResponseText=Ht.prototype.oa,Ht.prototype.send=Ht.prototype.ea,Ht.prototype.setWithCredentials=Ht.prototype.Ha,g0=Ht}).apply(typeof $u<"u"?$u:typeof self<"u"?self:typeof window<"u"?window:{});const b_="@firebase/firestore",S_="4.7.7";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qs="11.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa=new tm("@firebase/firestore");function xs(){return Oa.logLevel}function lt(r,...t){if(Oa.logLevel<=Pt.DEBUG){const i=t.map(lm);Oa.debug(`Firestore (${qs}): ${r}`,...i)}}function Gi(r,...t){if(Oa.logLevel<=Pt.ERROR){const i=t.map(lm);Oa.error(`Firestore (${qs}): ${r}`,...i)}}function Ms(r,...t){if(Oa.logLevel<=Pt.WARN){const i=t.map(lm);Oa.warn(`Firestore (${qs}): ${r}`,...i)}}function lm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(r="Unexpected state"){const t=`FIRESTORE (${qs}) INTERNAL ASSERTION FAILED: `+r;throw Gi(t),new Error(t)}function Ft(r,t){r||vt()}function At(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class dt extends Qr{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(){this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class J1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable(()=>i(Qe.UNAUTHENTICATED))}shutdown(){}}class tR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class eR{constructor(t){this.t=t,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Ft(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,i(p)):Promise.resolve();let c=new Ur;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ur,t.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=c;t.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ur)}},0),f()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==t?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ft(typeof s.accessToken=="string"),new E0(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ft(t===null||typeof t=="string"),new Qe(t)}}class nR{constructor(t,i,s){this.l=t,this.h=i,this.P=s,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class iR{constructor(t,i,s){this.l=t,this.h=i,this.P=s}getToken(){return Promise.resolve(new nR(this.l,this.h,this.P))}start(t,i){t.enqueueRetryable(()=>i(Qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class w_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rR{constructor(t,i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,_w(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,i){Ft(this.o===void 0);const s=c=>{c.error!=null&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.R;return this.R=c.token,lt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>s(c))};const o=c=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?o(c):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new w_(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(i=>i?(Ft(typeof i.token=="string"),this.R=i.token,new w_(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aR(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cd(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=aR(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<i&&(s+=t.charAt(o[c]%62))}return s}}function It(r,t){return r<t?-1:r>t?1:0}function Dd(r,t){const i=Cd().encode(r),s=Cd().encode(t);for(let o=0;o<Math.min(i.length,s.length);o++){const c=It(i[o],s[o]);if(c!==0)return c}return It(i.length,s.length)}function Us(r,t,i){return r.length===t.length&&r.every((s,o)=>i(s,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_=-62135596800,C_=1e6;class we{static now(){return we.fromMillis(Date.now())}static fromDate(t){return we.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),s=Math.floor((t-1e3*i)*C_);return new we(i,s)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new dt(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new dt(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<R_)throw new dt(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new dt(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/C_}_compareTo(t){return this.seconds===t.seconds?It(this.nanoseconds,t.nanoseconds):It(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-R_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{static fromTimestamp(t){return new Et(t)}static min(){return new Et(new we(0,0))}static max(){return new Et(new we(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_="__name__";class li{constructor(t,i,s){i===void 0?i=0:i>t.length&&vt(),s===void 0?s=t.length-i:s>t.length-i&&vt(),this.segments=t,this.offset=i,this.len=s}get length(){return this.len}isEqual(t){return li.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof li?t.forEach(s=>{i.push(s)}):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,s=this.limit();i<s;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const s=Math.min(t.length,i.length);for(let o=0;o<s;o++){const c=li.compareSegments(t.get(o),i.get(o));if(c!==0)return c}return It(t.length,i.length)}static compareSegments(t,i){const s=li.isNumericId(t),o=li.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?li.extractNumericId(t).compare(li.extractNumericId(i)):Dd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Mr.fromString(t.substring(4,t.length-2))}}class Zt extends li{construct(t,i,s){return new Zt(t,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const s of t){if(s.indexOf("//")>=0)throw new dt(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(o=>o.length>0))}return new Zt(i)}static emptyPath(){return new Zt([])}}const sR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class je extends li{construct(t,i,s){return new je(t,i,s)}static isValidIdentifier(t){return sR.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),je.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===D_}static keyField(){return new je([D_])}static fromServerFormat(t){const i=[];let s="",o=0;const c=()=>{if(s.length===0)throw new dt(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new dt(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new dt(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(c(),o++)}if(c(),f)throw new dt(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new je(i)}static emptyPath(){return new je([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(t){this.path=t}static fromPath(t){return new pt(Zt.fromString(t))}static fromName(t){return new pt(Zt.fromString(t).popFirst(5))}static empty(){return new pt(Zt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Zt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return Zt.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new pt(new Zt(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fo=-1;function lR(r,t){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Et.fromTimestamp(s===1e9?new we(i+1,0):new we(i,s));return new zr(o,pt.empty(),t)}function oR(r){return new zr(r.readTime,r.key,fo)}class zr{constructor(t,i,s){this.readTime=t,this.documentKey=i,this.largestBatchId=s}static min(){return new zr(Et.min(),pt.empty(),fo)}static max(){return new zr(Et.max(),pt.empty(),fo)}}function uR(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=pt.comparator(r.documentKey,t.documentKey),i!==0?i:It(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hs(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==cR)throw r;lt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&vt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new Z((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,o)}})}toPromise(){return new Promise((t,i)=>{this.next(t,i)})}wrapUserFunction(t){try{const i=t();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction(()=>t(i)):Z.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction(()=>t(i)):Z.reject(i)}static resolve(t){return new Z((i,s)=>{i(t)})}static reject(t){return new Z((i,s)=>{s(t)})}static waitFor(t){return new Z((i,s)=>{let o=0,c=0,f=!1;t.forEach(m=>{++o,m.next(()=>{++c,f&&c===o&&i()},p=>s(p))}),f=!0,c===o&&i()})}static or(t){let i=Z.resolve(!1);for(const s of t)i=i.next(o=>o?Z.resolve(o):s());return i}static forEach(t,i){const s=[];return t.forEach((o,c)=>{s.push(i.call(this,o,c))}),this.waitFor(s)}static mapArray(t,i){return new Z((s,o)=>{const c=t.length,f=new Array(c);let m=0;for(let p=0;p<c;p++){const y=p;i(t[y]).next(T=>{f[y]=T,++m,m===c&&s(f)},T=>o(T))}})}static doWhile(t,i){return new Z((s,o)=>{const c=()=>{t()===!0?i().next(()=>{c()},o):s()};c()})}}function fR(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Fs(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=s=>this.oe(s),this._e=s=>i.writeSequenceNumber(s))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}Oc.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const om=-1;function Mc(r){return r==null}function gc(r){return r===0&&1/r==-1/0}function dR(r){return typeof r=="number"&&Number.isInteger(r)&&!gc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0="";function mR(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=x_(t)),t=gR(r.get(i),t);return x_(t)}function gR(r,t){let i=t;const s=r.length;for(let o=0;o<s;o++){const c=r.charAt(o);switch(c){case"\0":i+="";break;case A0:i+="";break;default:i+=c}}return i}function x_(r){return r+A0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I_(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function Kr(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function b0(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(t,i){this.comparator=t,this.root=i||ze.EMPTY}insert(t,i){return new ne(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,ze.BLACK,null,null))}remove(t){return new ne(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ze.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(t){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((i,s)=>(t(i,s),!1))}toString(){const t=[];return this.inorderTraversal((i,s)=>(t.push(`${i}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Xu(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Xu(this.root,t,this.comparator,!1)}getReverseIterator(){return new Xu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Xu(this.root,t,this.comparator,!0)}}class Xu{constructor(t,i,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?s(t.key,i):1,i&&o&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ze{constructor(t,i,s,o,c){this.key=t,this.value=i,this.color=s??ze.RED,this.left=o??ze.EMPTY,this.right=c??ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,s,o,c){return new ze(t??this.key,i??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,s){let o=this;const c=s(t,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(t,i,s),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ze.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let s,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return ze.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw vt();const t=this.left.check();if(t!==this.right.check())throw vt();return t+(this.isRed()?0:1)}}ze.EMPTY=null,ze.RED=!0,ze.BLACK=!1;ze.EMPTY=new class{constructor(){this.size=0}get key(){throw vt()}get value(){throw vt()}get color(){throw vt()}get left(){throw vt()}get right(){throw vt()}copy(t,i,s,o,c){return this}insert(t,i,s){return new ze(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(t){this.comparator=t,this.data=new ne(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((i,s)=>(t(i),!1))}forEachInRange(t,i){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new V_(this.data.getIterator())}getIteratorFrom(t){return new V_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach(s=>{i=i.add(s)}),i}isEqual(t){if(!(t instanceof Re)||this.size!==t.size)return!1;const i=this.data.getIterator(),s=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(i=>{t.push(i)}),t}toString(){const t=[];return this.forEach(i=>t.push(i)),"SortedSet("+t.toString()+")"}copy(t){const i=new Re(this.comparator);return i.data=t,i}}class V_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(t){this.fields=t,t.sort(je.comparator)}static empty(){return new pn([])}unionWith(t){let i=new Re(je.comparator);for(const s of this.fields)i=i.add(s);for(const s of t)i=i.add(s);return new pn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Us(this.fields,t.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(t){this.binaryString=t}static fromBase64String(t){const i=function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new S0("Invalid base64 string: "+c):c}}(t);return new Be(i)}static fromUint8Array(t){const i=function(o){let c="";for(let f=0;f<o.length;++f)c+=String.fromCharCode(o[f]);return c}(t);return new Be(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return It(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Be.EMPTY_BYTE_STRING=new Be("");const pR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function jr(r){if(Ft(!!r),typeof r=="string"){let t=0;const i=pR.exec(r);if(Ft(!!i),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ce(r.seconds),nanos:ce(r.nanos)}}function ce(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Br(r){return typeof r=="string"?Be.fromBase64String(r):Be.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0="server_timestamp",R0="__type__",C0="__previous_value__",D0="__local_write_time__";function um(r){var t,i;return((i=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[R0])===null||i===void 0?void 0:i.stringValue)===w0}function Uc(r){const t=r.mapValue.fields[C0];return um(t)?Uc(t):t}function mo(r){const t=jr(r.mapValue.fields[D0].timestampValue);return new we(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(t,i,s,o,c,f,m,p,y){this.databaseId=t,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y}}const pc="(default)";class go{constructor(t,i){this.projectId=t,this.database=i||pc}static empty(){return new go("","")}get isDefaultDatabase(){return this.database===pc}isEqual(t){return t instanceof go&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0="__type__",_R="__max__",Zu={mapValue:{}},I0="__vector__",yc="value";function qr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?um(r)?4:ER(r)?9007199254740991:vR(r)?10:11:vt()}function hi(r,t){if(r===t)return!0;const i=qr(r);if(i!==qr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return mo(r).isEqual(mo(t));case 3:return function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const f=jr(o.timestampValue),m=jr(c.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(o,c){return Br(o.bytesValue).isEqual(Br(c.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(o,c){return ce(o.geoPointValue.latitude)===ce(c.geoPointValue.latitude)&&ce(o.geoPointValue.longitude)===ce(c.geoPointValue.longitude)}(r,t);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return ce(o.integerValue)===ce(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const f=ce(o.doubleValue),m=ce(c.doubleValue);return f===m?gc(f)===gc(m):isNaN(f)&&isNaN(m)}return!1}(r,t);case 9:return Us(r.arrayValue.values||[],t.arrayValue.values||[],hi);case 10:case 11:return function(o,c){const f=o.mapValue.fields||{},m=c.mapValue.fields||{};if(I_(f)!==I_(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!hi(f[p],m[p])))return!1;return!0}(r,t);default:return vt()}}function po(r,t){return(r.values||[]).find(i=>hi(i,t))!==void 0}function Ls(r,t){if(r===t)return 0;const i=qr(r),s=qr(t);if(i!==s)return It(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return It(r.booleanValue,t.booleanValue);case 2:return function(c,f){const m=ce(c.integerValue||c.doubleValue),p=ce(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,t);case 3:return N_(r.timestampValue,t.timestampValue);case 4:return N_(mo(r),mo(t));case 5:return Dd(r.stringValue,t.stringValue);case 6:return function(c,f){const m=Br(c),p=Br(f);return m.compareTo(p)}(r.bytesValue,t.bytesValue);case 7:return function(c,f){const m=c.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const T=It(m[y],p[y]);if(T!==0)return T}return It(m.length,p.length)}(r.referenceValue,t.referenceValue);case 8:return function(c,f){const m=It(ce(c.latitude),ce(f.latitude));return m!==0?m:It(ce(c.longitude),ce(f.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return O_(r.arrayValue,t.arrayValue);case 10:return function(c,f){var m,p,y,T;const S=c.fields||{},C=f.fields||{},I=(m=S[yc])===null||m===void 0?void 0:m.arrayValue,z=(p=C[yc])===null||p===void 0?void 0:p.arrayValue,q=It(((y=I==null?void 0:I.values)===null||y===void 0?void 0:y.length)||0,((T=z==null?void 0:z.values)===null||T===void 0?void 0:T.length)||0);return q!==0?q:O_(I,z)}(r.mapValue,t.mapValue);case 11:return function(c,f){if(c===Zu.mapValue&&f===Zu.mapValue)return 0;if(c===Zu.mapValue)return 1;if(f===Zu.mapValue)return-1;const m=c.fields||{},p=Object.keys(m),y=f.fields||{},T=Object.keys(y);p.sort(),T.sort();for(let S=0;S<p.length&&S<T.length;++S){const C=Dd(p[S],T[S]);if(C!==0)return C;const I=Ls(m[p[S]],y[T[S]]);if(I!==0)return I}return It(p.length,T.length)}(r.mapValue,t.mapValue);default:throw vt()}}function N_(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return It(r,t);const i=jr(r),s=jr(t),o=It(i.seconds,s.seconds);return o!==0?o:It(i.nanos,s.nanos)}function O_(r,t){const i=r.values||[],s=t.values||[];for(let o=0;o<i.length&&o<s.length;++o){const c=Ls(i[o],s[o]);if(c)return c}return It(i.length,s.length)}function Ps(r){return xd(r)}function xd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(i){const s=jr(i);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(i){return Br(i).toBase64()}(r.bytesValue):"referenceValue"in r?function(i){return pt.fromName(i).toString()}(r.referenceValue):"geoPointValue"in r?function(i){return`geo(${i.latitude},${i.longitude})`}(r.geoPointValue):"arrayValue"in r?function(i){let s="[",o=!0;for(const c of i.values||[])o?o=!1:s+=",",s+=xd(c);return s+"]"}(r.arrayValue):"mapValue"in r?function(i){const s=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const f of s)c?c=!1:o+=",",o+=`${f}:${xd(i.fields[f])}`;return o+"}"}(r.mapValue):vt()}function rc(r){switch(qr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Uc(r);return t?16+rc(t):16;case 5:return 2*r.stringValue.length;case 6:return Br(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,c)=>o+rc(c),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Kr(s.fields,(c,f)=>{o+=c.length+rc(f)}),o}(r.mapValue);default:throw vt()}}function Id(r){return!!r&&"integerValue"in r}function cm(r){return!!r&&"arrayValue"in r}function M_(r){return!!r&&"nullValue"in r}function U_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ac(r){return!!r&&"mapValue"in r}function vR(r){var t,i;return((i=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[x0])===null||i===void 0?void 0:i.stringValue)===I0}function so(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return Kr(r.mapValue.fields,(i,s)=>t.mapValue.fields[i]=so(s)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=so(r.arrayValue.values[i]);return t}return Object.assign({},r)}function ER(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===_R}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(t){this.value=t}static empty(){return new ln({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let s=0;s<t.length-1;++s)if(i=(i.mapValue.fields||{})[t.get(s)],!ac(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=so(i)}setAll(t){let i=je.emptyPath(),s={},o=[];t.forEach((f,m)=>{if(!i.isImmediateParentOf(m)){const p=this.getFieldsMap(i);this.applyChanges(p,s,o),s={},o=[],i=m.popLast()}f?s[m.lastSegment()]=so(f):o.push(m.lastSegment())});const c=this.getFieldsMap(i);this.applyChanges(c,s,o)}delete(t){const i=this.field(t.popLast());ac(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return hi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=i.mapValue.fields[t.get(s)];ac(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,s){Kr(i,(o,c)=>t[o]=c);for(const o of s)delete t[o]}clone(){return new ln(so(this.value))}}function V0(r){const t=[];return Kr(r.fields,(i,s)=>{const o=new je([i]);if(ac(s)){const c=V0(s.mapValue).fields;if(c.length===0)t.push(o);else for(const f of c)t.push(o.child(f))}else t.push(o)}),new pn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(t,i,s,o,c,f,m){this.key=t,this.documentType=i,this.version=s,this.readTime=o,this.createTime=c,this.data=f,this.documentState=m}static newInvalidDocument(t){return new Ke(t,0,Et.min(),Et.min(),Et.min(),ln.empty(),0)}static newFoundDocument(t,i,s,o){return new Ke(t,1,i,Et.min(),s,o,0)}static newNoDocument(t,i){return new Ke(t,2,i,Et.min(),Et.min(),ln.empty(),0)}static newUnknownDocument(t,i){return new Ke(t,3,i,Et.min(),Et.min(),ln.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ln.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ke&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ke(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(t,i){this.position=t,this.inclusive=i}}function L_(r,t,i){let s=0;for(let o=0;o<r.position.length;o++){const c=t[o],f=r.position[o];if(c.field.isKeyField()?s=pt.comparator(pt.fromName(f.referenceValue),i.key):s=Ls(f,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function P_(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!hi(r.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(t,i="asc"){this.field=t,this.dir=i}}function TR(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{}class Se extends N0{constructor(t,i,s){super(),this.field=t,this.op=i,this.value=s}static create(t,i,s){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,s):new bR(t,i,s):i==="array-contains"?new RR(t,s):i==="in"?new CR(t,s):i==="not-in"?new DR(t,s):i==="array-contains-any"?new xR(t,s):new Se(t,i,s)}static createKeyFieldInFilter(t,i,s){return i==="in"?new SR(t,s):new wR(t,s)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(Ls(i,this.value)):i!==null&&qr(this.value)===qr(i)&&this.matchesComparison(Ls(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return vt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fi extends N0{constructor(t,i){super(),this.filters=t,this.op=i,this.ce=null}static create(t,i){return new fi(t,i)}matches(t){return O0(this)?this.filters.find(i=>!i.matches(t))===void 0:this.filters.find(i=>i.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,i)=>t.concat(i.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function O0(r){return r.op==="and"}function M0(r){return AR(r)&&O0(r)}function AR(r){for(const t of r.filters)if(t instanceof fi)return!1;return!0}function Vd(r){if(r instanceof Se)return r.field.canonicalString()+r.op.toString()+Ps(r.value);if(M0(r))return r.filters.map(t=>Vd(t)).join(",");{const t=r.filters.map(i=>Vd(i)).join(",");return`${r.op}(${t})`}}function U0(r,t){return r instanceof Se?function(s,o){return o instanceof Se&&s.op===o.op&&s.field.isEqual(o.field)&&hi(s.value,o.value)}(r,t):r instanceof fi?function(s,o){return o instanceof fi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((c,f,m)=>c&&U0(f,o.filters[m]),!0):!1}(r,t):void vt()}function L0(r){return r instanceof Se?function(i){return`${i.field.canonicalString()} ${i.op} ${Ps(i.value)}`}(r):r instanceof fi?function(i){return i.op.toString()+" {"+i.getFilters().map(L0).join(" ,")+"}"}(r):"Filter"}class bR extends Se{constructor(t,i,s){super(t,i,s),this.key=pt.fromName(s.referenceValue)}matches(t){const i=pt.comparator(t.key,this.key);return this.matchesComparison(i)}}class SR extends Se{constructor(t,i){super(t,"in",i),this.keys=P0("in",i)}matches(t){return this.keys.some(i=>i.isEqual(t.key))}}class wR extends Se{constructor(t,i){super(t,"not-in",i),this.keys=P0("not-in",i)}matches(t){return!this.keys.some(i=>i.isEqual(t.key))}}function P0(r,t){var i;return(((i=t.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(s=>pt.fromName(s.referenceValue))}class RR extends Se{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return cm(i)&&po(i.arrayValue,this.value)}}class CR extends Se{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&po(this.value.arrayValue,i)}}class DR extends Se{constructor(t,i){super(t,"not-in",i)}matches(t){if(po(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&!po(this.value.arrayValue,i)}}class xR extends Se{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!cm(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>po(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(t,i=null,s=[],o=[],c=null,f=null,m=null){this.path=t,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=f,this.endAt=m,this.le=null}}function k_(r,t=null,i=[],s=[],o=null,c=null,f=null){return new IR(r,t,i,s,o,c,f)}function hm(r){const t=At(r);if(t.le===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map(s=>Vd(s)).join(","),i+="|ob:",i+=t.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),Mc(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(s=>Ps(s)).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(s=>Ps(s)).join(",")),t.le=i}return t.le}function fm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!TR(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!U0(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!P_(r.startAt,t.startAt)&&P_(r.endAt,t.endAt)}function Nd(r){return pt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(t,i=null,s=[],o=[],c=null,f="F",m=null,p=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=f,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function VR(r,t,i,s,o,c,f,m){return new Lc(r,t,i,s,o,c,f,m)}function Pc(r){return new Lc(r)}function z_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function NR(r){return r.collectionGroup!==null}function lo(r){const t=At(r);if(t.he===null){t.he=[];const i=new Set;for(const c of t.explicitOrderBy)t.he.push(c),i.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Re(je.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(t).forEach(c=>{i.has(c.canonicalString())||c.isKeyField()||t.he.push(new vc(c,s))}),i.has(je.keyField().canonicalString())||t.he.push(new vc(je.keyField(),s))}return t.he}function ui(r){const t=At(r);return t.Pe||(t.Pe=OR(t,lo(r))),t.Pe}function OR(r,t){if(r.limitType==="F")return k_(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(o=>{const c=o.dir==="desc"?"asc":"desc";return new vc(o.field,c)});const i=r.endAt?new _c(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new _c(r.startAt.position,r.startAt.inclusive):null;return k_(r.path,r.collectionGroup,t,r.filters,r.limit,i,s)}}function Od(r,t,i){return new Lc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function kc(r,t){return fm(ui(r),ui(t))&&r.limitType===t.limitType}function k0(r){return`${hm(ui(r))}|lt:${r.limitType}`}function Is(r){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(o=>L0(o)).join(", ")}]`),Mc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(o=>Ps(o)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(o=>Ps(o)).join(",")),`Target(${s})`}(ui(r))}; limitType=${r.limitType})`}function zc(r,t){return t.isFoundDocument()&&function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):pt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(r,t)&&function(s,o){for(const c of lo(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0}(r,t)&&function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0}(r,t)&&function(s,o){return!(s.startAt&&!function(f,m,p){const y=L_(f,m,p);return f.inclusive?y<=0:y<0}(s.startAt,lo(s),o)||s.endAt&&!function(f,m,p){const y=L_(f,m,p);return f.inclusive?y>=0:y>0}(s.endAt,lo(s),o))}(r,t)}function MR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function z0(r){return(t,i)=>{let s=!1;for(const o of lo(r)){const c=UR(o,t,i);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function UR(r,t,i){const s=r.field.isKeyField()?pt.comparator(t.key,i.key):function(c,f,m){const p=f.data.field(c),y=m.data.field(c);return p!==null&&y!==null?Ls(p,y):vt()}(r.field,t,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return vt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],t))return void(o[c]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Kr(this.inner,(i,s)=>{for(const[o,c]of s)t(o,c)})}isEmpty(){return b0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR=new ne(pt.comparator);function Qi(){return LR}const j0=new ne(pt.comparator);function no(...r){let t=j0;for(const i of r)t=t.insert(i.key,i);return t}function B0(r){let t=j0;return r.forEach((i,s)=>t=t.insert(i,s.overlayedDocument)),t}function xa(){return oo()}function q0(){return oo()}function oo(){return new Pa(r=>r.toString(),(r,t)=>r.isEqual(t))}const PR=new ne(pt.comparator),kR=new Re(pt.comparator);function Vt(...r){let t=kR;for(const i of r)t=t.add(i);return t}const zR=new Re(It);function jR(){return zR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gc(t)?"-0":t}}function H0(r){return{integerValue:""+r}}function BR(r,t){return dR(t)?H0(t):dm(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(){this._=void 0}}function qR(r,t,i){return r instanceof Ec?function(o,c){const f={fields:{[R0]:{stringValue:w0},[D0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&um(c)&&(c=Uc(c)),c&&(f.fields[C0]=c),{mapValue:f}}(i,t):r instanceof yo?G0(r,t):r instanceof _o?Q0(r,t):function(o,c){const f=F0(o,c),m=j_(f)+j_(o.Ie);return Id(f)&&Id(o.Ie)?H0(m):dm(o.serializer,m)}(r,t)}function HR(r,t,i){return r instanceof yo?G0(r,t):r instanceof _o?Q0(r,t):i}function F0(r,t){return r instanceof Tc?function(s){return Id(s)||function(c){return!!c&&"doubleValue"in c}(s)}(t)?t:{integerValue:0}:null}class Ec extends jc{}class yo extends jc{constructor(t){super(),this.elements=t}}function G0(r,t){const i=K0(t);for(const s of r.elements)i.some(o=>hi(o,s))||i.push(s);return{arrayValue:{values:i}}}class _o extends jc{constructor(t){super(),this.elements=t}}function Q0(r,t){let i=K0(t);for(const s of r.elements)i=i.filter(o=>!hi(o,s));return{arrayValue:{values:i}}}class Tc extends jc{constructor(t,i){super(),this.serializer=t,this.Ie=i}}function j_(r){return ce(r.integerValue||r.doubleValue)}function K0(r){return cm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function FR(r,t){return r.field.isEqual(t.field)&&function(s,o){return s instanceof yo&&o instanceof yo||s instanceof _o&&o instanceof _o?Us(s.elements,o.elements,hi):s instanceof Tc&&o instanceof Tc?hi(s.Ie,o.Ie):s instanceof Ec&&o instanceof Ec}(r.transform,t.transform)}class GR{constructor(t,i){this.version=t,this.transformResults=i}}class Un{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Un}static exists(t){return new Un(void 0,t)}static updateTime(t){return new Un(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function sc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Bc{}function Y0(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new mm(r.key,Un.none()):new bo(r.key,r.data,Un.none());{const i=r.data,s=ln.empty();let o=new Re(je.comparator);for(let c of t.fields)if(!o.has(c)){let f=i.field(c);f===null&&c.length>1&&(c=c.popLast(),f=i.field(c)),f===null?s.delete(c):s.set(c,f),o=o.add(c)}return new Yr(r.key,s,new pn(o.toArray()),Un.none())}}function QR(r,t,i){r instanceof bo?function(o,c,f){const m=o.value.clone(),p=q_(o.fieldTransforms,c,f.transformResults);m.setAll(p),c.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,t,i):r instanceof Yr?function(o,c,f){if(!sc(o.precondition,c))return void c.convertToUnknownDocument(f.version);const m=q_(o.fieldTransforms,c,f.transformResults),p=c.data;p.setAll($0(o)),p.setAll(m),c.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,t,i):function(o,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,i)}function uo(r,t,i,s){return r instanceof bo?function(c,f,m,p){if(!sc(c.precondition,f))return m;const y=c.value.clone(),T=H_(c.fieldTransforms,p,f);return y.setAll(T),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(r,t,i,s):r instanceof Yr?function(c,f,m,p){if(!sc(c.precondition,f))return m;const y=H_(c.fieldTransforms,p,f),T=f.data;return T.setAll($0(c)),T.setAll(y),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(S=>S.field))}(r,t,i,s):function(c,f,m){return sc(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,t,i)}function KR(r,t){let i=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),c=F0(s.transform,o||null);c!=null&&(i===null&&(i=ln.empty()),i.set(s.field,c))}return i||null}function B_(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Us(s,o,(c,f)=>FR(c,f))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class bo extends Bc{constructor(t,i,s,o=[]){super(),this.key=t,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Yr extends Bc{constructor(t,i,s,o,c=[]){super(),this.key=t,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function $0(r){const t=new Map;return r.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=r.data.field(i);t.set(i,s)}}),t}function q_(r,t,i){const s=new Map;Ft(r.length===i.length);for(let o=0;o<i.length;o++){const c=r[o],f=c.transform,m=t.data.field(c.field);s.set(c.field,HR(f,m,i[o]))}return s}function H_(r,t,i){const s=new Map;for(const o of r){const c=o.transform,f=i.data.field(o.field);s.set(o.field,qR(c,f,t))}return s}class mm extends Bc{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class YR extends Bc{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(t,i,s,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(t.key)&&QR(c,t,s[o])}}applyToLocalView(t,i){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(i=uo(s,t,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(i=uo(s,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const s=q0();return this.mutations.forEach(o=>{const c=t.get(o.key),f=c.overlayedDocument;let m=this.applyToLocalView(f,c.mutatedFields);m=i.has(o.key)?null:m;const p=Y0(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Et.min())}),s}keys(){return this.mutations.reduce((t,i)=>t.add(i.key),Vt())}isEqual(t){return this.batchId===t.batchId&&Us(this.mutations,t.mutations,(i,s)=>B_(i,s))&&Us(this.baseMutations,t.baseMutations,(i,s)=>B_(i,s))}}class gm{constructor(t,i,s,o){this.batch=t,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(t,i,s){Ft(t.mutations.length===s.length);let o=function(){return PR}();const c=t.mutations;for(let f=0;f<c.length;f++)o=o.insert(c[f].key,s[f].version);return new gm(t,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe,Lt;function WR(r){switch(r){case J.OK:return vt();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return vt()}}function X0(r){if(r===void 0)return Gi("GRPC error has no .code"),J.UNKNOWN;switch(r){case pe.OK:return J.OK;case pe.CANCELLED:return J.CANCELLED;case pe.UNKNOWN:return J.UNKNOWN;case pe.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case pe.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case pe.INTERNAL:return J.INTERNAL;case pe.UNAVAILABLE:return J.UNAVAILABLE;case pe.UNAUTHENTICATED:return J.UNAUTHENTICATED;case pe.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case pe.NOT_FOUND:return J.NOT_FOUND;case pe.ALREADY_EXISTS:return J.ALREADY_EXISTS;case pe.PERMISSION_DENIED:return J.PERMISSION_DENIED;case pe.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case pe.ABORTED:return J.ABORTED;case pe.OUT_OF_RANGE:return J.OUT_OF_RANGE;case pe.UNIMPLEMENTED:return J.UNIMPLEMENTED;case pe.DATA_LOSS:return J.DATA_LOSS;default:return vt()}}(Lt=pe||(pe={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR=new Mr([4294967295,4294967295],0);function F_(r){const t=Cd().encode(r),i=new m0;return i.update(t),new Uint8Array(i.digest())}function G_(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Mr([i,s],0),new Mr([o,c],0)]}class pm{constructor(t,i,s){if(this.bitmap=t,this.padding=i,this.hashCount=s,i<0||i>=8)throw new io(`Invalid padding: ${i}`);if(s<0)throw new io(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new io(`Invalid hash count: ${s}`);if(t.length===0&&i!==0)throw new io(`Invalid padding when bitmap length is 0: ${i}`);this.Ee=8*t.length-i,this.de=Mr.fromNumber(this.Ee)}Ae(t,i,s){let o=t.add(i.multiply(Mr.fromNumber(s)));return o.compare(JR)===1&&(o=new Mr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const i=F_(t),[s,o]=G_(i);for(let c=0;c<this.hashCount;c++){const f=this.Ae(s,o,c);if(!this.Re(f))return!1}return!0}static create(t,i,s){const o=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),f=new pm(c,o,i);return s.forEach(m=>f.insert(m)),f}insert(t){if(this.Ee===0)return;const i=F_(t),[s,o]=G_(i);for(let c=0;c<this.hashCount;c++){const f=this.Ae(s,o,c);this.Ve(f)}}Ve(t){const i=Math.floor(t/8),s=t%8;this.bitmap[i]|=1<<s}}class io extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(t,i,s,o,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,s){const o=new Map;return o.set(t,So.createSynthesizedTargetChangeForCurrentChange(t,i,s)),new qc(Et.min(),o,new ne(It),Qi(),Vt())}}class So{constructor(t,i,s,o,c){this.resumeToken=t,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,s){return new So(s,i,Vt(),Vt(),Vt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(t,i,s,o){this.me=t,this.removedTargetIds=i,this.key=s,this.fe=o}}class Z0{constructor(t,i){this.targetId=t,this.ge=i}}class W0{constructor(t,i,s=Be.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=s,this.cause=o}}class Q_{constructor(){this.pe=0,this.ye=K_(),this.we=Be.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(t){t.approximateByteSize()>0&&(this.be=!0,this.we=t)}Fe(){let t=Vt(),i=Vt(),s=Vt();return this.ye.forEach((o,c)=>{switch(c){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:vt()}}),new So(this.we,this.Se,t,i,s)}Me(){this.be=!1,this.ye=K_()}xe(t,i){this.be=!0,this.ye=this.ye.insert(t,i)}Oe(t){this.be=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,Ft(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class t2{constructor(t){this.ke=t,this.qe=new Map,this.Qe=Qi(),this.$e=Wu(),this.Ue=Wu(),this.Ke=new ne(It)}We(t){for(const i of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(i,t.fe):this.ze(i,t.key,t.fe);for(const i of t.removedTargetIds)this.ze(i,t.key,t.fe)}je(t){this.forEachTarget(t,i=>{const s=this.He(i);switch(t.state){case 0:this.Je(i)&&s.Ce(t.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(t.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(i);break;case 3:this.Je(i)&&(s.Le(),s.Ce(t.resumeToken));break;case 4:this.Je(i)&&(this.Ye(i),s.Ce(t.resumeToken));break;default:vt()}})}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.qe.forEach((s,o)=>{this.Je(o)&&i(o)})}Ze(t){const i=t.targetId,s=t.ge.count,o=this.Xe(i);if(o){const c=o.target;if(Nd(c))if(s===0){const f=new pt(c.path);this.ze(i,f,Ke.newNoDocument(f,Et.min()))}else Ft(s===1);else{const f=this.et(i);if(f!==s){const m=this.tt(t),p=m?this.nt(m,t,f):1;if(p!==0){this.Ye(i);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(i,y)}}}}}tt(t){const i=t.ge.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=i;let f,m;try{f=Br(s).toUint8Array()}catch(p){if(p instanceof S0)return Ms("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new pm(f,o,c)}catch(p){return Ms(p instanceof io?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(t,i,s){return i.ge.count===s-this.st(t,i.targetId)?0:2}st(t,i){const s=this.ke.getRemoteKeysForTarget(i);let o=0;return s.forEach(c=>{const f=this.ke.it(),m=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;t.mightContain(m)||(this.ze(i,c,null),o++)}),o}ot(t){const i=new Map;this.qe.forEach((c,f)=>{const m=this.Xe(f);if(m){if(c.current&&Nd(m.target)){const p=new pt(m.target.path);this._t(p).has(f)||this.ut(f,p)||this.ze(f,p,Ke.newNoDocument(p,t))}c.ve&&(i.set(f,c.Fe()),c.Me())}});let s=Vt();this.Ue.forEach((c,f)=>{let m=!0;f.forEachWhile(p=>{const y=this.Xe(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(c))}),this.Qe.forEach((c,f)=>f.setReadTime(t));const o=new qc(t,i,this.Ke,this.Qe,s);return this.Qe=Qi(),this.$e=Wu(),this.Ue=Wu(),this.Ke=new ne(It),o}Ge(t,i){if(!this.Je(t))return;const s=this.ut(t,i.key)?2:0;this.He(t).xe(i.key,s),this.Qe=this.Qe.insert(i.key,i),this.$e=this.$e.insert(i.key,this._t(i.key).add(t)),this.Ue=this.Ue.insert(i.key,this.ct(i.key).add(t))}ze(t,i,s){if(!this.Je(t))return;const o=this.He(t);this.ut(t,i)?o.xe(i,1):o.Oe(i),this.Ue=this.Ue.insert(i,this.ct(i).delete(t)),this.Ue=this.Ue.insert(i,this.ct(i).add(t)),s&&(this.Qe=this.Qe.insert(i,s))}removeTarget(t){this.qe.delete(t)}et(t){const i=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let i=this.qe.get(t);return i||(i=new Q_,this.qe.set(t,i)),i}ct(t){let i=this.Ue.get(t);return i||(i=new Re(It),this.Ue=this.Ue.insert(t,i)),i}_t(t){let i=this.$e.get(t);return i||(i=new Re(It),this.$e=this.$e.insert(t,i)),i}Je(t){const i=this.Xe(t)!==null;return i||lt("WatchChangeAggregator","Detected inactive target",t),i}Xe(t){const i=this.qe.get(t);return i&&i.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new Q_),this.ke.getRemoteKeysForTarget(t).forEach(i=>{this.ze(t,i,null)})}ut(t,i){return this.ke.getRemoteKeysForTarget(t).has(i)}}function Wu(){return new ne(pt.comparator)}function K_(){return new ne(pt.comparator)}const e2={asc:"ASCENDING",desc:"DESCENDING"},n2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},i2={and:"AND",or:"OR"};class r2{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Md(r,t){return r.useProto3Json||Mc(t)?t:{value:t}}function Ac(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function J0(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function a2(r,t){return Ac(r,t.toTimestamp())}function ci(r){return Ft(!!r),Et.fromTimestamp(function(i){const s=jr(i);return new we(s.seconds,s.nanos)}(r))}function ym(r,t){return Ud(r,t).canonicalString()}function Ud(r,t){const i=function(o){return new Zt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return t===void 0?i:i.child(t)}function tE(r){const t=Zt.fromString(r);return Ft(aE(t)),t}function Ld(r,t){return ym(r.databaseId,t.path)}function fd(r,t){const i=tE(t);if(i.get(1)!==r.databaseId.projectId)throw new dt(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new dt(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new pt(nE(i))}function eE(r,t){return ym(r.databaseId,t)}function s2(r){const t=tE(r);return t.length===4?Zt.emptyPath():nE(t)}function Pd(r){return new Zt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function nE(r){return Ft(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function Y_(r,t,i){return{name:Ld(r,t),fields:i.value.mapValue.fields}}function l2(r,t){let i;if("targetChange"in t){t.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:vt()}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],c=function(y,T){return y.useProto3Json?(Ft(T===void 0||typeof T=="string"),Be.fromBase64String(T||"")):(Ft(T===void 0||T instanceof Buffer||T instanceof Uint8Array),Be.fromUint8Array(T||new Uint8Array))}(r,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&function(y){const T=y.code===void 0?J.UNKNOWN:X0(y.code);return new dt(T,y.message||"")}(f);i=new W0(s,o,c,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=fd(r,s.document.name),c=ci(s.document.updateTime),f=s.document.createTime?ci(s.document.createTime):Et.min(),m=new ln({mapValue:{fields:s.document.fields}}),p=Ke.newFoundDocument(o,c,f,m),y=s.targetIds||[],T=s.removedTargetIds||[];i=new lc(y,T,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=fd(r,s.document),c=s.readTime?ci(s.readTime):Et.min(),f=Ke.newNoDocument(o,c),m=s.removedTargetIds||[];i=new lc([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=fd(r,s.document),c=s.removedTargetIds||[];i=new lc([],c,o,null)}else{if(!("filter"in t))return vt();{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,f=new ZR(o,c),m=s.targetId;i=new Z0(m,f)}}return i}function o2(r,t){let i;if(t instanceof bo)i={update:Y_(r,t.key,t.value)};else if(t instanceof mm)i={delete:Ld(r,t.key)};else if(t instanceof Yr)i={update:Y_(r,t.key,t.data),updateMask:y2(t.fieldMask)};else{if(!(t instanceof YR))return vt();i={verify:Ld(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map(s=>function(c,f){const m=f.transform;if(m instanceof Ec)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof yo)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof _o)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Tc)return{fieldPath:f.field.canonicalString(),increment:m.Ie};throw vt()}(0,s))),t.precondition.isNone||(i.currentDocument=function(o,c){return c.updateTime!==void 0?{updateTime:a2(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:vt()}(r,t.precondition)),i}function u2(r,t){return r&&r.length>0?(Ft(t!==void 0),r.map(i=>function(o,c){let f=o.updateTime?ci(o.updateTime):ci(c);return f.isEqual(Et.min())&&(f=ci(c)),new GR(f,o.transformResults||[])}(i,t))):[]}function c2(r,t){return{documents:[eE(r,t.path)]}}function h2(r,t){const i={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=eE(r,o);const c=function(y){if(y.length!==0)return rE(fi.create(y,"and"))}(t.filters);c&&(i.structuredQuery.where=c);const f=function(y){if(y.length!==0)return y.map(T=>function(C){return{field:Vs(C.field),direction:m2(C.dir)}}(T))}(t.orderBy);f&&(i.structuredQuery.orderBy=f);const m=Md(r,t.limit);return m!==null&&(i.structuredQuery.limit=m),t.startAt&&(i.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(t.startAt)),t.endAt&&(i.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(t.endAt)),{ht:i,parent:o}}function f2(r){let t=s2(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){Ft(s===1);const T=i.from[0];T.allDescendants?o=T.collectionId:t=t.child(T.collectionId)}let c=[];i.where&&(c=function(S){const C=iE(S);return C instanceof fi&&M0(C)?C.getFilters():[C]}(i.where));let f=[];i.orderBy&&(f=function(S){return S.map(C=>function(z){return new vc(Ns(z.field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(z.direction))}(C))}(i.orderBy));let m=null;i.limit&&(m=function(S){let C;return C=typeof S=="object"?S.value:S,Mc(C)?null:C}(i.limit));let p=null;i.startAt&&(p=function(S){const C=!!S.before,I=S.values||[];return new _c(I,C)}(i.startAt));let y=null;return i.endAt&&(y=function(S){const C=!S.before,I=S.values||[];return new _c(I,C)}(i.endAt)),VR(t,o,f,c,m,"F",p,y)}function d2(r,t){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt()}}(t.purpose);return i==null?null:{"goog-listen-tags":i}}function iE(r){return r.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Ns(i.unaryFilter.field);return Se.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ns(i.unaryFilter.field);return Se.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ns(i.unaryFilter.field);return Se.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ns(i.unaryFilter.field);return Se.create(f,"!=",{nullValue:"NULL_VALUE"});default:return vt()}}(r):r.fieldFilter!==void 0?function(i){return Se.create(Ns(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return vt()}}(i.fieldFilter.op),i.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(i){return fi.create(i.compositeFilter.filters.map(s=>iE(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return vt()}}(i.compositeFilter.op))}(r):vt()}function m2(r){return e2[r]}function g2(r){return n2[r]}function p2(r){return i2[r]}function Vs(r){return{fieldPath:r.canonicalString()}}function Ns(r){return je.fromServerFormat(r.fieldPath)}function rE(r){return r instanceof Se?function(i){if(i.op==="=="){if(U_(i.value))return{unaryFilter:{field:Vs(i.field),op:"IS_NAN"}};if(M_(i.value))return{unaryFilter:{field:Vs(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(U_(i.value))return{unaryFilter:{field:Vs(i.field),op:"IS_NOT_NAN"}};if(M_(i.value))return{unaryFilter:{field:Vs(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vs(i.field),op:g2(i.op),value:i.value}}}(r):r instanceof fi?function(i){const s=i.getFilters().map(o=>rE(o));return s.length===1?s[0]:{compositeFilter:{op:p2(i.op),filters:s}}}(r):vt()}function y2(r){const t=[];return r.fields.forEach(i=>t.push(i.canonicalString())),{fieldPaths:t}}function aE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(t,i,s,o,c=Et.min(),f=Et.min(),m=Be.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new Vr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Vr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(t){this.Tt=t}}function v2(r){const t=f2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Od(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(){this.Tn=new T2}addToCollectionParentIndex(t,i){return this.Tn.add(i),Z.resolve()}getCollectionParents(t,i){return Z.resolve(this.Tn.getEntries(i))}addFieldIndex(t,i){return Z.resolve()}deleteFieldIndex(t,i){return Z.resolve()}deleteAllFieldIndexes(t){return Z.resolve()}createTargetIndexes(t,i){return Z.resolve()}getDocumentsMatchingTarget(t,i){return Z.resolve(null)}getIndexType(t,i){return Z.resolve(0)}getFieldIndexes(t,i){return Z.resolve([])}getNextCollectionGroupToUpdate(t){return Z.resolve(null)}getMinOffset(t,i){return Z.resolve(zr.min())}getMinOffsetFromCollectionGroup(t,i){return Z.resolve(zr.min())}updateCollectionGroup(t,i,s){return Z.resolve()}updateIndexEntries(t,i){return Z.resolve()}}class T2{constructor(){this.index={}}add(t){const i=t.lastSegment(),s=t.popLast(),o=this.index[i]||new Re(Zt.comparator),c=!o.has(s);return this.index[i]=o.add(s),c}has(t){const i=t.lastSegment(),s=t.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Re(Zt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sE=41943040;class sn{static withCacheSize(t){return new sn(t,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sn.DEFAULT_COLLECTION_PERCENTILE=10,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sn.DEFAULT=new sn(sE,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sn.DISABLED=new sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Un(){return new ks(0)}static Kn(){return new ks(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_="LruGarbageCollector",A2=1048576;function Z_([r,t],[i,s]){const o=It(r,i);return o===0?It(t,s):o}class b2{constructor(t){this.Hn=t,this.buffer=new Re(Z_),this.Jn=0}Yn(){return++this.Jn}Zn(t){const i=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();Z_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class S2{constructor(t,i,s){this.garbageCollector=t,this.asyncQueue=i,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){lt(X_,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Fs(i)?lt(X_,"Ignoring IndexedDB error during garbage collection: ",i):await Hs(i)}await this.er(3e5)})}}class w2{constructor(t,i){this.tr=t,this.params=i}calculateTargetCount(t,i){return this.tr.nr(t).next(s=>Math.floor(i/100*s))}nthSequenceNumber(t,i){if(i===0)return Z.resolve(Oc.ae);const s=new b2(i);return this.tr.forEachTarget(t,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(t,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(t,i,s){return this.tr.removeTargets(t,i,s)}removeOrphanedDocuments(t,i){return this.tr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(lt("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve($_)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$_):this.ir(t,i))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,i){let s,o,c,f,m,p,y;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(t,o))).next(S=>(s=S,m=Date.now(),this.removeTargets(t,s,i))).next(S=>(c=S,p=Date.now(),this.removeOrphanedDocuments(t,s))).next(S=>(y=Date.now(),xs()<=Pt.DEBUG&&lt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${c} targets in `+(p-m)+`ms
	Removed ${S} documents in `+(y-p)+`ms
Total Duration: ${y-T}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:S})))}}function R2(r,t){return new w2(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(){this.changes=new Pa(t=>t.toString(),(t,i)=>t.isEqual(i)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Ke.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?Z.resolve(s):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(t,i,s,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,i){let s=null;return this.documentOverlayCache.getOverlay(t,i).next(o=>(s=o,this.remoteDocumentCache.getEntry(t,i))).next(o=>(s!==null&&uo(s.mutation,o,pn.empty(),we.now()),o))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next(s=>this.getLocalViewOfDocuments(t,s,Vt()).next(()=>s))}getLocalViewOfDocuments(t,i,s=Vt()){const o=xa();return this.populateOverlays(t,o,i).next(()=>this.computeViews(t,i,o,s).next(c=>{let f=no();return c.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(t,i){const s=xa();return this.populateOverlays(t,s,i).next(()=>this.computeViews(t,i,s,Vt()))}populateOverlays(t,i,s){const o=[];return s.forEach(c=>{i.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(t,o).next(c=>{c.forEach((f,m)=>{i.set(f,m)})})}computeViews(t,i,s,o){let c=Qi();const f=oo(),m=function(){return oo()}();return i.forEach((p,y)=>{const T=s.get(y.key);o.has(y.key)&&(T===void 0||T.mutation instanceof Yr)?c=c.insert(y.key,y):T!==void 0?(f.set(y.key,T.mutation.getFieldMask()),uo(T.mutation,y,T.mutation.getFieldMask(),we.now())):f.set(y.key,pn.empty())}),this.recalculateAndSaveOverlays(t,c).next(p=>(p.forEach((y,T)=>f.set(y,T)),i.forEach((y,T)=>{var S;return m.set(y,new D2(T,(S=f.get(y))!==null&&S!==void 0?S:null))}),m))}recalculateAndSaveOverlays(t,i){const s=oo();let o=new ne((f,m)=>f-m),c=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next(f=>{for(const m of f)m.keys().forEach(p=>{const y=i.get(p);if(y===null)return;let T=s.get(p)||pn.empty();T=m.applyToLocalView(y,T),s.set(p,T);const S=(o.get(m.batchId)||Vt()).add(p);o=o.insert(m.batchId,S)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,T=p.value,S=q0();T.forEach(C=>{if(!c.has(C)){const I=Y0(i.get(C),s.get(C));I!==null&&S.set(C,I),c=c.add(C)}}),f.push(this.documentOverlayCache.saveOverlays(t,y,S))}return Z.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,i,s,o){return function(f){return pt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):NR(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,s,o):this.getDocumentsMatchingCollectionQuery(t,i,s,o)}getNextDocuments(t,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,s,o).next(c=>{const f=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,s.largestBatchId,o-c.size):Z.resolve(xa());let m=fo,p=c;return f.next(y=>Z.forEach(y,(T,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),c.get(T)?Z.resolve():this.remoteDocumentCache.getEntry(t,T).next(C=>{p=p.insert(T,C)}))).next(()=>this.populateOverlays(t,y,c)).next(()=>this.computeViews(t,p,y,Vt())).next(T=>({batchId:m,changes:B0(T)})))})}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new pt(i)).next(s=>{let o=no();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(t,i,s,o){const c=i.collectionGroup;let f=no();return this.indexManager.getCollectionParents(t,c).next(m=>Z.forEach(m,p=>{const y=function(S,C){return new Lc(C,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(i,p.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,s,o).next(T=>{T.forEach((S,C)=>{f=f.insert(S,C)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(t,i,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,s.largestBatchId).next(f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,s,c,o))).next(f=>{c.forEach((p,y)=>{const T=y.getKey();f.get(T)===null&&(f=f.insert(T,Ke.newInvalidDocument(T)))});let m=no();return f.forEach((p,y)=>{const T=c.get(p);T!==void 0&&uo(T.mutation,y,pn.empty(),we.now()),zc(i,y)&&(m=m.insert(p,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,i){return Z.resolve(this.dr.get(i))}saveBundleMetadata(t,i){return this.dr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:ci(o.createTime)}}(i)),Z.resolve()}getNamedQuery(t,i){return Z.resolve(this.Ar.get(i))}saveNamedQuery(t,i){return this.Ar.set(i.name,function(o){return{name:o.name,query:v2(o.bundledQuery),readTime:ci(o.readTime)}}(i)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(){this.overlays=new ne(pt.comparator),this.Rr=new Map}getOverlay(t,i){return Z.resolve(this.overlays.get(i))}getOverlays(t,i){const s=xa();return Z.forEach(i,o=>this.getOverlay(t,o).next(c=>{c!==null&&s.set(o,c)})).next(()=>s)}saveOverlays(t,i,s){return s.forEach((o,c)=>{this.Et(t,i,c)}),Z.resolve()}removeOverlaysForBatchId(t,i,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.Rr.delete(s)),Z.resolve()}getOverlaysForCollection(t,i,s){const o=xa(),c=i.length+1,f=new pt(i.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&p.largestBatchId>s&&o.set(p.getKey(),p)}return Z.resolve(o)}getOverlaysForCollectionGroup(t,i,s,o){let c=new ne((y,T)=>y-T);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>s){let T=c.get(y.largestBatchId);T===null&&(T=xa(),c=c.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const m=xa(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,T)=>m.set(y,T)),!(m.size()>=o)););return Z.resolve(m)}Et(t,i,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new XR(i,s));let c=this.Rr.get(i);c===void 0&&(c=Vt(),this.Rr.set(i,c)),this.Rr.set(i,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(){this.sessionToken=Be.EMPTY_BYTE_STRING}getSessionToken(t){return Z.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(){this.Vr=new Re(Me.mr),this.gr=new Re(Me.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,i){const s=new Me(t,i);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(t,i){t.forEach(s=>this.addReference(s,i))}removeReference(t,i){this.wr(new Me(t,i))}Sr(t,i){t.forEach(s=>this.removeReference(s,i))}br(t){const i=new pt(new Zt([])),s=new Me(i,t),o=new Me(i,t+1),c=[];return this.gr.forEachInRange([s,o],f=>{this.wr(f),c.push(f.key)}),c}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const i=new pt(new Zt([])),s=new Me(i,t),o=new Me(i,t+1);let c=Vt();return this.gr.forEachInRange([s,o],f=>{c=c.add(f.key)}),c}containsKey(t){const i=new Me(t,0),s=this.Vr.firstAfterOrEqual(i);return s!==null&&t.isEqual(s.key)}}class Me{constructor(t,i){this.key=t,this.Cr=i}static mr(t,i){return pt.comparator(t.key,i.key)||It(t.Cr,i.Cr)}static pr(t,i){return It(t.Cr,i.Cr)||pt.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Fr=1,this.Mr=new Re(Me.mr)}checkEmpty(t){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,s,o){const c=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new $R(c,i,s,o);this.mutationQueue.push(f);for(const m of o)this.Mr=this.Mr.add(new Me(m.key,c)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return Z.resolve(f)}lookupMutationBatch(t,i){return Z.resolve(this.Or(i))}getNextMutationBatchAfterBatchId(t,i){const s=i+1,o=this.Nr(s),c=o<0?0:o;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?om:this.Fr-1)}getAllMutationBatches(t){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const s=new Me(i,0),o=new Me(i,Number.POSITIVE_INFINITY),c=[];return this.Mr.forEachInRange([s,o],f=>{const m=this.Or(f.Cr);c.push(m)}),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let s=new Re(It);return i.forEach(o=>{const c=new Me(o,0),f=new Me(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([c,f],m=>{s=s.add(m.Cr)})}),Z.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(t,i){const s=i.path,o=s.length+1;let c=s;pt.isDocumentKey(c)||(c=c.child(""));const f=new Me(new pt(c),0);let m=new Re(It);return this.Mr.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Cr)),!0)},f),Z.resolve(this.Br(m))}Br(t){const i=[];return t.forEach(s=>{const o=this.Or(s);o!==null&&i.push(o)}),i}removeMutationBatch(t,i){Ft(this.Lr(i.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return Z.forEach(i.mutations,o=>{const c=new Me(o.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Mr=s})}qn(t){}containsKey(t,i){const s=new Me(i,0),o=this.Mr.firstAfterOrEqual(s);return Z.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,Z.resolve()}Lr(t,i){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const i=this.Nr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(t){this.kr=t,this.docs=function(){return new ne(pt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const s=i.key,o=this.docs.get(s),c=o?o.size:0,f=this.kr(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const s=this.docs.get(i);return Z.resolve(s?s.document.mutableCopy():Ke.newInvalidDocument(i))}getEntries(t,i){let s=Qi();return i.forEach(o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():Ke.newInvalidDocument(o))}),Z.resolve(s)}getDocumentsMatchingQuery(t,i,s,o){let c=Qi();const f=i.path,m=new pt(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:T}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||uR(oR(T),s)<=0||(o.has(T.key)||zc(i,T))&&(c=c.insert(T.key,T.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(t,i,s,o){vt()}qr(t,i){return Z.forEach(this.docs,s=>i(s))}newChangeBuffer(t){return new U2(this)}getSize(t){return Z.resolve(this.size)}}class U2 extends C2{constructor(t){super(),this.Ir=t}applyChanges(t){const i=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?i.push(this.Ir.addEntry(t,o)):this.Ir.removeEntry(s)}),Z.waitFor(i)}getFromCache(t,i){return this.Ir.getEntry(t,i)}getAllFromCache(t,i){return this.Ir.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(t){this.persistence=t,this.Qr=new Pa(i=>hm(i),fm),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.$r=0,this.Ur=new _m,this.targetCount=0,this.Kr=ks.Un()}forEachTarget(t,i){return this.Qr.forEach((s,o)=>i(o)),Z.resolve()}getLastRemoteSnapshotVersion(t){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Z.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Kr.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(t,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.$r&&(this.$r=i),Z.resolve()}zn(t){this.Qr.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.Kr=new ks(i),this.highestTargetId=i),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,i){return this.zn(i),this.targetCount+=1,Z.resolve()}updateTargetData(t,i){return this.zn(i),Z.resolve()}removeTargetData(t,i){return this.Qr.delete(i.target),this.Ur.br(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(t,i,s){let o=0;const c=[];return this.Qr.forEach((f,m)=>{m.sequenceNumber<=i&&s.get(m.targetId)===null&&(this.Qr.delete(f),c.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)}),Z.waitFor(c).next(()=>o)}getTargetCount(t){return Z.resolve(this.targetCount)}getTargetData(t,i){const s=this.Qr.get(i)||null;return Z.resolve(s)}addMatchingKeys(t,i,s){return this.Ur.yr(i,s),Z.resolve()}removeMatchingKeys(t,i,s){this.Ur.Sr(i,s);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach(f=>{c.push(o.markPotentiallyOrphaned(t,f))}),Z.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.Ur.br(i),Z.resolve()}getMatchingKeysForTargetId(t,i){const s=this.Ur.vr(i);return Z.resolve(s)}containsKey(t,i){return Z.resolve(this.Ur.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(t,i){this.Wr={},this.overlays={},this.Gr=new Oc(0),this.zr=!1,this.zr=!0,this.jr=new N2,this.referenceDelegate=t(this),this.Hr=new L2(this),this.indexManager=new E2,this.remoteDocumentCache=function(o){return new M2(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new _2(i),this.Yr=new I2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new V2,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let s=this.Wr[t.toKey()];return s||(s=new O2(i,this.referenceDelegate),this.Wr[t.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,i,s){lt("MemoryPersistence","Starting transaction:",t);const o=new P2(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(c=>this.referenceDelegate.Xr(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}ei(t,i){return Z.or(Object.values(this.Wr).map(s=>()=>s.containsKey(t,i)))}}class P2 extends hR{constructor(t){super(),this.currentSequenceNumber=t}}class vm{constructor(t){this.persistence=t,this.ti=new _m,this.ni=null}static ri(t){return new vm(t)}get ii(){if(this.ni)return this.ni;throw vt()}addReference(t,i,s){return this.ti.addReference(s,i),this.ii.delete(s.toString()),Z.resolve()}removeReference(t,i,s){return this.ti.removeReference(s,i),this.ii.add(s.toString()),Z.resolve()}markPotentiallyOrphaned(t,i){return this.ii.add(i.toString()),Z.resolve()}removeTarget(t,i){this.ti.br(i.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,i.targetId).next(o=>{o.forEach(c=>this.ii.add(c.toString()))}).next(()=>s.removeTargetData(t,i))}Zr(){this.ni=new Set}Xr(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.ii,s=>{const o=pt.fromPath(s);return this.si(t,o).next(c=>{c||i.removeEntry(o,Et.min())})}).next(()=>(this.ni=null,i.apply(t)))}updateLimboDocument(t,i){return this.si(t,i).next(s=>{s?this.ii.delete(i.toString()):this.ii.add(i.toString())})}Jr(t){return 0}si(t,i){return Z.or([()=>Z.resolve(this.ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.ei(t,i)])}}class bc{constructor(t,i){this.persistence=t,this.oi=new Pa(s=>mR(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=R2(this,i)}static ri(t,i){return new bc(t,i)}Zr(){}Xr(t){return Z.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}nr(t){const i=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>i.next(o=>s+o))}sr(t){let i=0;return this.rr(t,s=>{i++}).next(()=>i)}rr(t,i){return Z.forEach(this.oi,(s,o)=>this.ar(t,s,o).next(c=>c?Z.resolve():i(o)))}removeTargets(t,i,s){return this.persistence.getTargetCache().removeTargets(t,i,s)}removeOrphanedDocuments(t,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.qr(t,f=>this.ar(t,f,i).next(m=>{m||(s++,c.removeEntry(f,Et.min()))})).next(()=>c.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,i){return this.oi.set(i,t.currentSequenceNumber),Z.resolve()}removeTarget(t,i){const s=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,i,s){return this.oi.set(s,t.currentSequenceNumber),Z.resolve()}removeReference(t,i,s){return this.oi.set(s,t.currentSequenceNumber),Z.resolve()}updateLimboDocument(t,i){return this.oi.set(i,t.currentSequenceNumber),Z.resolve()}Jr(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=rc(t.data.value)),i}ar(t,i,s){return Z.or([()=>this.persistence.ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.oi.get(i);return Z.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(t,i,s,o){this.targetId=t,this.fromCache=i,this.Hi=s,this.Ji=o}static Yi(t,i){let s=Vt(),o=Vt();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Em(t,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return mS()?8:fR(hS())>0?6:4}()}initialize(t,i){this.ns=t,this.indexManager=i,this.Zi=!0}getDocumentsMatchingQuery(t,i,s,o){const c={result:null};return this.rs(t,i).next(f=>{c.result=f}).next(()=>{if(!c.result)return this.ss(t,i,o,s).next(f=>{c.result=f})}).next(()=>{if(c.result)return;const f=new k2;return this._s(t,i,f).next(m=>{if(c.result=m,this.Xi)return this.us(t,i,f,m.size)})}).next(()=>c.result)}us(t,i,s,o){return s.documentReadCount<this.es?(xs()<=Pt.DEBUG&&lt("QueryEngine","SDK will not create cache indexes for query:",Is(i),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Z.resolve()):(xs()<=Pt.DEBUG&&lt("QueryEngine","Query:",Is(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(xs()<=Pt.DEBUG&&lt("QueryEngine","The SDK decides to create cache indexes for query:",Is(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ui(i))):Z.resolve())}rs(t,i){if(z_(i))return Z.resolve(null);let s=ui(i);return this.indexManager.getIndexType(t,s).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=Od(i,null,"F"),s=ui(i)),this.indexManager.getDocumentsMatchingTarget(t,s).next(c=>{const f=Vt(...c);return this.ns.getDocuments(t,f).next(m=>this.indexManager.getMinOffset(t,s).next(p=>{const y=this.cs(i,m);return this.ls(i,y,f,p.readTime)?this.rs(t,Od(i,null,"F")):this.hs(t,y,i,p)}))})))}ss(t,i,s,o){return z_(i)||o.isEqual(Et.min())?Z.resolve(null):this.ns.getDocuments(t,s).next(c=>{const f=this.cs(i,c);return this.ls(i,f,s,o)?Z.resolve(null):(xs()<=Pt.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Is(i)),this.hs(t,f,i,lR(o,fo)).next(m=>m))})}cs(t,i){let s=new Re(z0(t));return i.forEach((o,c)=>{zc(t,c)&&(s=s.add(c))}),s}ls(t,i,s,o){if(t.limit===null)return!1;if(s.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}_s(t,i,s){return xs()<=Pt.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",Is(i)),this.ns.getDocumentsMatchingQuery(t,i,zr.min(),s)}hs(t,i,s,o){return this.ns.getDocumentsMatchingQuery(t,s,o).next(c=>(i.forEach(f=>{c=c.insert(f.key,f)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tm="LocalStore",j2=3e8;class B2{constructor(t,i,s,o){this.persistence=t,this.Ps=i,this.serializer=o,this.Ts=new ne(It),this.Is=new Pa(c=>hm(c),fm),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(s)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new x2(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>t.collect(i,this.Ts))}}function q2(r,t,i,s){return new B2(r,t,i,s)}async function oE(r,t){const i=At(r);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next(c=>(o=c,i.As(t),i.mutationQueue.getAllMutationBatches(s))).next(c=>{const f=[],m=[];let p=Vt();for(const y of o){f.push(y.batchId);for(const T of y.mutations)p=p.add(T.key)}for(const y of c){m.push(y.batchId);for(const T of y.mutations)p=p.add(T.key)}return i.localDocuments.getDocuments(s,p).next(y=>({Rs:y,removedBatchIds:f,addedBatchIds:m}))})})}function H2(r,t){const i=At(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=t.batch.keys(),c=i.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,y,T){const S=y.batch,C=S.keys();let I=Z.resolve();return C.forEach(z=>{I=I.next(()=>T.getEntry(p,z)).next(q=>{const L=y.docVersions.get(z);Ft(L!==null),q.version.compareTo(L)<0&&(S.applyToRemoteDocument(q,y),q.isValidDocument()&&(q.setReadTime(y.commitVersion),T.addEntry(q)))})}),I.next(()=>m.mutationQueue.removeMutationBatch(p,S))}(i,s,t,c).next(()=>c.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Vt();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p}(t))).next(()=>i.localDocuments.getDocuments(s,o))})}function uE(r){const t=At(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",i=>t.Hr.getLastRemoteSnapshotVersion(i))}function F2(r,t){const i=At(r),s=t.snapshotVersion;let o=i.Ts;return i.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=i.ds.newChangeBuffer({trackRemovals:!0});o=i.Ts;const m=[];t.targetChanges.forEach((T,S)=>{const C=o.get(S);if(!C)return;m.push(i.Hr.removeMatchingKeys(c,T.removedDocuments,S).next(()=>i.Hr.addMatchingKeys(c,T.addedDocuments,S)));let I=C.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(S)!==null?I=I.withResumeToken(Be.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):T.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(T.resumeToken,s)),o=o.insert(S,I),function(q,L,Y){return q.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=j2?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0}(C,I,T)&&m.push(i.Hr.updateTargetData(c,I))});let p=Qi(),y=Vt();if(t.documentUpdates.forEach(T=>{t.resolvedLimboDocuments.has(T)&&m.push(i.persistence.referenceDelegate.updateLimboDocument(c,T))}),m.push(G2(c,f,t.documentUpdates).next(T=>{p=T.Vs,y=T.fs})),!s.isEqual(Et.min())){const T=i.Hr.getLastRemoteSnapshotVersion(c).next(S=>i.Hr.setTargetsMetadata(c,c.currentSequenceNumber,s));m.push(T)}return Z.waitFor(m).next(()=>f.apply(c)).next(()=>i.localDocuments.getLocalViewOfDocuments(c,p,y)).next(()=>p)}).then(c=>(i.Ts=o,c))}function G2(r,t,i){let s=Vt(),o=Vt();return i.forEach(c=>s=s.add(c)),t.getEntries(r,s).next(c=>{let f=Qi();return i.forEach((m,p)=>{const y=c.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Et.min())?(t.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(p),f=f.insert(m,p)):lt(Tm,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)}),{Vs:f,fs:o}})}function Q2(r,t){const i=At(r);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=om),i.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function K2(r,t){const i=At(r);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return i.Hr.getTargetData(s,t).next(c=>c?(o=c,Z.resolve(o)):i.Hr.allocateTargetId(s).next(f=>(o=new Vr(t,f,"TargetPurposeListen",s.currentSequenceNumber),i.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=i.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ts=i.Ts.insert(s.targetId,s),i.Is.set(t,s.targetId)),s})}async function kd(r,t,i){const s=At(r),o=s.Ts.get(t),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!Fs(f))throw f;lt(Tm,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Ts=s.Ts.remove(t),s.Is.delete(o.target)}function W_(r,t,i){const s=At(r);let o=Et.min(),c=Vt();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,y,T){const S=At(p),C=S.Is.get(T);return C!==void 0?Z.resolve(S.Ts.get(C)):S.Hr.getTargetData(y,T)}(s,f,ui(t)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(f,m.targetId).next(p=>{c=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(f,t,i?o:Et.min(),i?c:Vt())).next(m=>(Y2(s,MR(t),m),{documents:m,gs:c})))}function Y2(r,t,i){let s=r.Es.get(t)||Et.min();i.forEach((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),r.Es.set(t,s)}class J_{constructor(){this.activeTargetIds=jR()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}bs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class $2{constructor(){this.ho=new J_,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,s){}addLocalQueryTarget(t,i=!0){return i&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,i,s){this.Po[t]=i}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new J_,Promise.resolve()}handleUserChange(t,i,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv="ConnectivityMonitor";class ev{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){lt(tv,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){lt(tv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ju=null;function zd(){return Ju===null?Ju=function(){return 268435456+Math.round(2147483648*Math.random())}():Ju++,"0x"+Ju.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dd="RestConnection",Z2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class W2{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=i+"://"+t.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===pc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(t,i,s,o,c){const f=zd(),m=this.bo(t,i.toUriEncodedString());lt(dd,`Sending RPC '${t}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,c),this.vo(t,m,p,s).then(y=>(lt(dd,`Received RPC '${t}' ${f}: `,y),y),y=>{throw Ms(dd,`RPC '${t}' ${f} failed with error: `,y,"url: ",m,"request:",s),y})}Co(t,i,s,o,c,f){return this.So(t,i,s,o,c)}Do(t,i,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+qs}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,c)=>t[c]=o),s&&s.headers.forEach((o,c)=>t[c]=o)}bo(t,i){const s=Z2[t];return`${this.po}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Uo(t){this.ko(t)}Ko(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ge="WebChannelConnection";class tC extends W2{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,i,s,o){const c=zd();return new Promise((f,m)=>{const p=new g0;p.setWithCredentials(!0),p.listenOnce(p0.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case ic.NO_ERROR:const T=p.getResponseJson();lt(Ge,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(T)),f(T);break;case ic.TIMEOUT:lt(Ge,`RPC '${t}' ${c} timed out`),m(new dt(J.DEADLINE_EXCEEDED,"Request time out"));break;case ic.HTTP_ERROR:const S=p.getStatus();if(lt(Ge,`RPC '${t}' ${c} failed with status:`,S,"response text:",p.getResponseText()),S>0){let C=p.getResponseJson();Array.isArray(C)&&(C=C[0]);const I=C==null?void 0:C.error;if(I&&I.status&&I.message){const z=function(L){const Y=L.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(Y)>=0?Y:J.UNKNOWN}(I.status);m(new dt(z,I.message))}else m(new dt(J.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new dt(J.UNAVAILABLE,"Connection failed."));break;default:vt()}}finally{lt(Ge,`RPC '${t}' ${c} completed.`)}});const y=JSON.stringify(o);lt(Ge,`RPC '${t}' ${c} sending request:`,o),p.send(i,"POST",y,s,15)})}Wo(t,i,s){const o=zd(),c=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=v0(),m=_0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,i,s),p.encodeInitMessageHeaders=!0;const T=c.join("");lt(Ge,`Creating RPC '${t}' stream ${o}: ${T}`,p);const S=f.createWebChannel(T,p);let C=!1,I=!1;const z=new J2({Fo:L=>{I?lt(Ge,`Not sending because RPC '${t}' stream ${o} is closed:`,L):(C||(lt(Ge,`Opening RPC '${t}' stream ${o} transport.`),S.open(),C=!0),lt(Ge,`RPC '${t}' stream ${o} sending:`,L),S.send(L))},Mo:()=>S.close()}),q=(L,Y,tt)=>{L.listen(Y,et=>{try{tt(et)}catch(gt){setTimeout(()=>{throw gt},0)}})};return q(S,eo.EventType.OPEN,()=>{I||(lt(Ge,`RPC '${t}' stream ${o} transport opened.`),z.Qo())}),q(S,eo.EventType.CLOSE,()=>{I||(I=!0,lt(Ge,`RPC '${t}' stream ${o} transport closed`),z.Uo())}),q(S,eo.EventType.ERROR,L=>{I||(I=!0,Ms(Ge,`RPC '${t}' stream ${o} transport errored:`,L),z.Uo(new dt(J.UNAVAILABLE,"The operation could not be completed")))}),q(S,eo.EventType.MESSAGE,L=>{var Y;if(!I){const tt=L.data[0];Ft(!!tt);const et=tt,gt=(et==null?void 0:et.error)||((Y=et[0])===null||Y===void 0?void 0:Y.error);if(gt){lt(Ge,`RPC '${t}' stream ${o} received error:`,gt);const ut=gt.status;let bt=function(b){const D=pe[b];if(D!==void 0)return X0(D)}(ut),O=gt.message;bt===void 0&&(bt=J.INTERNAL,O="Unknown error status: "+ut+" with message "+gt.message),I=!0,z.Uo(new dt(bt,O)),S.close()}else lt(Ge,`RPC '${t}' stream ${o} received:`,tt),z.Ko(tt)}}),q(m,y0.STAT_EVENT,L=>{L.stat===Rd.PROXY?lt(Ge,`RPC '${t}' stream ${o} detected buffering proxy`):L.stat===Rd.NOPROXY&&lt(Ge,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{z.$o()},0),z}}function md(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hc(r){return new r2(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(t,i,s=1e3,o=1.5,c=6e4){this.Ti=t,this.timerId=i,this.Go=s,this.zo=o,this.jo=c,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const i=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,i-s);o>0&&lt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv="PersistentStream";class hE{constructor(t,i,s,o,c,f,m,p){this.Ti=t,this.n_=s,this.r_=o,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new cE(t,i)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,i){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(Gi(i.toString()),Gi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(i)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),i=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===i&&this.V_(s,o)},s=>{t(()=>{const o=new dt(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(t,i){const s=this.R_(this.i_);this.stream=this.f_(t,i),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return lt(nv,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return i=>{this.Ti.enqueueAndForget(()=>this.i_===t?i():(lt(nv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class eC extends hE{constructor(t,i,s,o,c,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,f),this.serializer=c}f_(t,i){return this.connection.Wo("Listen",t,i)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const i=l2(this.serializer,t),s=function(c){if(!("targetChange"in c))return Et.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?Et.min():f.readTime?ci(f.readTime):Et.min()}(t);return this.listener.p_(i,s)}y_(t){const i={};i.database=Pd(this.serializer),i.addTarget=function(c,f){let m;const p=f.target;if(m=Nd(p)?{documents:c2(c,p)}:{query:h2(c,p).ht},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=J0(c,f.resumeToken);const y=Md(c,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(Et.min())>0){m.readTime=Ac(c,f.snapshotVersion.toTimestamp());const y=Md(c,f.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,t);const s=d2(this.serializer,t);s&&(i.labels=s),this.I_(i)}w_(t){const i={};i.database=Pd(this.serializer),i.removeTarget=t,this.I_(i)}}class nC extends hE{constructor(t,i,s,o,c,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,f),this.serializer=c}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(t,i){return this.connection.Wo("Write",t,i)}g_(t){return Ft(!!t.streamToken),this.lastStreamToken=t.streamToken,Ft(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){Ft(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const i=u2(t.writeResults,t.commitTime),s=ci(t.commitTime);return this.listener.v_(s,i)}C_(){const t={};t.database=Pd(this.serializer),this.I_(t)}b_(t){const i={streamToken:this.lastStreamToken,writes:t.map(s=>o2(this.serializer,s))};this.I_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{}class rC extends iC{constructor(t,i,s,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new dt(J.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,i,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.So(t,Ud(i,s),o,c,f)).catch(c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new dt(J.UNKNOWN,c.toString())})}Co(t,i,s,o,c){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(t,Ud(i,s),o,f,m,c)).catch(f=>{throw f.name==="FirebaseError"?(f.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new dt(J.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class aC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Gi(i),this.N_=!1):lt("OnlineStateTracker",i)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma="RemoteStore";class sC{constructor(t,i,s,o,c){this.localStore=t,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=c,this.z_.To(f=>{s.enqueueAndForget(async()=>{ka(this)&&(lt(Ma,"Restarting streams for network reachability change."),await async function(p){const y=At(p);y.W_.add(4),await wo(y),y.j_.set("Unknown"),y.W_.delete(4),await Fc(y)}(this))})}),this.j_=new aC(s,o)}}async function Fc(r){if(ka(r))for(const t of r.G_)await t(!0)}async function wo(r){for(const t of r.G_)await t(!1)}function fE(r,t){const i=At(r);i.K_.has(t.targetId)||(i.K_.set(t.targetId,t),wm(i)?Sm(i):Gs(i).c_()&&bm(i,t))}function Am(r,t){const i=At(r),s=Gs(i);i.K_.delete(t),s.c_()&&dE(i,t),i.K_.size===0&&(s.c_()?s.P_():ka(i)&&i.j_.set("Unknown"))}function bm(r,t){if(r.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Et.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Gs(r).y_(t)}function dE(r,t){r.H_.Ne(t),Gs(r).w_(t)}function Sm(r){r.H_=new t2({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>r.K_.get(t)||null,it:()=>r.datastore.serializer.databaseId}),Gs(r).start(),r.j_.B_()}function wm(r){return ka(r)&&!Gs(r).u_()&&r.K_.size>0}function ka(r){return At(r).W_.size===0}function mE(r){r.H_=void 0}async function lC(r){r.j_.set("Online")}async function oC(r){r.K_.forEach((t,i)=>{bm(r,t)})}async function uC(r,t){mE(r),wm(r)?(r.j_.q_(t),Sm(r)):r.j_.set("Unknown")}async function cC(r,t,i){if(r.j_.set("Online"),t instanceof W0&&t.state===2&&t.cause)try{await async function(o,c){const f=c.cause;for(const m of c.targetIds)o.K_.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.K_.delete(m),o.H_.removeTarget(m))}(r,t)}catch(s){lt(Ma,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Sc(r,s)}else if(t instanceof lc?r.H_.We(t):t instanceof Z0?r.H_.Ze(t):r.H_.je(t),!i.isEqual(Et.min()))try{const s=await uE(r.localStore);i.compareTo(s)>=0&&await function(c,f){const m=c.H_.ot(f);return m.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const T=c.K_.get(y);T&&c.K_.set(y,T.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,y)=>{const T=c.K_.get(p);if(!T)return;c.K_.set(p,T.withResumeToken(Be.EMPTY_BYTE_STRING,T.snapshotVersion)),dE(c,p);const S=new Vr(T.target,p,y,T.sequenceNumber);bm(c,S)}),c.remoteSyncer.applyRemoteEvent(m)}(r,i)}catch(s){lt(Ma,"Failed to raise snapshot:",s),await Sc(r,s)}}async function Sc(r,t,i){if(!Fs(t))throw t;r.W_.add(1),await wo(r),r.j_.set("Offline"),i||(i=()=>uE(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{lt(Ma,"Retrying IndexedDB access"),await i(),r.W_.delete(1),await Fc(r)})}function gE(r,t){return t().catch(i=>Sc(r,i,t))}async function Gc(r){const t=At(r),i=Hr(t);let s=t.U_.length>0?t.U_[t.U_.length-1].batchId:om;for(;hC(t);)try{const o=await Q2(t.localStore,s);if(o===null){t.U_.length===0&&i.P_();break}s=o.batchId,fC(t,o)}catch(o){await Sc(t,o)}pE(t)&&yE(t)}function hC(r){return ka(r)&&r.U_.length<10}function fC(r,t){r.U_.push(t);const i=Hr(r);i.c_()&&i.S_&&i.b_(t.mutations)}function pE(r){return ka(r)&&!Hr(r).u_()&&r.U_.length>0}function yE(r){Hr(r).start()}async function dC(r){Hr(r).C_()}async function mC(r){const t=Hr(r);for(const i of r.U_)t.b_(i.mutations)}async function gC(r,t,i){const s=r.U_.shift(),o=gm.from(s,t,i);await gE(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Gc(r)}async function pC(r,t){t&&Hr(r).S_&&await async function(s,o){if(function(f){return WR(f)&&f!==J.ABORTED}(o.code)){const c=s.U_.shift();Hr(s).h_(),await gE(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o)),await Gc(s)}}(r,t),pE(r)&&yE(r)}async function iv(r,t){const i=At(r);i.asyncQueue.verifyOperationInProgress(),lt(Ma,"RemoteStore received new credentials");const s=ka(i);i.W_.add(3),await wo(i),s&&i.j_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.W_.delete(3),await Fc(i)}async function yC(r,t){const i=At(r);t?(i.W_.delete(2),await Fc(i)):t||(i.W_.add(2),await wo(i),i.j_.set("Unknown"))}function Gs(r){return r.J_||(r.J_=function(i,s,o){const c=At(i);return c.M_(),new eC(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(r.datastore,r.asyncQueue,{xo:lC.bind(null,r),No:oC.bind(null,r),Lo:uC.bind(null,r),p_:cC.bind(null,r)}),r.G_.push(async t=>{t?(r.J_.h_(),wm(r)?Sm(r):r.j_.set("Unknown")):(await r.J_.stop(),mE(r))})),r.J_}function Hr(r){return r.Y_||(r.Y_=function(i,s,o){const c=At(i);return c.M_(),new nC(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:dC.bind(null,r),Lo:pC.bind(null,r),D_:mC.bind(null,r),v_:gC.bind(null,r)}),r.G_.push(async t=>{t?(r.Y_.h_(),await Gc(r)):(await r.Y_.stop(),r.U_.length>0&&(lt(Ma,`Stopping write stream with ${r.U_.length} pending writes`),r.U_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(t,i,s,o,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new Ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,i,s,o,c){const f=Date.now()+s,m=new Rm(t,i,f,o,c);return m.start(s),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new dt(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cm(r,t){if(Gi("AsyncQueue",`${t}: ${r}`),Fs(r))return new dt(J.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{static emptySet(t){return new Os(t.comparator)}constructor(t){this.comparator=t?(i,s)=>t(i,s)||pt.comparator(i.key,s.key):(i,s)=>pt.comparator(i.key,s.key),this.keyedMap=no(),this.sortedSet=new ne(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((i,s)=>(t(i),!1))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Os)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach(i=>{t.push(i.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const s=new Os;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(){this.Z_=new ne(pt.comparator)}track(t){const i=t.doc.key,s=this.Z_.get(i);s?t.type!==0&&s.type===3?this.Z_=this.Z_.insert(i,t):t.type===3&&s.type!==1?this.Z_=this.Z_.insert(i,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.Z_=this.Z_.insert(i,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.Z_=this.Z_.insert(i,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.Z_=this.Z_.remove(i):t.type===1&&s.type===2?this.Z_=this.Z_.insert(i,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.Z_=this.Z_.insert(i,{type:2,doc:t.doc}):vt():this.Z_=this.Z_.insert(i,t)}X_(){const t=[];return this.Z_.inorderTraversal((i,s)=>{t.push(s)}),t}}class zs{constructor(t,i,s,o,c,f,m,p,y){this.query=t,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(t,i,s,o,c){const f=[];return i.forEach(m=>{f.push({type:0,doc:m})}),new zs(t,i,Os.emptySet(i),f,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&kc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,s=t.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class vC{constructor(){this.queries=av(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(i,s){const o=At(i),c=o.queries;o.queries=av(),c.forEach((f,m)=>{for(const p of m.ta)p.onError(s)})})(this,new dt(J.ABORTED,"Firestore shutting down"))}}function av(){return new Pa(r=>k0(r),kc)}async function _E(r,t){const i=At(r);let s=3;const o=t.query;let c=i.queries.get(o);c?!c.na()&&t.ra()&&(s=2):(c=new _C,s=t.ra()?0:1);try{switch(s){case 0:c.ea=await i.onListen(o,!0);break;case 1:c.ea=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(f){const m=Cm(f,`Initialization of query '${Is(t.query)}' failed`);return void t.onError(m)}i.queries.set(o,c),c.ta.push(t),t.sa(i.onlineState),c.ea&&t.oa(c.ea)&&Dm(i)}async function vE(r,t){const i=At(r),s=t.query;let o=3;const c=i.queries.get(s);if(c){const f=c.ta.indexOf(t);f>=0&&(c.ta.splice(f,1),c.ta.length===0?o=t.ra()?0:1:!c.na()&&t.ra()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function EC(r,t){const i=At(r);let s=!1;for(const o of t){const c=o.query,f=i.queries.get(c);if(f){for(const m of f.ta)m.oa(o)&&(s=!0);f.ea=o}}s&&Dm(i)}function TC(r,t,i){const s=At(r),o=s.queries.get(t);if(o)for(const c of o.ta)c.onError(i);s.queries.delete(t)}function Dm(r){r.ia.forEach(t=>{t.next()})}var jd,sv;(sv=jd||(jd={}))._a="default",sv.Cache="cache";class EE{constructor(t,i,s){this.query=t,this.aa=i,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new zs(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.ua?this.la(t)&&(this.aa.next(t),i=!0):this.ha(t,this.onlineState)&&(this.Pa(t),i=!0),this.ca=t,i}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let i=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),i=!0),i}ha(t,i){if(!t.fromCache||!this.ra())return!0;const s=i!=="Offline";return(!this.options.Ta||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}la(t){if(t.docChanges.length>0)return!0;const i=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Pa(t){t=zs.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==jd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(t){this.key=t}}class AE{constructor(t){this.key=t}}class AC{constructor(t,i){this.query=t,this.fa=i,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Vt(),this.mutatedKeys=Vt(),this.ya=z0(t),this.wa=new Os(this.ya)}get Sa(){return this.fa}ba(t,i){const s=i?i.Da:new rv,o=i?i.wa:this.wa;let c=i?i.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((T,S)=>{const C=o.get(T),I=zc(this.query,S)?S:null,z=!!C&&this.mutatedKeys.has(C.key),q=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let L=!1;C&&I?C.data.isEqual(I.data)?z!==q&&(s.track({type:3,doc:I}),L=!0):this.va(C,I)||(s.track({type:2,doc:I}),L=!0,(p&&this.ya(I,p)>0||y&&this.ya(I,y)<0)&&(m=!0)):!C&&I?(s.track({type:0,doc:I}),L=!0):C&&!I&&(s.track({type:1,doc:C}),L=!0,(p||y)&&(m=!0)),L&&(I?(f=f.add(I),c=q?c.add(T):c.delete(T)):(f=f.delete(T),c=c.delete(T)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),c=c.delete(T.key),s.track({type:1,doc:T})}return{wa:f,Da:s,ls:m,mutatedKeys:c}}va(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,s,o){const c=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const f=t.Da.X_();f.sort((T,S)=>function(I,z){const q=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt()}};return q(I)-q(z)}(T.type,S.type)||this.ya(T.doc,S.doc)),this.Ca(s),o=o!=null&&o;const m=i&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,y=p!==this.ga;return this.ga=p,f.length!==0||y?{snapshot:new zs(this.query,t.wa,c,f,t.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new rv,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(i=>this.fa=this.fa.add(i)),t.modifiedDocuments.forEach(i=>{}),t.removedDocuments.forEach(i=>this.fa=this.fa.delete(i)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=Vt(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const i=[];return t.forEach(s=>{this.pa.has(s)||i.push(new AE(s))}),this.pa.forEach(s=>{t.has(s)||i.push(new TE(s))}),i}Oa(t){this.fa=t.gs,this.pa=Vt();const i=this.ba(t.documents);return this.applyChanges(i,!0)}Na(){return zs.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const xm="SyncEngine";class bC{constructor(t,i,s){this.query=t,this.targetId=i,this.view=s}}class SC{constructor(t){this.key=t,this.Ba=!1}}class wC{constructor(t,i,s,o,c,f){this.localStore=t,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new Pa(m=>k0(m),kc),this.qa=new Map,this.Qa=new Set,this.$a=new ne(pt.comparator),this.Ua=new Map,this.Ka=new _m,this.Wa={},this.Ga=new Map,this.za=ks.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function RC(r,t,i=!0){const s=DE(r);let o;const c=s.ka.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.Na()):o=await bE(s,t,i,!0),o}async function CC(r,t){const i=DE(r);await bE(i,t,!0,!1)}async function bE(r,t,i,s){const o=await K2(r.localStore,ui(t)),c=o.targetId,f=r.sharedClientState.addLocalQueryTarget(c,i);let m;return s&&(m=await DC(r,t,c,f==="current",o.resumeToken)),r.isPrimaryClient&&i&&fE(r.remoteStore,o),m}async function DC(r,t,i,s,o){r.Ha=(S,C,I)=>async function(q,L,Y,tt){let et=L.view.ba(Y);et.ls&&(et=await W_(q.localStore,L.query,!1).then(({documents:O})=>L.view.ba(O,et)));const gt=tt&&tt.targetChanges.get(L.targetId),ut=tt&&tt.targetMismatches.get(L.targetId)!=null,bt=L.view.applyChanges(et,q.isPrimaryClient,gt,ut);return ov(q,L.targetId,bt.Ma),bt.snapshot}(r,S,C,I);const c=await W_(r.localStore,t,!0),f=new AC(t,c.gs),m=f.ba(c.documents),p=So.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,p);ov(r,i,y.Ma);const T=new bC(t,i,f);return r.ka.set(t,T),r.qa.has(i)?r.qa.get(i).push(t):r.qa.set(i,[t]),y.snapshot}async function xC(r,t,i){const s=At(r),o=s.ka.get(t),c=s.qa.get(o.targetId);if(c.length>1)return s.qa.set(o.targetId,c.filter(f=>!kc(f,t))),void s.ka.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await kd(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),i&&Am(s.remoteStore,o.targetId),Bd(s,o.targetId)}).catch(Hs)):(Bd(s,o.targetId),await kd(s.localStore,o.targetId,!0))}async function IC(r,t){const i=At(r),s=i.ka.get(t),o=i.qa.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Am(i.remoteStore,s.targetId))}async function VC(r,t,i){const s=kC(r);try{const o=await function(f,m){const p=At(f),y=we.now(),T=m.reduce((I,z)=>I.add(z.key),Vt());let S,C;return p.persistence.runTransaction("Locally write mutations","readwrite",I=>{let z=Qi(),q=Vt();return p.ds.getEntries(I,T).next(L=>{z=L,z.forEach((Y,tt)=>{tt.isValidDocument()||(q=q.add(Y))})}).next(()=>p.localDocuments.getOverlayedDocuments(I,z)).next(L=>{S=L;const Y=[];for(const tt of m){const et=KR(tt,S.get(tt.key).overlayedDocument);et!=null&&Y.push(new Yr(tt.key,et,V0(et.value.mapValue),Un.exists(!0)))}return p.mutationQueue.addMutationBatch(I,y,Y,m)}).next(L=>{C=L;const Y=L.applyToLocalDocumentSet(S,q);return p.documentOverlayCache.saveOverlays(I,L.batchId,Y)})}).then(()=>({batchId:C.batchId,changes:B0(S)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let y=f.Wa[f.currentUser.toKey()];y||(y=new ne(It)),y=y.insert(m,p),f.Wa[f.currentUser.toKey()]=y}(s,o.batchId,i),await Ro(s,o.changes),await Gc(s.remoteStore)}catch(o){const c=Cm(o,"Failed to persist write");i.reject(c)}}async function SE(r,t){const i=At(r);try{const s=await F2(i.localStore,t);t.targetChanges.forEach((o,c)=>{const f=i.Ua.get(c);f&&(Ft(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?Ft(f.Ba):o.removedDocuments.size>0&&(Ft(f.Ba),f.Ba=!1))}),await Ro(i,s,t)}catch(s){await Hs(s)}}function lv(r,t,i){const s=At(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.ka.forEach((c,f)=>{const m=f.view.sa(t);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=At(f);p.onlineState=m;let y=!1;p.queries.forEach((T,S)=>{for(const C of S.ta)C.sa(m)&&(y=!0)}),y&&Dm(p)}(s.eventManager,t),o.length&&s.La.p_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function NC(r,t,i){const s=At(r);s.sharedClientState.updateQueryState(t,"rejected",i);const o=s.Ua.get(t),c=o&&o.key;if(c){let f=new ne(pt.comparator);f=f.insert(c,Ke.newNoDocument(c,Et.min()));const m=Vt().add(c),p=new qc(Et.min(),new Map,new ne(It),f,m);await SE(s,p),s.$a=s.$a.remove(c),s.Ua.delete(t),Im(s)}else await kd(s.localStore,t,!1).then(()=>Bd(s,t,i)).catch(Hs)}async function OC(r,t){const i=At(r),s=t.batch.batchId;try{const o=await H2(i.localStore,t);RE(i,s,null),wE(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await Ro(i,o)}catch(o){await Hs(o)}}async function MC(r,t,i){const s=At(r);try{const o=await function(f,m){const p=At(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let T;return p.mutationQueue.lookupMutationBatch(y,m).next(S=>(Ft(S!==null),T=S.keys(),p.mutationQueue.removeMutationBatch(y,S))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,T,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T)).next(()=>p.localDocuments.getDocuments(y,T))})}(s.localStore,t);RE(s,t,i),wE(s,t),s.sharedClientState.updateMutationState(t,"rejected",i),await Ro(s,o)}catch(o){await Hs(o)}}function wE(r,t){(r.Ga.get(t)||[]).forEach(i=>{i.resolve()}),r.Ga.delete(t)}function RE(r,t,i){const s=At(r);let o=s.Wa[s.currentUser.toKey()];if(o){const c=o.get(t);c&&(i?c.reject(i):c.resolve(),o=o.remove(t)),s.Wa[s.currentUser.toKey()]=o}}function Bd(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.qa.get(t))r.ka.delete(s),i&&r.La.Ja(s,i);r.qa.delete(t),r.isPrimaryClient&&r.Ka.br(t).forEach(s=>{r.Ka.containsKey(s)||CE(r,s)})}function CE(r,t){r.Qa.delete(t.path.canonicalString());const i=r.$a.get(t);i!==null&&(Am(r.remoteStore,i),r.$a=r.$a.remove(t),r.Ua.delete(i),Im(r))}function ov(r,t,i){for(const s of i)s instanceof TE?(r.Ka.addReference(s.key,t),UC(r,s)):s instanceof AE?(lt(xm,"Document no longer in limbo: "+s.key),r.Ka.removeReference(s.key,t),r.Ka.containsKey(s.key)||CE(r,s.key)):vt()}function UC(r,t){const i=t.key,s=i.path.canonicalString();r.$a.get(i)||r.Qa.has(s)||(lt(xm,"New document in limbo: "+i),r.Qa.add(s),Im(r))}function Im(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const t=r.Qa.values().next().value;r.Qa.delete(t);const i=new pt(Zt.fromString(t)),s=r.za.next();r.Ua.set(s,new SC(i)),r.$a=r.$a.insert(i,s),fE(r.remoteStore,new Vr(ui(Pc(i.path)),s,"TargetPurposeLimboResolution",Oc.ae))}}async function Ro(r,t,i){const s=At(r),o=[],c=[],f=[];s.ka.isEmpty()||(s.ka.forEach((m,p)=>{f.push(s.Ha(p,t,i).then(y=>{var T;if((y||i)&&s.isPrimaryClient){const S=y?!y.fromCache:(T=i==null?void 0:i.targetChanges.get(p.targetId))===null||T===void 0?void 0:T.current;s.sharedClientState.updateQueryState(p.targetId,S?"current":"not-current")}if(y){o.push(y);const S=Em.Yi(p.targetId,y);c.push(S)}}))}),await Promise.all(f),s.La.p_(o),await async function(p,y){const T=At(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>Z.forEach(y,C=>Z.forEach(C.Hi,I=>T.persistence.referenceDelegate.addReference(S,C.targetId,I)).next(()=>Z.forEach(C.Ji,I=>T.persistence.referenceDelegate.removeReference(S,C.targetId,I)))))}catch(S){if(!Fs(S))throw S;lt(Tm,"Failed to update sequence numbers: "+S)}for(const S of y){const C=S.targetId;if(!S.fromCache){const I=T.Ts.get(C),z=I.snapshotVersion,q=I.withLastLimboFreeSnapshotVersion(z);T.Ts=T.Ts.insert(C,q)}}}(s.localStore,c))}async function LC(r,t){const i=At(r);if(!i.currentUser.isEqual(t)){lt(xm,"User change. New user:",t.toKey());const s=await oE(i.localStore,t);i.currentUser=t,function(c,f){c.Ga.forEach(m=>{m.forEach(p=>{p.reject(new dt(J.CANCELLED,f))})}),c.Ga.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Ro(i,s.Rs)}}function PC(r,t){const i=At(r),s=i.Ua.get(t);if(s&&s.Ba)return Vt().add(s.key);{let o=Vt();const c=i.qa.get(t);if(!c)return o;for(const f of c){const m=i.ka.get(f);o=o.unionWith(m.view.Sa)}return o}}function DE(r){const t=At(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=SE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=PC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=NC.bind(null,t),t.La.p_=EC.bind(null,t.eventManager),t.La.Ja=TC.bind(null,t.eventManager),t}function kC(r){const t=At(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=OC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=MC.bind(null,t),t}class wc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Hc(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,i){return null}nu(t,i){return null}eu(t){return q2(this.persistence,new z2,t.initialUser,this.serializer)}Xa(t){return new lE(vm.ri,this.serializer)}Za(t){return new $2}async terminate(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wc.provider={build:()=>new wc};class zC extends wc{constructor(t){super(),this.cacheSizeBytes=t}tu(t,i){Ft(this.persistence.referenceDelegate instanceof bc);const s=this.persistence.referenceDelegate.garbageCollector;return new S2(s,t.asyncQueue,i)}Xa(t){const i=this.cacheSizeBytes!==void 0?sn.withCacheSize(this.cacheSizeBytes):sn.DEFAULT;return new lE(s=>bc.ri(s,i),this.serializer)}}class qd{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>lv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=LC.bind(null,this.syncEngine),await yC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new vC}()}createDatastore(t){const i=Hc(t.databaseInfo.databaseId),s=function(c){return new tC(c)}(t.databaseInfo);return function(c,f,m,p){return new rC(c,f,m,p)}(t.authCredentials,t.appCheckCredentials,s,i)}createRemoteStore(t){return function(s,o,c,f,m){return new sC(s,o,c,f,m)}(this.localStore,this.datastore,t.asyncQueue,i=>lv(this.syncEngine,i,0),function(){return ev.D()?new ev:new X2}())}createSyncEngine(t,i){return function(o,c,f,m,p,y,T){const S=new wC(o,c,f,m,p,y);return T&&(S.ja=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){var t,i;await async function(o){const c=At(o);lt(Ma,"RemoteStore shutting down."),c.W_.add(5),await wo(c),c.z_.shutdown(),c.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}qd.provider={build:()=>new qd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):Gi("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,i){setTimeout(()=>{this.muted||t(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr="FirestoreClient";class jC{constructor(t,i,s,o,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=Qe.UNAUTHENTICATED,this.clientId=T0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async f=>{lt(Fr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(lt(Fr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const s=Cm(i,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function gd(r,t){r.asyncQueue.verifyOperationInProgress(),lt(Fr,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let s=i.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await oE(t.localStore,o),s=o)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function uv(r,t){r.asyncQueue.verifyOperationInProgress();const i=await BC(r);lt(Fr,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener(s=>iv(t.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>iv(t.remoteStore,o)),r._onlineComponents=t}async function BC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){lt(Fr,"Using user provided OfflineComponentProvider");try{await gd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;Ms("Error using user provided cache. Falling back to memory cache: "+i),await gd(r,new wc)}}else lt(Fr,"Using default OfflineComponentProvider"),await gd(r,new zC(void 0));return r._offlineComponents}async function IE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(lt(Fr,"Using user provided OnlineComponentProvider"),await uv(r,r._uninitializedComponentsProvider._online)):(lt(Fr,"Using default OnlineComponentProvider"),await uv(r,new qd))),r._onlineComponents}function qC(r){return IE(r).then(t=>t.syncEngine)}async function Hd(r){const t=await IE(r),i=t.eventManager;return i.onListen=RC.bind(null,t.syncEngine),i.onUnlisten=xC.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=CC.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=IC.bind(null,t.syncEngine),i}function HC(r,t,i={}){const s=new Ur;return r.asyncQueue.enqueueAndForget(async()=>function(c,f,m,p,y){const T=new xE({next:C=>{T.su(),f.enqueueAndForget(()=>vE(c,S));const I=C.docs.has(m);!I&&C.fromCache?y.reject(new dt(J.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&C.fromCache&&p&&p.source==="server"?y.reject(new dt(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(C)},error:C=>y.reject(C)}),S=new EE(Pc(m.path),T,{includeMetadataChanges:!0,Ta:!0});return _E(c,S)}(await Hd(r),r.asyncQueue,t,i,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VE(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(r,t,i){if(!i)throw new dt(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function FC(r,t,i,s){if(t===!0&&s===!0)throw new dt(J.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function hv(r){if(!pt.isDocumentKey(r))throw new dt(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function fv(r){if(pt.isDocumentKey(r))throw new dt(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Vm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":vt()}function Ln(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new dt(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Vm(r);throw new dt(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE="firestore.googleapis.com",dv=!0;class mv{constructor(t){var i,s;if(t.host===void 0){if(t.ssl!==void 0)throw new dt(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=OE,this.ssl=dv}else this.host=t.host,this.ssl=(i=t.ssl)!==null&&i!==void 0?i:dv;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=sE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<A2)throw new dt(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}FC("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=VE((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new dt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new dt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new dt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Qc{constructor(t,i,s,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mv({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new dt(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new dt(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mv(t),t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new J1;switch(s.type){case"firstParty":return new iR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new dt(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=cv.get(i);s&&(lt("ComponentProvider","Removing Datastore"),cv.delete(i),s.terminate())}(this),Promise.resolve()}}function GC(r,t,i,s={}){var o;const c=(r=Ln(r,Qc))._getSettings(),f=`${t}:${i}`;if(c.host!==OE&&c.host!==f&&Ms("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},c),{host:f,ssl:!1})),s.mockUserToken){let m,p;if(typeof s.mockUserToken=="string")m=s.mockUserToken,p=Qe.MOCK_USER;else{m=cS(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const y=s.mockUserToken.sub||s.mockUserToken.user_id;if(!y)throw new dt(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Qe(y)}r._authCredentials=new tR(new E0(m,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(t,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Kc(this.firestore,t,this._query)}}class tn{constructor(t,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Lr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new tn(this.firestore,t,this._key)}}class Lr extends Kc{constructor(t,i,s){super(t,i,Pc(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new tn(this.firestore,null,new pt(t))}withConverter(t){return new Lr(this.firestore,t,this._path)}}function Ia(r,t,...i){if(r=Fn(r),NE("collection","path",t),r instanceof Qc){const s=Zt.fromString(t,...i);return fv(s),new Lr(r,null,s)}{if(!(r instanceof tn||r instanceof Lr))throw new dt(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Zt.fromString(t,...i));return fv(s),new Lr(r.firestore,null,s)}}function Ir(r,t,...i){if(r=Fn(r),arguments.length===1&&(t=T0.newId()),NE("doc","path",t),r instanceof Qc){const s=Zt.fromString(t,...i);return hv(s),new tn(r,null,new pt(s))}{if(!(r instanceof tn||r instanceof Lr))throw new dt(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Zt.fromString(t,...i));return hv(s),new tn(r.firestore,r instanceof Lr?r.converter:null,new pt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv="AsyncQueue";class pv{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new cE(this,"async_queue_retry"),this.Su=()=>{const s=md();s&&lt(gv,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=t;const i=md();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const i=md();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const i=new Ur;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!Fs(t))throw t;lt(gv,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const i=this.bu.then(()=>(this.pu=!0,t().catch(s=>{this.gu=s,this.pu=!1;const o=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw Gi("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=i,i}enqueueAfterDelay(t,i,s){this.Du(),this.wu.indexOf(t)>-1&&(i=0);const o=Rm.createAndSchedule(this,t,i,s,c=>this.Fu(c));return this.fu.push(o),o}Du(){this.gu&&vt()}verifyOperationInProgress(){}async Mu(){let t;do t=this.bu,await t;while(t!==this.bu)}xu(t){for(const i of this.fu)if(i.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.fu)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const i=this.fu.indexOf(t);this.fu.splice(i,1)}}function yv(r){return function(i,s){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of s)if(c in o&&typeof o[c]=="function")return!0;return!1}(r,["next","error","complete"])}class Gr extends Qc{constructor(t,i,s,o){super(t,i,s,o),this.type="firestore",this._queue=new pv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new pv(t),this._firestoreClient=void 0,await t}}}function QC(r,t){const i=typeof r=="object"?r:Hv(),s=typeof r=="string"?r:pc,o=Ao(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=oS("firestore");c&&GC(o,...c)}return o}function Nm(r){if(r._terminated)throw new dt(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||KC(r),r._firestoreClient}function KC(r){var t,i,s;const o=r._freezeSettings(),c=function(m,p,y,T){return new yR(m,p,y,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,VE(T.experimentalLongPollingOptions),T.useFetchStreams)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new jC(r._authCredentials,r._appCheckCredentials,r._queue,c,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(t){this._byteString=t}static fromBase64String(t){try{return new js(Be.fromBase64String(t))}catch(i){throw new dt(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new js(Be.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new dt(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new je(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new dt(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new dt(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return It(this._lat,t._lat)||It(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(t){this._values=(t||[]).map(i=>i)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC=/^__.*__$/;class $C{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return this.fieldMask!==null?new Yr(t,this.data,this.fieldMask,i,this.fieldTransforms):new bo(t,this.data,i,this.fieldTransforms)}}class ME{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return new Yr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function UE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt()}}class Lm{constructor(t,i,s,o,c,f){this.settings=t,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Bu(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new Lm(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(t),o=this.ku({path:s,Qu:!1});return o.$u(t),o}Uu(t){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(t),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Ku(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return Rc(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(i=>t.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>t.isPrefixOf(i.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(UE(this.Lu)&&YC.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class XC{constructor(t,i,s){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=s||Hc(t)}ju(t,i,s,o=!1){return new Lm({Lu:t,methodName:i,zu:s,path:je.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Pm(r){const t=r._freezeSettings(),i=Hc(r._databaseId);return new XC(r._databaseId,!!t.ignoreUndefinedProperties,i)}function LE(r,t,i,s,o,c={}){const f=r.ju(c.merge||c.mergeFields?2:0,t,i,o);km("Data must be an object, but it was:",f,s);const m=PE(s,f);let p,y;if(c.merge)p=new pn(f.fieldMask),y=f.fieldTransforms;else if(c.mergeFields){const T=[];for(const S of c.mergeFields){const C=Fd(t,S,i);if(!f.contains(C))throw new dt(J.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);zE(T,C)||T.push(C)}p=new pn(T),y=f.fieldTransforms.filter(S=>p.covers(S.field))}else p=null,y=f.fieldTransforms;return new $C(new ln(m),p,y)}class $c extends Om{_toFieldTransform(t){if(t.Lu!==2)throw t.Lu===1?t.Wu(`${this._methodName}() can only appear at the top level of your update data`):t.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof $c}}function ZC(r,t,i,s){const o=r.ju(1,t,i);km("Data must be an object, but it was:",o,s);const c=[],f=ln.empty();Kr(s,(p,y)=>{const T=zm(t,p,i);y=Fn(y);const S=o.Uu(T);if(y instanceof $c)c.push(T);else{const C=Xc(y,S);C!=null&&(c.push(T),f.set(T,C))}});const m=new pn(c);return new ME(f,m,o.fieldTransforms)}function WC(r,t,i,s,o,c){const f=r.ju(1,t,i),m=[Fd(t,s,i)],p=[o];if(c.length%2!=0)throw new dt(J.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let C=0;C<c.length;C+=2)m.push(Fd(t,c[C])),p.push(c[C+1]);const y=[],T=ln.empty();for(let C=m.length-1;C>=0;--C)if(!zE(y,m[C])){const I=m[C];let z=p[C];z=Fn(z);const q=f.Uu(I);if(z instanceof $c)y.push(I);else{const L=Xc(z,q);L!=null&&(y.push(I),T.set(I,L))}}const S=new pn(y);return new ME(T,S,f.fieldTransforms)}function Xc(r,t){if(kE(r=Fn(r)))return km("Unsupported field value:",t,r),PE(r,t);if(r instanceof Om)return function(s,o){if(!UE(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(s,o){const c=[];let f=0;for(const m of s){let p=Xc(m,o.Ku(f));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),f++}return{arrayValue:{values:c}}}(r,t)}return function(s,o){if((s=Fn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return BR(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=we.fromDate(s);return{timestampValue:Ac(o.serializer,c)}}if(s instanceof we){const c=new we(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ac(o.serializer,c)}}if(s instanceof Mm)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof js)return{bytesValue:J0(o.serializer,s._byteString)};if(s instanceof tn){const c=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(c))throw o.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:ym(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Um)return function(f,m){return{mapValue:{fields:{[x0]:{stringValue:I0},[yc]:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw m.Wu("VectorValues must only contain numeric values.");return dm(m.serializer,y)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${Vm(s)}`)}(r,t)}function PE(r,t){const i={};return b0(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Kr(r,(s,o)=>{const c=Xc(o,t.qu(s));c!=null&&(i[s]=c)}),{mapValue:{fields:i}}}function kE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof we||r instanceof Mm||r instanceof js||r instanceof tn||r instanceof Om||r instanceof Um)}function km(r,t,i){if(!kE(i)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(i)){const s=Vm(i);throw s==="an object"?t.Wu(r+" a custom object"):t.Wu(r+" "+s)}}function Fd(r,t,i){if((t=Fn(t))instanceof Yc)return t._internalPath;if(typeof t=="string")return zm(r,t);throw Rc("Field path arguments must be of type string or ",r,!1,void 0,i)}const JC=new RegExp("[~\\*/\\[\\]]");function zm(r,t,i){if(t.search(JC)>=0)throw Rc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Yc(...t.split("."))._internalPath}catch{throw Rc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Rc(r,t,i,s,o){const c=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;i&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(c||f)&&(p+=" (found",c&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new dt(J.INVALID_ARGUMENT,m+r+p)}function zE(r,t){return r.some(i=>i.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(t,i,s,o,c){this._firestore=t,this._userDataWriter=i,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new tD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(BE("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class tD extends jE{data(){return super.data()}}function BE(r,t){return typeof t=="string"?zm(r,t):t instanceof Yc?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eD(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new dt(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class nD{convertValue(t,i="none"){switch(qr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ce(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Br(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw vt()}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const s={};return Kr(t,(o,c)=>{s[o]=this.convertValue(c,i)}),s}convertVectorValue(t){var i,s,o;const c=(o=(s=(i=t.fields)===null||i===void 0?void 0:i[yc].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>ce(f.doubleValue));return new Um(c)}convertGeoPoint(t){return new Mm(ce(t.latitude),ce(t.longitude))}convertArray(t,i){return(t.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(t,i){switch(i){case"previous":const s=Uc(t);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(mo(t));default:return null}}convertTimestamp(t){const i=jr(t);return new we(i.seconds,i.nanos)}convertDocumentKey(t,i){const s=Zt.fromString(t);Ft(aE(s));const o=new go(s.get(1),s.get(3)),c=new pt(s.popFirst(5));return o.isEqual(i)||Gi(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qE(r,t,i){let s;return s=r?r.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class HE extends jE{constructor(t,i,s,o,c,f){super(t,i,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new oc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const s=this._document.data.field(BE("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class oc extends HE{data(t={}){return super.data(t)}}class iD{constructor(t,i,s,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new ro(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach(i=>t.push(i)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach(s=>{t.call(i,new oc(this._firestore,this._userDataWriter,s.key,s,new ro(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new dt(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new oc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ro(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>c||m.type!==3).map(m=>{const p=new oc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ro(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,T=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),T=f.indexOf(m.doc.key)),{type:rD(m.type),doc:p,oldIndex:y,newIndex:T}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function rD(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tc(r){r=Ln(r,tn);const t=Ln(r.firestore,Gr);return HC(Nm(t),r._key).then(i=>QE(t,r,i))}class FE extends nD{constructor(t){super(),this.firestore=t}convertBytes(t){return new js(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new tn(this.firestore,null,i)}}function _v(r,t,i){r=Ln(r,tn);const s=Ln(r.firestore,Gr),o=qE(r.converter,t);return Zc(s,[LE(Pm(s),"setDoc",r._key,o,r.converter!==null,i).toMutation(r._key,Un.none())])}function pd(r,t,i,...s){r=Ln(r,tn);const o=Ln(r.firestore,Gr),c=Pm(o);let f;return f=typeof(t=Fn(t))=="string"||t instanceof Yc?WC(c,"updateDoc",r._key,t,i,s):ZC(c,"updateDoc",r._key,t),Zc(o,[f.toMutation(r._key,Un.exists(!0))])}function GE(r){return Zc(Ln(r.firestore,Gr),[new mm(r._key,Un.none())])}function Gd(r,t){const i=Ln(r.firestore,Gr),s=Ir(r),o=qE(r.converter,t);return Zc(i,[LE(Pm(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Un.exists(!1))]).then(()=>s)}function Cc(r,...t){var i,s,o;r=Fn(r);let c={includeMetadataChanges:!1,source:"default"},f=0;typeof t[f]!="object"||yv(t[f])||(c=t[f],f++);const m={includeMetadataChanges:c.includeMetadataChanges,source:c.source};if(yv(t[f])){const S=t[f];t[f]=(i=S.next)===null||i===void 0?void 0:i.bind(S),t[f+1]=(s=S.error)===null||s===void 0?void 0:s.bind(S),t[f+2]=(o=S.complete)===null||o===void 0?void 0:o.bind(S)}let p,y,T;if(r instanceof tn)y=Ln(r.firestore,Gr),T=Pc(r._key.path),p={next:S=>{t[f]&&t[f](QE(y,r,S))},error:t[f+1],complete:t[f+2]};else{const S=Ln(r,Kc);y=Ln(S.firestore,Gr),T=S._query;const C=new FE(y);p={next:I=>{t[f]&&t[f](new iD(y,C,S,I))},error:t[f+1],complete:t[f+2]},eD(r._query)}return function(C,I,z,q){const L=new xE(q),Y=new EE(I,L,z);return C.asyncQueue.enqueueAndForget(async()=>_E(await Hd(C),Y)),()=>{L.su(),C.asyncQueue.enqueueAndForget(async()=>vE(await Hd(C),Y))}}(Nm(y),T,m,p)}function Zc(r,t){return function(s,o){const c=new Ur;return s.asyncQueue.enqueueAndForget(async()=>VC(await qC(s),o,c)),c.promise}(Nm(r),t)}function QE(r,t,i){const s=i.docs.get(t._key),o=new FE(r);return new HE(r,o,t._key,s,new ro(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(o){qs=o})(Tw),kr(new Hi("firestore",(s,{instanceIdentifier:o,options:c})=>{const f=s.getProvider("app").getImmediate(),m=new Gr(new eR(s.getProvider("auth-internal")),new rR(f,s.getProvider("app-check-internal")),function(y,T){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new dt(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new go(y.options.projectId,T)}(f,o),f);return c=Object.assign({useFetchStreams:i},c),m._setSettings(c),m},"PUBLIC").setMultipleInstances(!0)),oi(b_,S_,t),oi(b_,S_,"esm2017")})();const aD={apiKey:"undefined",authDomain:"task-round-assignment.firebaseapp.com",projectId:"task-round-assignment",storageBucket:"task-round-assignment.appspot.com",messagingSenderId:"112721315589",appId:"1:112721315589:web:d162cdde4a47ecb10a996c",measurementId:"G-1K2EKW4W73"},KE=qv(aD);$1(KE);const an=QC(KE);function sD({projects:r,deleteProject:t}){return X.jsxs("div",{children:[X.jsx("h2",{className:"text-xl font-bold mb-3",children:"Projects"}),X.jsx("ul",{children:r.map(i=>X.jsxs("li",{className:"p-3 border-b flex justify-between items-center",children:[X.jsxs(Wd,{to:`/project/${i.id}`,className:"text-blue-400 hover:text-blue-300",children:[i.name," (",i.totalExpense,")"]}),X.jsx("button",{onClick:()=>t(i.id),className:"bg-transparent hover:bg-black text-white px-2 py-1 rounded",children:""})]},i.id))})]})}function lD({addProject:r}){const[t,i]=G.useState(""),s=o=>{o.preventDefault(),t.trim()&&(r(t),i(""))};return X.jsxs("form",{onSubmit:s,className:"mb-6 bg-gray-900 p-4 rounded-lg shadow-md flex items-center gap-3",children:[X.jsx("input",{type:"text",placeholder:"Enter project name",value:t,onChange:o=>i(o.target.value),className:`flex-1 bg-gray-800 text-gray-200 placeholder-gray-400 border border-gray-700 \r
                   rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500`}),X.jsx("button",{type:"submit",className:`bg-blue-600 text-white px-2 py-2 rounded-md shadow-md \r
                   hover:bg-blue-500 transition duration-200`,children:"Add"})]})}function oD(){const[r,t]=G.useState([]);G.useEffect(()=>{const o=Cc(Ia(an,"projects"),c=>{t(c.docs.map(f=>({id:f.id,...f.data()})))});return()=>o()},[]);const i=async o=>{await Gd(Ia(an,"projects"),{name:o,totalExpense:0})},s=async o=>{await GE(Ir(an,"projects",o))};return X.jsxs("div",{className:"fixed top-0 left-0 right-0 bottom-0 min-h-screen bg-gray-900 text-white flex flex-col items-center p-6",children:[X.jsx("h1",{className:"text-4xl font-extrabold bg-gradient-to-r from-blue-400 to-green-400 text-transparent bg-clip-text mb-6",children:"Expense Tracker "}),X.jsx("div",{className:"w-full max-w-md bg-gray-800 p-6 rounded-lg shadow-lg",children:X.jsx(lD,{addProject:i})}),X.jsx("div",{className:"w-full max-w-md mt-6 bg-gray-800 p-6 rounded-lg shadow-lg",children:X.jsx(sD,{projects:r,deleteProject:s})})]})}function uD({expenses:r,deleteExpense:t}){const[i,s]=G.useState(""),o=[...new Set(r.map(f=>f.date))],c=i?r.filter(f=>f.date===i):r;return X.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-md",children:[X.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-4",children:[X.jsx("h3",{className:"text-2xl font-bold text-white mb-3 md:mb-0",children:" Expenses"}),X.jsxs("select",{className:"p-2 bg-gray-700 text-white rounded-md focus:outline-none focus:ring-2 focus:ring-blue-400 transition",value:i,onChange:f=>s(f.target.value),children:[X.jsx("option",{value:"",children:" All Dates"}),o.map(f=>X.jsx("option",{value:f,children:f},f))]})]}),X.jsx("ul",{className:"space-y-4",children:c.length===0?X.jsx("p",{className:"text-gray-400 text-center",children:"No expenses found for this date."}):c.map(f=>X.jsxs("li",{className:"p-4 bg-gray-700 rounded-lg shadow-md border border-gray-600 transition hover:bg-gray-600",children:[X.jsx("h4",{className:"text-lg font-semibold text-blue-400",children:f.person==="company"?" Company Expense":` ${f.person}`}),X.jsxs("p",{className:"text-gray-300 italic mt-1 mb-3",children:[" ",f.description]}),X.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center",children:[X.jsxs("p",{className:"text-gray-500 text-sm",children:[" ",f.date]}),X.jsxs("div",{className:"flex justify-between items-center w-full sm:w-auto mt-2 sm:mt-0",children:[X.jsxs("span",{className:"text-xl font-bold text-green-400 mr-4",children:["",f.amount]}),X.jsx("button",{onClick:()=>t(f.id),className:"bg-transparent text-white px-3 py-1 rounded-lg transition hover:bg-black-700",children:""})]})]})]},f.id))})]})}function cD({people:r,addExpense:t,addIncome:i}){const[s,o]=G.useState("expense"),[c,f]=G.useState("person"),[m,p]=G.useState(""),[y,T]=G.useState(""),[S,C]=G.useState(""),[I,z]=G.useState(new Date().toISOString().split("T")[0]),q=L=>{L.preventDefault(),y&&S&&I&&(s==="expense"?t(m,parseFloat(y),S,c,I):i(parseFloat(y),S,I),T(""),C(""),p(""),z(new Date().toISOString().split("T")[0]))};return X.jsxs("form",{onSubmit:q,className:"mt-6 bg-gray-800 p-6 rounded-lg shadow-md",children:[X.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Add Transaction"}),X.jsxs("div",{className:"mb-3",children:[X.jsx("label",{className:"text-white",children:"Entry Type:"}),X.jsxs("select",{className:"w-full bg-gray-700 text-white border border-gray-600 p-3 rounded-md mt-2",value:s,onChange:L=>o(L.target.value),children:[X.jsx("option",{value:"expense",children:"Expense"}),X.jsx("option",{value:"income",children:"Income"})]})]}),s==="expense"&&X.jsxs("div",{className:"mb-3",children:[X.jsx("label",{className:"text-white",children:"Expense Type:"}),X.jsxs("select",{className:"w-full bg-gray-700 text-white border border-gray-600 p-3 rounded-md mt-2",value:c,onChange:L=>f(L.target.value),children:[X.jsx("option",{value:"person",children:"Person"}),X.jsx("option",{value:"company",children:"Company"})]})]}),s==="expense"&&c==="person"&&X.jsxs("select",{onChange:L=>p(L.target.value),className:"w-full bg-gray-700 text-white border border-gray-600 p-3 rounded-md mt-3",value:m,children:[X.jsx("option",{value:"",children:"-- Select Person --"}),r.map(L=>X.jsx("option",{value:L.id,children:L.name},L.id))]}),X.jsx("input",{type:"text",placeholder:s==="expense"?"Expense description":"Income source",value:S,onChange:L=>C(L.target.value),className:"w-full bg-gray-700 text-white border border-gray-600 p-3 rounded-md mt-3"}),X.jsx("input",{type:"number",placeholder:s==="expense"?"Enter expense amount":"Enter income amount",value:y,onChange:L=>T(L.target.value),className:"w-full bg-gray-700 text-white border border-gray-600 p-3 rounded-md mt-3"}),X.jsx("input",{type:"date",value:I,onChange:L=>z(L.target.value),className:"w-full bg-gray-700 text-white border border-gray-600 p-3 rounded-md mt-3"}),X.jsx("button",{type:"submit",className:"w-full mt-4 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-md transition duration-300",children:s==="expense"?"Add Expense":"Add Income"})]})}function hD({people:r}){return X.jsxs("div",{className:"mt-6 bg-gray-900 p-4 rounded-lg shadow-md",children:[X.jsx("h3",{className:"text-xl font-semibold text-gray-200 mb-3",children:"People"}),X.jsx("ul",{className:"space-y-2",children:r.map(t=>X.jsx("li",{className:"p-3 bg-gray-800 text-gray-300 rounded-md shadow-sm hover:bg-gray-700 transition duration-200",children:t.name},t.id))})]})}function fD({addPerson:r}){const[t,i]=G.useState(""),s=o=>{o.preventDefault(),t.trim()&&(r(t),i(""))};return X.jsxs("form",{onSubmit:s,className:"mt-4 flex items-center gap-2",children:[X.jsx("input",{type:"text",placeholder:"Enter person name",value:t,onChange:o=>i(o.target.value),className:"bg-gray-800 text-white placeholder-gray-400 border border-gray-600 rounded-lg p-2 flex-1 focus:outline-none focus:ring-2 focus:ring-green-500"}),X.jsx("button",{type:"submit",className:"bg-green-500 hover:bg-green-600 text-white font-medium px-4 py-2 rounded-lg shadow-md transition duration-200",children:"Add"})]})}function dD({projectId:r}){const[t,i]=G.useState([]);return G.useEffect(()=>{if(!r)return;const s=Ia(an,`projects/${r}/income`),o=Cc(s,c=>{const f=c.docs.map(m=>({id:m.id,...m.data()}));i(f)});return()=>o()},[r]),X.jsxs("div",{className:"mt-6 bg-gray-800 p-6 rounded-lg shadow-md",children:[X.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Incoming Money"}),t.length===0?X.jsx("p",{className:"text-gray-400",children:"No income records found."}):X.jsx("ul",{className:"divide-y divide-gray-700",children:t.map(s=>X.jsxs("li",{className:"py-3 flex justify-between items-center",children:[X.jsxs("div",{children:[X.jsx("p",{className:"text-white font-medium",children:s.description}),X.jsx("p",{className:"text-gray-400 text-sm",children:s.date})]}),X.jsxs("span",{className:"text-green-400 font-semibold",children:["",s.amount.toFixed(2)]})]},s.id))})]})}function mD(){var I,z;const{projectId:r}=rb(),[t,i]=G.useState(null),[s,o]=G.useState([]),[c,f]=G.useState([]),[m,p]=G.useState("");G.useEffect(()=>{const q=async()=>{const tt=await tc(Ir(an,"projects",r));tt.exists()&&i({id:r,...tt.data()})},L=Cc(Ia(an,`projects/${r}/expenses`),tt=>{o(tt.docs.map(et=>({id:et.id,...et.data()})))}),Y=Cc(Ia(an,`projects/${r}/people`),tt=>{f(tt.docs.map(et=>({id:et.id,...et.data()})))});return q(),()=>{L(),Y()}},[r]);const y=async q=>{const L=q.toLowerCase(),Y=Ir(an,`projects/${r}/people`,L);(await tc(Y)).exists()||await _v(Y,{name:q,totalExpense:0})},T=async(q,L,Y,tt,et)=>{const gt=parseFloat(L),ut={person:q,amount:gt,description:Y,expenseType:tt,date:et,timestamp:new Date};if(tt==="person"){if(!q)return alert("Please select a person!");const b=Ir(an,`projects/${r}/people`,q.toLowerCase()),D=await tc(b);if(!D.exists())await _v(b,{name:q,totalExpense:gt});else{const M=D.data().totalExpense||0;await pd(b,{totalExpense:M+gt})}ut.person=q}else ut.person="company";await Gd(Ia(an,`projects/${r}/expenses`),ut);const bt=Ir(an,"projects",r),O=await tc(bt),w=O.exists()&&O.data().totalExpense||0;i({...t,totalExpense:w+gt}),await pd(bt,{totalExpense:w+gt})},S=async(q,L,Y)=>{const tt={amount:parseFloat(q),description:L,date:Y,timestamp:new Date};await Gd(Ia(an,`projects/${r}/income`),tt)},C=async q=>{try{try{await pd(Ir(an,"projects",r),{totalExpense:t.totalExpense-s.find(L=>L.id===q).amount}),i({...t,totalExpense:t.totalExpense-s.find(L=>L.id===q).amount}),await GE(Ir(an,`projects/${r}/expenses`,q))}catch(L){console.error("Error deleting expense:",L)}o(s.filter(L=>L.id!==q)),console.log("Expense deleted successfully!")}catch(L){console.error("Error deleting expense:",L)}};return t?X.jsx("div",{className:"fixed top-0 left-0 right-0 bottom-0 min-h-screen bg-gray-900 text-white p-6 overflow-y-scroll",children:X.jsxs("div",{className:"max-w-4xl mx-auto bg-gray-800 shadow-lg rounded-lg p-6",children:[X.jsx("h2",{className:"text-3xl font-bold text-center mb-4",children:t.name}),X.jsxs("p",{className:"text-lg text-center text-gray-400 mb-6",children:["Total Expense: ",X.jsxs("span",{className:"text-green-400 font-semibold",children:["",t.totalExpense]})]}),X.jsxs("div",{className:"mb-6",children:[X.jsx("label",{className:"block text-lg font-semibold mb-2",children:"Select Person:"}),X.jsxs("select",{className:"w-full p-3 rounded-md bg-gray-700 text-white focus:outline-none focus:ring-2 focus:ring-blue-400 transition",value:m,onChange:q=>p(q.target.value),children:[X.jsx("option",{value:"",children:"-- Select a Person --"}),c.map(q=>X.jsxs("option",{value:q.id,children:[q.name," - ",q.totalExpense]},q.id))]})]}),m&&X.jsxs("div",{className:"bg-gray-800 p-5 rounded-lg shadow-md mb-4 text-center",children:[X.jsxs("h2",{className:"text-2xl font-bold text-white",children:[" ",(I=c.find(q=>q.id===m))==null?void 0:I.name,"'s Total Expense:"]}),X.jsxs("p",{className:"text-3xl font-semibold text-green-400",children:["",((z=c.find(q=>q.id===m))==null?void 0:z.totalExpense)||0]})]}),m&&X.jsxs("div",{className:"bg-gray-800 p-5 rounded-lg shadow-md mt-4",children:[X.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:" Transactions"}),X.jsx("div",{className:"max-h-60 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-600 scrollbar-track-gray-900 p-2",children:X.jsx("ul",{children:s.filter(q=>q.person===m).map(q=>X.jsxs("li",{className:"p-3 border-b border-gray-600 bg-gray-700 rounded-lg shadow-md mb-2",children:[X.jsxs("p",{className:"text-lg font-semibold text-white",children:[" ",q.amount]}),X.jsxs("p",{className:"text-gray-400 text-md",children:[" ",q.description]}),X.jsxs("p",{className:"text-gray-500 text-sm",children:[" ",q.date]})]},q.id))})})]}),X.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[X.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg shadow-md",children:[X.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:" Add & Manage People"}),X.jsx(fD,{addPerson:y}),X.jsx("div",{className:"mt-4",children:X.jsx(hD,{people:c})})]}),X.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg shadow-md",children:[X.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:" Add & Manage Expenses"}),X.jsx(cD,{people:c,addExpense:T,addIncome:S})]})]}),X.jsxs("div",{className:"mt-6 bg-gray-700 p-4 rounded-lg shadow-md",children:[X.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:" Expense Money"}),X.jsx(uD,{expenses:s,deleteExpense:C})]}),X.jsxs("div",{className:"mt-6 bg-gray-700 p-4 rounded-lg shadow-md",children:[X.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:" Incoming Money"}),X.jsx(dD,{projectId:r})]})]})}):X.jsx("p",{className:"text-white text-center mt-10 text-lg",children:"Loading..."})}function gD(){return X.jsx(Hb,{children:X.jsx("div",{className:"container mx-auto p-4",children:X.jsxs(vb,{children:[X.jsx(_d,{path:"/",element:X.jsx(oD,{})}),X.jsx(_d,{path:"/project/:projectId",element:X.jsx(mD,{})})]})})})}CA.createRoot(document.getElementById("root")).render(X.jsx(G.StrictMode,{children:X.jsx(gD,{})}));
