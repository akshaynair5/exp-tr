(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var $f={exports:{}},Zl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jy;function gb(){if(jy)return Zl;jy=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(s,o,c){var f=null;if(c!==void 0&&(f=""+c),o.key!==void 0&&(f=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:c}}return Zl.Fragment=t,Zl.jsx=i,Zl.jsxs=i,Zl}var By;function pb(){return By||(By=1,$f.exports=gb()),$f.exports}var F=pb(),Xf={exports:{}},wt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qy;function yb(){if(qy)return wt;qy=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function R(N){return N===null||typeof N!="object"?null:(N=S&&N[S]||N["@@iterator"],typeof N=="function"?N:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,q={};function V(N,nt,ft){this.props=N,this.context=nt,this.refs=q,this.updater=ft||I}V.prototype.isReactComponent={},V.prototype.setState=function(N,nt){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,nt,"setState")},V.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function K(){}K.prototype=V.prototype;function J(N,nt,ft){this.props=N,this.context=nt,this.refs=q,this.updater=ft||I}var X=J.prototype=new K;X.constructor=J,P(X,V.prototype),X.isPureReactComponent=!0;var rt=Array.isArray,st={H:null,A:null,T:null,S:null},vt=Object.prototype.hasOwnProperty;function U(N,nt,ft,lt,ot,Rt){return ft=Rt.ref,{$$typeof:r,type:N,key:nt,ref:ft!==void 0?ft:null,props:Rt}}function w(N,nt){return U(N.type,nt,void 0,void 0,void 0,N.props)}function A(N){return typeof N=="object"&&N!==null&&N.$$typeof===r}function D(N){var nt={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(ft){return nt[ft]})}var O=/\/+/g;function z(N,nt){return typeof N=="object"&&N!==null&&N.key!=null?D(""+N.key):nt.toString(36)}function x(){}function ye(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(x,x):(N.status="pending",N.then(function(nt){N.status==="pending"&&(N.status="fulfilled",N.value=nt)},function(nt){N.status==="pending"&&(N.status="rejected",N.reason=nt)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function he(N,nt,ft,lt,ot){var Rt=typeof N;(Rt==="undefined"||Rt==="boolean")&&(N=null);var St=!1;if(N===null)St=!0;else switch(Rt){case"bigint":case"string":case"number":St=!0;break;case"object":switch(N.$$typeof){case r:case t:St=!0;break;case E:return St=N._init,he(St(N._payload),nt,ft,lt,ot)}}if(St)return ot=ot(N),St=lt===""?"."+z(N,0):lt,rt(ot)?(ft="",St!=null&&(ft=St.replace(O,"$&/")+"/"),he(ot,nt,ft,"",function(ie){return ie})):ot!=null&&(A(ot)&&(ot=w(ot,ft+(ot.key==null||N&&N.key===ot.key?"":(""+ot.key).replace(O,"$&/")+"/")+St)),nt.push(ot)),1;St=0;var fe=lt===""?".":lt+":";if(rt(N))for(var kt=0;kt<N.length;kt++)lt=N[kt],Rt=fe+z(lt,kt),St+=he(lt,nt,ft,Rt,ot);else if(kt=R(N),typeof kt=="function")for(N=kt.call(N),kt=0;!(lt=N.next()).done;)lt=lt.value,Rt=fe+z(lt,kt++),St+=he(lt,nt,ft,Rt,ot);else if(Rt==="object"){if(typeof N.then=="function")return he(ye(N),nt,ft,lt,ot);throw nt=String(N),Error("Objects are not valid as a React child (found: "+(nt==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":nt)+"). If you meant to render a collection of children, use an array instead.")}return St}function at(N,nt,ft){if(N==null)return N;var lt=[],ot=0;return he(N,lt,"","",function(Rt){return nt.call(ft,Rt,ot++)}),lt}function _t(N){if(N._status===-1){var nt=N._result;nt=nt(),nt.then(function(ft){(N._status===0||N._status===-1)&&(N._status=1,N._result=ft)},function(ft){(N._status===0||N._status===-1)&&(N._status=2,N._result=ft)}),N._status===-1&&(N._status=0,N._result=nt)}if(N._status===1)return N._result.default;throw N._result}var gt=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var nt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(nt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function qt(){}return wt.Children={map:at,forEach:function(N,nt,ft){at(N,function(){nt.apply(this,arguments)},ft)},count:function(N){var nt=0;return at(N,function(){nt++}),nt},toArray:function(N){return at(N,function(nt){return nt})||[]},only:function(N){if(!A(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},wt.Component=V,wt.Fragment=i,wt.Profiler=o,wt.PureComponent=J,wt.StrictMode=s,wt.Suspense=p,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=st,wt.act=function(){throw Error("act(...) is not supported in production builds of React.")},wt.cache=function(N){return function(){return N.apply(null,arguments)}},wt.cloneElement=function(N,nt,ft){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var lt=P({},N.props),ot=N.key,Rt=void 0;if(nt!=null)for(St in nt.ref!==void 0&&(Rt=void 0),nt.key!==void 0&&(ot=""+nt.key),nt)!vt.call(nt,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&nt.ref===void 0||(lt[St]=nt[St]);var St=arguments.length-2;if(St===1)lt.children=ft;else if(1<St){for(var fe=Array(St),kt=0;kt<St;kt++)fe[kt]=arguments[kt+2];lt.children=fe}return U(N.type,ot,void 0,void 0,Rt,lt)},wt.createContext=function(N){return N={$$typeof:f,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:c,_context:N},N},wt.createElement=function(N,nt,ft){var lt,ot={},Rt=null;if(nt!=null)for(lt in nt.key!==void 0&&(Rt=""+nt.key),nt)vt.call(nt,lt)&&lt!=="key"&&lt!=="__self"&&lt!=="__source"&&(ot[lt]=nt[lt]);var St=arguments.length-2;if(St===1)ot.children=ft;else if(1<St){for(var fe=Array(St),kt=0;kt<St;kt++)fe[kt]=arguments[kt+2];ot.children=fe}if(N&&N.defaultProps)for(lt in St=N.defaultProps,St)ot[lt]===void 0&&(ot[lt]=St[lt]);return U(N,Rt,void 0,void 0,null,ot)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(N){return{$$typeof:m,render:N}},wt.isValidElement=A,wt.lazy=function(N){return{$$typeof:E,_payload:{_status:-1,_result:N},_init:_t}},wt.memo=function(N,nt){return{$$typeof:y,type:N,compare:nt===void 0?null:nt}},wt.startTransition=function(N){var nt=st.T,ft={};st.T=ft;try{var lt=N(),ot=st.S;ot!==null&&ot(ft,lt),typeof lt=="object"&&lt!==null&&typeof lt.then=="function"&&lt.then(qt,gt)}catch(Rt){gt(Rt)}finally{st.T=nt}},wt.unstable_useCacheRefresh=function(){return st.H.useCacheRefresh()},wt.use=function(N){return st.H.use(N)},wt.useActionState=function(N,nt,ft){return st.H.useActionState(N,nt,ft)},wt.useCallback=function(N,nt){return st.H.useCallback(N,nt)},wt.useContext=function(N){return st.H.useContext(N)},wt.useDebugValue=function(){},wt.useDeferredValue=function(N,nt){return st.H.useDeferredValue(N,nt)},wt.useEffect=function(N,nt){return st.H.useEffect(N,nt)},wt.useId=function(){return st.H.useId()},wt.useImperativeHandle=function(N,nt,ft){return st.H.useImperativeHandle(N,nt,ft)},wt.useInsertionEffect=function(N,nt){return st.H.useInsertionEffect(N,nt)},wt.useLayoutEffect=function(N,nt){return st.H.useLayoutEffect(N,nt)},wt.useMemo=function(N,nt){return st.H.useMemo(N,nt)},wt.useOptimistic=function(N,nt){return st.H.useOptimistic(N,nt)},wt.useReducer=function(N,nt,ft){return st.H.useReducer(N,nt,ft)},wt.useRef=function(N){return st.H.useRef(N)},wt.useState=function(N){return st.H.useState(N)},wt.useSyncExternalStore=function(N,nt,ft){return st.H.useSyncExternalStore(N,nt,ft)},wt.useTransition=function(){return st.H.useTransition()},wt.version="19.0.0",wt}var Hy;function Fd(){return Hy||(Hy=1,Xf.exports=yb()),Xf.exports}var G=Fd(),Zf={exports:{}},Wl={},Wf={exports:{}},Jf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fy;function vb(){return Fy||(Fy=1,function(r){function t(at,_t){var gt=at.length;at.push(_t);t:for(;0<gt;){var qt=gt-1>>>1,N=at[qt];if(0<o(N,_t))at[qt]=_t,at[gt]=N,gt=qt;else break t}}function i(at){return at.length===0?null:at[0]}function s(at){if(at.length===0)return null;var _t=at[0],gt=at.pop();if(gt!==_t){at[0]=gt;t:for(var qt=0,N=at.length,nt=N>>>1;qt<nt;){var ft=2*(qt+1)-1,lt=at[ft],ot=ft+1,Rt=at[ot];if(0>o(lt,gt))ot<N&&0>o(Rt,lt)?(at[qt]=Rt,at[ot]=gt,qt=ot):(at[qt]=lt,at[ft]=gt,qt=ft);else if(ot<N&&0>o(Rt,gt))at[qt]=Rt,at[ot]=gt,qt=ot;else break t}}return _t}function o(at,_t){var gt=at.sortIndex-_t.sortIndex;return gt!==0?gt:at.id-_t.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],y=[],E=1,S=null,R=3,I=!1,P=!1,q=!1,V=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function X(at){for(var _t=i(y);_t!==null;){if(_t.callback===null)s(y);else if(_t.startTime<=at)s(y),_t.sortIndex=_t.expirationTime,t(p,_t);else break;_t=i(y)}}function rt(at){if(q=!1,X(at),!P)if(i(p)!==null)P=!0,ye();else{var _t=i(y);_t!==null&&he(rt,_t.startTime-at)}}var st=!1,vt=-1,U=5,w=-1;function A(){return!(r.unstable_now()-w<U)}function D(){if(st){var at=r.unstable_now();w=at;var _t=!0;try{t:{P=!1,q&&(q=!1,K(vt),vt=-1),I=!0;var gt=R;try{e:{for(X(at),S=i(p);S!==null&&!(S.expirationTime>at&&A());){var qt=S.callback;if(typeof qt=="function"){S.callback=null,R=S.priorityLevel;var N=qt(S.expirationTime<=at);if(at=r.unstable_now(),typeof N=="function"){S.callback=N,X(at),_t=!0;break e}S===i(p)&&s(p),X(at)}else s(p);S=i(p)}if(S!==null)_t=!0;else{var nt=i(y);nt!==null&&he(rt,nt.startTime-at),_t=!1}}break t}finally{S=null,R=gt,I=!1}_t=void 0}}finally{_t?O():st=!1}}}var O;if(typeof J=="function")O=function(){J(D)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,x=z.port2;z.port1.onmessage=D,O=function(){x.postMessage(null)}}else O=function(){V(D,0)};function ye(){st||(st=!0,O())}function he(at,_t){vt=V(function(){at(r.unstable_now())},_t)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(at){at.callback=null},r.unstable_continueExecution=function(){P||I||(P=!0,ye())},r.unstable_forceFrameRate=function(at){0>at||125<at?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<at?Math.floor(1e3/at):5},r.unstable_getCurrentPriorityLevel=function(){return R},r.unstable_getFirstCallbackNode=function(){return i(p)},r.unstable_next=function(at){switch(R){case 1:case 2:case 3:var _t=3;break;default:_t=R}var gt=R;R=_t;try{return at()}finally{R=gt}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(at,_t){switch(at){case 1:case 2:case 3:case 4:case 5:break;default:at=3}var gt=R;R=at;try{return _t()}finally{R=gt}},r.unstable_scheduleCallback=function(at,_t,gt){var qt=r.unstable_now();switch(typeof gt=="object"&&gt!==null?(gt=gt.delay,gt=typeof gt=="number"&&0<gt?qt+gt:qt):gt=qt,at){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=gt+N,at={id:E++,callback:_t,priorityLevel:at,startTime:gt,expirationTime:N,sortIndex:-1},gt>qt?(at.sortIndex=gt,t(y,at),i(p)===null&&at===i(y)&&(q?(K(vt),vt=-1):q=!0,he(rt,gt-qt))):(at.sortIndex=N,t(p,at),P||I||(P=!0,ye())),at},r.unstable_shouldYield=A,r.unstable_wrapCallback=function(at){var _t=R;return function(){var gt=R;R=_t;try{return at.apply(this,arguments)}finally{R=gt}}}}(Jf)),Jf}var Gy;function _b(){return Gy||(Gy=1,Wf.exports=vb()),Wf.exports}var td={exports:{}},Fe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qy;function Eb(){if(Qy)return Fe;Qy=1;var r=Fd();function t(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,y,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:p,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Fe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Fe.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(p,y,null,E)},Fe.flushSync=function(p){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=E,s.d.f()}},Fe.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Fe.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Fe.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin),R=typeof y.integrity=="string"?y.integrity:void 0,I=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:R,fetchPriority:I}):E==="script"&&s.d.X(p,{crossOrigin:S,integrity:R,fetchPriority:I,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Fe.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Fe.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin);s.d.L(p,E,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Fe.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Fe.requestFormReset=function(p){s.d.r(p)},Fe.unstable_batchedUpdates=function(p,y){return p(y)},Fe.useFormState=function(p,y,E){return f.H.useFormState(p,y,E)},Fe.useFormStatus=function(){return f.H.useHostTransitionStatus()},Fe.version="19.0.0",Fe}var Ky;function Tb(){if(Ky)return td.exports;Ky=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),td.exports=Eb(),td.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yy;function bb(){if(Yy)return Wl;Yy=1;var r=_b(),t=Fd(),i=Tb();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}var c=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),I=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),X=Symbol.for("react.offscreen"),rt=Symbol.for("react.memo_cache_sentinel"),st=Symbol.iterator;function vt(e){return e===null||typeof e!="object"?null:(e=st&&e[st]||e["@@iterator"],typeof e=="function"?e:null)}var U=Symbol.for("react.client.reference");function w(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===U?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case p:return"Fragment";case m:return"Portal";case E:return"Profiler";case y:return"StrictMode";case q:return"Suspense";case V:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case I:return(e.displayName||"Context")+".Provider";case R:return(e._context.displayName||"Context")+".Consumer";case P:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case K:return n=e.displayName||null,n!==null?n:w(e.type)||"Memo";case J:n=e._payload,e=e._init;try{return w(e(n))}catch{}}return null}var A=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=Object.assign,O,z;function x(e){if(O===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);O=n&&n[1]||"",z=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+O+e+z}var ye=!1;function he(e,n){if(!e||ye)return"";ye=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(Y){var H=Y}Reflect.construct(e,[],tt)}else{try{tt.call()}catch(Y){H=Y}e.call(tt.prototype)}}else{try{throw Error()}catch(Y){H=Y}(tt=e())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch(Y){if(Y&&H&&typeof Y.stack=="string")return[Y.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var C=_.split(`
`),L=T.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<L.length&&!L[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===L.length)for(l=C.length-1,h=L.length-1;1<=l&&0<=h&&C[l]!==L[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==L[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==L[h]){var $=`
`+C[l].replace(" at new "," at ");return e.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",e.displayName)),$}while(1<=l&&0<=h);break}}}finally{ye=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?x(a):""}function at(e){switch(e.tag){case 26:case 27:case 5:return x(e.type);case 16:return x("Lazy");case 13:return x("Suspense");case 19:return x("SuspenseList");case 0:case 15:return e=he(e.type,!1),e;case 11:return e=he(e.type.render,!1),e;case 1:return e=he(e.type,!0),e;default:return""}}function _t(e){try{var n="";do n+=at(e),e=e.return;while(e);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function gt(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function qt(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function N(e){if(gt(e)!==e)throw Error(s(188))}function nt(e){var n=e.alternate;if(!n){if(n=gt(e),n===null)throw Error(s(188));return n!==e?null:e}for(var a=e,l=n;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return N(h),e;if(d===l)return N(h),n;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,l=d;break}if(T===l){_=!0,l=h,a=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===a){_=!0,a=d,l=h;break}if(T===l){_=!0,l=d,a=h;break}T=T.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:n}function ft(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=ft(e),n!==null)return n;e=e.sibling}return null}var lt=Array.isArray,ot=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Rt={pending:!1,data:null,method:null,action:null},St=[],fe=-1;function kt(e){return{current:e}}function ie(e){0>fe||(e.current=St[fe],St[fe]=null,fe--)}function Gt(e,n){fe++,St[fe]=e.current,e.current=n}var Ye=kt(null),gi=kt(null),yn=kt(null),Yi=kt(null);function $i(e,n){switch(Gt(yn,n),Gt(gi,e),Gt(Ye,null),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)&&(n=n.namespaceURI)?gy(n):0;break;default:if(e=e===8?n.parentNode:n,n=e.tagName,e=e.namespaceURI)e=gy(e),n=py(e,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ie(Ye),Gt(Ye,n)}function pi(){ie(Ye),ie(gi),ie(yn)}function Qs(e){e.memoizedState!==null&&Gt(Yi,e);var n=Ye.current,a=py(n,e.type);n!==a&&(Gt(gi,e),Gt(Ye,a))}function za(e){gi.current===e&&(ie(Ye),ie(gi)),Yi.current===e&&(ie(Yi),Ql._currentValue=Rt)}var ja=Object.prototype.hasOwnProperty,$r=r.unstable_scheduleCallback,Ba=r.unstable_cancelCallback,Xc=r.unstable_shouldYield,Ks=r.unstable_requestPaint,nn=r.unstable_now,Co=r.unstable_getCurrentPriorityLevel,ve=r.unstable_ImmediatePriority,Ce=r.unstable_UserBlockingPriority,yi=r.unstable_NormalPriority,Do=r.unstable_LowPriority,Ys=r.unstable_IdlePriority,Zc=r.log,Xr=r.unstable_setDisableYieldValue,Xi=null,qe=null;function $s(e){if(qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(Xi,e,void 0,(e.current.flags&128)===128)}catch{}}function Fn(e){if(typeof Zc=="function"&&Xr(e),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(Xi,e)}catch{}}var $e=Math.clz32?Math.clz32:Io,Xs=Math.log,xo=Math.LN2;function Io(e){return e>>>=0,e===0?32:31-(Xs(e)/xo|0)|0}var Gn=128,Zi=4194304;function Pn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function vn(e,n){var a=e.pendingLanes;if(a===0)return 0;var l=0,h=e.suspendedLanes,d=e.pingedLanes,_=e.warmLanes;e=e.finishedLanes!==0;var T=a&134217727;return T!==0?(a=T&~h,a!==0?l=Pn(a):(d&=T,d!==0?l=Pn(d):e||(_=T&~_,_!==0&&(l=Pn(_))))):(T=a&~h,T!==0?l=Pn(T):d!==0?l=Pn(d):e||(_=a&~_,_!==0&&(l=Pn(_)))),l===0?0:n!==0&&n!==l&&!(n&h)&&(h=l&-l,_=n&-n,h>=_||h===32&&(_&4194176)!==0)?n:l}function Wi(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function qa(e,n){switch(e){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zs(){var e=Gn;return Gn<<=1,!(Gn&4194176)&&(Gn=128),e}function Ji(){var e=Zi;return Zi<<=1,!(Zi&62914560)&&(Zi=4194304),e}function Ha(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function oe(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function No(e,n,a,l,h,d){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,C=e.expirationTimes,L=e.hiddenUpdates;for(a=_&~a;0<a;){var $=31-$e(a),tt=1<<$;T[$]=0,C[$]=-1;var H=L[$];if(H!==null)for(L[$]=null,$=0;$<H.length;$++){var Y=H[$];Y!==null&&(Y.lane&=-536870913)}a&=~tt}l!==0&&tr(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(_&~n))}function tr(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-$e(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194218}function er(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var l=31-$e(a),h=1<<l;h&n|e[l]&n&&(e[l]|=n),a&=~h}}function Vo(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function Oo(){var e=ot.p;return e!==0?e:(e=window.event,e===void 0?32:My(e.type))}function nr(e,n){var a=ot.p;try{return ot.p=e,n()}finally{ot.p=a}}var Qn=Math.random().toString(36).slice(2),De="__reactFiber$"+Qn,_e="__reactProps$"+Qn,vi="__reactContainer$"+Qn,Zr="__reactEvents$"+Qn,Fa="__reactListeners$"+Qn,Kn="__reactHandles$"+Qn,Ws="__reactResources$"+Qn,ir="__reactMarker$"+Qn;function Wr(e){delete e[De],delete e[_e],delete e[Zr],delete e[Fa],delete e[Kn]}function kn(e){var n=e[De];if(n)return n;for(var a=e.parentNode;a;){if(n=a[vi]||a[De]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=_y(e);e!==null;){if(a=e[De])return a;e=_y(e)}return n}e=a,a=e.parentNode}return null}function _i(e){if(e=e[De]||e[vi]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function rr(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function ar(e){var n=e[Ws];return n||(n=e[Ws]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Wt(e){e[ir]=!0}var Js=new Set,Ga={};function un(e,n){rn(e,n),rn(e+"Capture",n)}function rn(e,n){for(Ga[e]=n,e=0;e<n.length;e++)Js.add(n[e])}var cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tl={},el={};function Mo(e){return ja.call(el,e)?!0:ja.call(tl,e)?!1:Wc.test(e)?el[e]=!0:(tl[e]=!0,!1)}function sr(e,n,a){if(Mo(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function lr(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function _n(e,n,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+l)}}function Xe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Uo(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Jc(e){var n=Uo(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),l=""+e[n];if(!e.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(_){l=""+_,d.call(this,_)}}),Object.defineProperty(e,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Jr(e){e._valueTracker||(e._valueTracker=Jc(e))}function nl(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return e&&(l=Uo(e)?e.checked?"true":"false":e.value),e=l,e!==a?(n.setValue(e),!0):!1}function Qa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ei=/[\n"\\]/g;function re(e){return e.replace(Ei,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function or(e,n,a,l,h,d,_,T){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),n!=null?_==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Xe(n)):e.value!==""+Xe(n)&&(e.value=""+Xe(n)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),n!=null?Ka(e,_,Xe(n)):a!=null?Ka(e,_,Xe(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+Xe(T):e.removeAttribute("name")}function ta(e,n,a,l,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),n!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||n!=null))return;a=a!=null?""+Xe(a):"",n=n!=null?""+Xe(n):a,T||n===e.value||(e.value=n),e.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_)}function Ka(e,n,a){n==="number"&&Qa(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function zt(e,n,a,l){if(e=e.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=n.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Xe(a),n=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function ea(e,n,a){if(n!=null&&(n=""+Xe(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+Xe(a):""}function ur(e,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(lt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Xe(n),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function En(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var th=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function il(e,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,a):typeof a!="number"||a===0||th.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function Lo(e,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&a[h]!==l&&il(e,h,l)}else for(var d in n)n.hasOwnProperty(d)&&il(e,d,n[d])}function rl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),nh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Yn(e){return nh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Tn=null;function Ya(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ti=null,bi=null;function Ai(e){var n=_i(e);if(n&&(e=n.stateNode)){var a=e[_e]||null;t:switch(e=n.stateNode,n.type){case"input":if(or(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+re(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==e&&l.form===e.form){var h=l[_e]||null;if(!h)throw Error(s(90));or(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===e.form&&nl(l)}break t;case"textarea":ea(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&zt(e,!!a.multiple,n,!1)}}}var al=!1;function Po(e,n,a){if(al)return e(n,a);al=!0;try{var l=e(n);return l}finally{if(al=!1,(Ti!==null||bi!==null)&&(Du(),Ti&&(n=Ti,e=bi,bi=Ti=null,Ai(n),e)))for(n=0;n<e.length;n++)Ai(e[n])}}function na(e,n){var a=e.stateNode;if(a===null)return null;var l=a[_e]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var bn=!1;if(cn)try{var ia={};Object.defineProperty(ia,"passive",{get:function(){bn=!0}}),window.addEventListener("test",ia,ia),window.removeEventListener("test",ia,ia)}catch{bn=!1}var $n=null,cr=null,Si=null;function sl(){if(Si)return Si;var e,n=cr,a=n.length,l,h="value"in $n?$n.value:$n.textContent,d=h.length;for(e=0;e<a&&n[e]===h[e];e++);var _=a-e;for(l=1;l<=_&&n[a-l]===h[d-l];l++);return Si=h.slice(e,1<l?1-l:void 0)}function Xn(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Zn(){return!0}function ll(){return!1}function xe(e){function n(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Zn:ll,this.isPropagationStopped=ll,this}return D(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Zn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Zn)},persist:function(){},isPersistent:Zn}),n}var Ht={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$a=xe(Ht),ra=D({},Ht,{view:0,detail:0}),ko=xe(ra),Xa,Za,Wn,aa=D({},ra,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Wn&&(Wn&&e.type==="mousemove"?(Xa=e.screenX-Wn.screenX,Za=e.screenY-Wn.screenY):Za=Xa=0,Wn=e),Xa)},movementY:function(e){return"movementY"in e?e.movementY:Za}}),An=xe(aa),zo=D({},aa,{dataTransfer:0}),ih=xe(zo),sa=D({},ra,{relatedTarget:0}),Wa=xe(sa),ol=D({},Ht,{animationName:0,elapsedTime:0,pseudoElement:0}),Ja=xe(ol),jo=D({},Ht,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ts=xe(jo),rh=D({},Ht,{data:0}),ul=xe(rh),la={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cl(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=qo[e])?!!n[e]:!1}function oa(){return cl}var Ho=D({},ra,{key:function(e){if(e.key){var n=la[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Xn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Bo[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oa,charCode:function(e){return e.type==="keypress"?Xn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Xn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),es=xe(Ho),Fo=D({},aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hl=xe(Fo),wi=D({},ra,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oa}),Go=xe(wi),Qo=D({},Ht,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ko=xe(Qo),Yo=D({},aa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ns=xe(Yo),Ze=D({},Ht,{newState:0,oldState:0}),$o=xe(Ze),Xo=[9,13,27,32],Jn=cn&&"CompositionEvent"in window,u=null;cn&&"documentMode"in document&&(u=document.documentMode);var g=cn&&"TextEvent"in window&&!u,v=cn&&(!Jn||u&&8<u&&11>=u),b=" ",j=!1;function Q(e,n){switch(e){case"keyup":return Xo.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function it(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ot=!1;function Ee(e,n){switch(e){case"compositionend":return it(n);case"keypress":return n.which!==32?null:(j=!0,b);case"textInput":return e=n.data,e===b&&j?null:e;default:return null}}function Mt(e,n){if(Ot)return e==="compositionend"||!Jn&&Q(e,n)?(e=sl(),Si=cr=$n=null,Ot=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return v&&n.locale!=="ko"?null:n.data;default:return null}}var Ie={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Te(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Ie[e.type]:n==="textarea"}function Ri(e,n,a,l){Ti?bi?bi.push(l):bi=[l]:Ti=l,n=Ou(n,"onChange"),0<n.length&&(a=new $a("onChange","change",null,a,l),e.push({event:a,listeners:n}))}var Ue=null,ti=null;function fl(e){cy(e,0)}function Zo(e){var n=rr(e);if(nl(n))return e}function zm(e,n){if(e==="change")return n}var jm=!1;if(cn){var ah;if(cn){var sh="oninput"in document;if(!sh){var Bm=document.createElement("div");Bm.setAttribute("oninput","return;"),sh=typeof Bm.oninput=="function"}ah=sh}else ah=!1;jm=ah&&(!document.documentMode||9<document.documentMode)}function qm(){Ue&&(Ue.detachEvent("onpropertychange",Hm),ti=Ue=null)}function Hm(e){if(e.propertyName==="value"&&Zo(ti)){var n=[];Ri(n,ti,e,Ya(e)),Po(fl,n)}}function GE(e,n,a){e==="focusin"?(qm(),Ue=n,ti=a,Ue.attachEvent("onpropertychange",Hm)):e==="focusout"&&qm()}function QE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Zo(ti)}function KE(e,n){if(e==="click")return Zo(n)}function YE(e,n){if(e==="input"||e==="change")return Zo(n)}function $E(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var hn=typeof Object.is=="function"?Object.is:$E;function dl(e,n){if(hn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ja.call(n,h)||!hn(e[h],n[h]))return!1}return!0}function Fm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Gm(e,n){var a=Fm(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=n&&l>=n)return{node:a,offset:n-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Fm(a)}}function Qm(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Qm(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Km(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Qa(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=Qa(e.document)}return n}function lh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function XE(e,n){var a=Km(n);n=e.focusedElem;var l=e.selectionRange;if(a!==n&&n&&n.ownerDocument&&Qm(n.ownerDocument.documentElement,n)){if(l!==null&&lh(n)){if(e=l.start,a=l.end,a===void 0&&(a=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(a,n.value.length);else if(a=(e=n.ownerDocument||document)&&e.defaultView||window,a.getSelection){a=a.getSelection();var h=n.textContent.length,d=Math.min(l.start,h);l=l.end===void 0?d:Math.min(l.end,h),!a.extend&&d>l&&(h=l,l=d,d=h),h=Gm(n,d);var _=Gm(n,l);h&&_&&(a.rangeCount!==1||a.anchorNode!==h.node||a.anchorOffset!==h.offset||a.focusNode!==_.node||a.focusOffset!==_.offset)&&(e=e.createRange(),e.setStart(h.node,h.offset),a.removeAllRanges(),d>l?(a.addRange(e),a.extend(_.node,_.offset)):(e.setEnd(_.node,_.offset),a.addRange(e)))}}for(e=[],a=n;a=a.parentNode;)a.nodeType===1&&e.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)a=e[n],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var ZE=cn&&"documentMode"in document&&11>=document.documentMode,is=null,oh=null,ml=null,uh=!1;function Ym(e,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;uh||is==null||is!==Qa(l)||(l=is,"selectionStart"in l&&lh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ml&&dl(ml,l)||(ml=l,l=Ou(oh,"onSelect"),0<l.length&&(n=new $a("onSelect","select",null,n,a),e.push({event:n,listeners:l}),n.target=is)))}function ua(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var rs={animationend:ua("Animation","AnimationEnd"),animationiteration:ua("Animation","AnimationIteration"),animationstart:ua("Animation","AnimationStart"),transitionrun:ua("Transition","TransitionRun"),transitionstart:ua("Transition","TransitionStart"),transitioncancel:ua("Transition","TransitionCancel"),transitionend:ua("Transition","TransitionEnd")},ch={},$m={};cn&&($m=document.createElement("div").style,"AnimationEvent"in window||(delete rs.animationend.animation,delete rs.animationiteration.animation,delete rs.animationstart.animation),"TransitionEvent"in window||delete rs.transitionend.transition);function ca(e){if(ch[e])return ch[e];if(!rs[e])return e;var n=rs[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in $m)return ch[e]=n[a];return e}var Xm=ca("animationend"),Zm=ca("animationiteration"),Wm=ca("animationstart"),WE=ca("transitionrun"),JE=ca("transitionstart"),tT=ca("transitioncancel"),Jm=ca("transitionend"),tg=new Map,eg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function zn(e,n){tg.set(e,n),un(n,[e])}var Sn=[],as=0,hh=0;function Wo(){for(var e=as,n=hh=as=0;n<e;){var a=Sn[n];Sn[n++]=null;var l=Sn[n];Sn[n++]=null;var h=Sn[n];Sn[n++]=null;var d=Sn[n];if(Sn[n++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&ng(a,h,d)}}function Jo(e,n,a,l){Sn[as++]=e,Sn[as++]=n,Sn[as++]=a,Sn[as++]=l,hh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function fh(e,n,a,l){return Jo(e,n,a,l),tu(e)}function hr(e,n){return Jo(e,null,null,n),tu(e)}function ng(e,n,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;h&&n!==null&&e.tag===3&&(d=e.stateNode,h=31-$e(a),d=d.hiddenUpdates,e=d[h],e===null?d[h]=[n]:e.push(n),n.lane=a|536870912)}function tu(e){if(50<zl)throw zl=0,_f=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ss={},ig=new WeakMap;function wn(e,n){if(typeof e=="object"&&e!==null){var a=ig.get(e);return a!==void 0?a:(n={value:e,source:n,stack:_t(n)},ig.set(e,n),n)}return{value:e,source:n,stack:_t(n)}}var ls=[],os=0,eu=null,nu=0,Rn=[],Cn=0,ha=null,Ci=1,Di="";function fa(e,n){ls[os++]=nu,ls[os++]=eu,eu=e,nu=n}function rg(e,n,a){Rn[Cn++]=Ci,Rn[Cn++]=Di,Rn[Cn++]=ha,ha=e;var l=Ci;e=Di;var h=32-$e(l)-1;l&=~(1<<h),a+=1;var d=32-$e(n)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Ci=1<<32-$e(n)+h|a<<h|l,Di=d+e}else Ci=1<<d|a<<h|l,Di=e}function dh(e){e.return!==null&&(fa(e,1),rg(e,1,0))}function mh(e){for(;e===eu;)eu=ls[--os],ls[os]=null,nu=ls[--os],ls[os]=null;for(;e===ha;)ha=Rn[--Cn],Rn[Cn]=null,Di=Rn[--Cn],Rn[Cn]=null,Ci=Rn[--Cn],Rn[Cn]=null}var We=null,Le=null,jt=!1,jn=null,ei=!1,gh=Error(s(519));function da(e){var n=Error(s(418,""));throw yl(wn(n,e)),gh}function ag(e){var n=e.stateNode,a=e.type,l=e.memoizedProps;switch(n[De]=e,n[_e]=l,a){case"dialog":Vt("cancel",n),Vt("close",n);break;case"iframe":case"object":case"embed":Vt("load",n);break;case"video":case"audio":for(a=0;a<Bl.length;a++)Vt(Bl[a],n);break;case"source":Vt("error",n);break;case"img":case"image":case"link":Vt("error",n),Vt("load",n);break;case"details":Vt("toggle",n);break;case"input":Vt("invalid",n),ta(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Jr(n);break;case"select":Vt("invalid",n);break;case"textarea":Vt("invalid",n),ur(n,l.value,l.defaultValue,l.children),Jr(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||my(n.textContent,a)?(l.popover!=null&&(Vt("beforetoggle",n),Vt("toggle",n)),l.onScroll!=null&&Vt("scroll",n),l.onScrollEnd!=null&&Vt("scrollend",n),l.onClick!=null&&(n.onclick=Mu),n=!0):n=!1,n||da(e)}function sg(e){for(We=e.return;We;)switch(We.tag){case 3:case 27:ei=!0;return;case 5:case 13:ei=!1;return;default:We=We.return}}function gl(e){if(e!==We)return!1;if(!jt)return sg(e),jt=!0,!1;var n=!1,a;if((a=e.tag!==3&&e.tag!==27)&&((a=e.tag===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Lf(e.type,e.memoizedProps)),a=!a),a&&(n=!0),n&&Le&&da(e),sg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(n===0){Le=qn(e.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;e=e.nextSibling}Le=null}}else Le=We?qn(e.stateNode.nextSibling):null;return!0}function pl(){Le=We=null,jt=!1}function yl(e){jn===null?jn=[e]:jn.push(e)}var vl=Error(s(460)),lg=Error(s(474)),ph={then:function(){}};function og(e){return e=e.status,e==="fulfilled"||e==="rejected"}function iu(){}function ug(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(iu,iu),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,e===vl?Error(s(483)):e;default:if(typeof n.status=="string")n.then(iu,iu);else{if(e=$t,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,e===vl?Error(s(483)):e}throw _l=n,vl}}var _l=null;function cg(){if(_l===null)throw Error(s(459));var e=_l;return _l=null,e}var us=null,El=0;function ru(e){var n=El;return El+=1,us===null&&(us=[]),ug(us,e,n)}function Tl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function au(e,n){throw n.$$typeof===c?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function hg(e){var n=e._init;return n(e._payload)}function fg(e){function n(k,M){if(e){var B=k.deletions;B===null?(k.deletions=[M],k.flags|=16):B.push(M)}}function a(k,M){if(!e)return null;for(;M!==null;)n(k,M),M=M.sibling;return null}function l(k){for(var M=new Map;k!==null;)k.key!==null?M.set(k.key,k):M.set(k.index,k),k=k.sibling;return M}function h(k,M){return k=Ar(k,M),k.index=0,k.sibling=null,k}function d(k,M,B){return k.index=B,e?(B=k.alternate,B!==null?(B=B.index,B<M?(k.flags|=33554434,M):B):(k.flags|=33554434,M)):(k.flags|=1048576,M)}function _(k){return e&&k.alternate===null&&(k.flags|=33554434),k}function T(k,M,B,Z){return M===null||M.tag!==6?(M=hf(B,k.mode,Z),M.return=k,M):(M=h(M,B),M.return=k,M)}function C(k,M,B,Z){var ct=B.type;return ct===p?$(k,M,B.props.children,Z,B.key):M!==null&&(M.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===J&&hg(ct)===M.type)?(M=h(M,B.props),Tl(M,B),M.return=k,M):(M=Au(B.type,B.key,B.props,null,k.mode,Z),Tl(M,B),M.return=k,M)}function L(k,M,B,Z){return M===null||M.tag!==4||M.stateNode.containerInfo!==B.containerInfo||M.stateNode.implementation!==B.implementation?(M=ff(B,k.mode,Z),M.return=k,M):(M=h(M,B.children||[]),M.return=k,M)}function $(k,M,B,Z,ct){return M===null||M.tag!==7?(M=Aa(B,k.mode,Z,ct),M.return=k,M):(M=h(M,B),M.return=k,M)}function tt(k,M,B){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=hf(""+M,k.mode,B),M.return=k,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case f:return B=Au(M.type,M.key,M.props,null,k.mode,B),Tl(B,M),B.return=k,B;case m:return M=ff(M,k.mode,B),M.return=k,M;case J:var Z=M._init;return M=Z(M._payload),tt(k,M,B)}if(lt(M)||vt(M))return M=Aa(M,k.mode,B,null),M.return=k,M;if(typeof M.then=="function")return tt(k,ru(M),B);if(M.$$typeof===I)return tt(k,Eu(k,M),B);au(k,M)}return null}function H(k,M,B,Z){var ct=M!==null?M.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return ct!==null?null:T(k,M,""+B,Z);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case f:return B.key===ct?C(k,M,B,Z):null;case m:return B.key===ct?L(k,M,B,Z):null;case J:return ct=B._init,B=ct(B._payload),H(k,M,B,Z)}if(lt(B)||vt(B))return ct!==null?null:$(k,M,B,Z,null);if(typeof B.then=="function")return H(k,M,ru(B),Z);if(B.$$typeof===I)return H(k,M,Eu(k,B),Z);au(k,B)}return null}function Y(k,M,B,Z,ct){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return k=k.get(B)||null,T(M,k,""+Z,ct);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case f:return k=k.get(Z.key===null?B:Z.key)||null,C(M,k,Z,ct);case m:return k=k.get(Z.key===null?B:Z.key)||null,L(M,k,Z,ct);case J:var Dt=Z._init;return Z=Dt(Z._payload),Y(k,M,B,Z,ct)}if(lt(Z)||vt(Z))return k=k.get(B)||null,$(M,k,Z,ct,null);if(typeof Z.then=="function")return Y(k,M,B,ru(Z),ct);if(Z.$$typeof===I)return Y(k,M,B,Eu(M,Z),ct);au(M,Z)}return null}function ht(k,M,B,Z){for(var ct=null,Dt=null,dt=M,yt=M=0,Oe=null;dt!==null&&yt<B.length;yt++){dt.index>yt?(Oe=dt,dt=null):Oe=dt.sibling;var Bt=H(k,dt,B[yt],Z);if(Bt===null){dt===null&&(dt=Oe);break}e&&dt&&Bt.alternate===null&&n(k,dt),M=d(Bt,M,yt),Dt===null?ct=Bt:Dt.sibling=Bt,Dt=Bt,dt=Oe}if(yt===B.length)return a(k,dt),jt&&fa(k,yt),ct;if(dt===null){for(;yt<B.length;yt++)dt=tt(k,B[yt],Z),dt!==null&&(M=d(dt,M,yt),Dt===null?ct=dt:Dt.sibling=dt,Dt=dt);return jt&&fa(k,yt),ct}for(dt=l(dt);yt<B.length;yt++)Oe=Y(dt,k,yt,B[yt],Z),Oe!==null&&(e&&Oe.alternate!==null&&dt.delete(Oe.key===null?yt:Oe.key),M=d(Oe,M,yt),Dt===null?ct=Oe:Dt.sibling=Oe,Dt=Oe);return e&&dt.forEach(function(Ir){return n(k,Ir)}),jt&&fa(k,yt),ct}function bt(k,M,B,Z){if(B==null)throw Error(s(151));for(var ct=null,Dt=null,dt=M,yt=M=0,Oe=null,Bt=B.next();dt!==null&&!Bt.done;yt++,Bt=B.next()){dt.index>yt?(Oe=dt,dt=null):Oe=dt.sibling;var Ir=H(k,dt,Bt.value,Z);if(Ir===null){dt===null&&(dt=Oe);break}e&&dt&&Ir.alternate===null&&n(k,dt),M=d(Ir,M,yt),Dt===null?ct=Ir:Dt.sibling=Ir,Dt=Ir,dt=Oe}if(Bt.done)return a(k,dt),jt&&fa(k,yt),ct;if(dt===null){for(;!Bt.done;yt++,Bt=B.next())Bt=tt(k,Bt.value,Z),Bt!==null&&(M=d(Bt,M,yt),Dt===null?ct=Bt:Dt.sibling=Bt,Dt=Bt);return jt&&fa(k,yt),ct}for(dt=l(dt);!Bt.done;yt++,Bt=B.next())Bt=Y(dt,k,yt,Bt.value,Z),Bt!==null&&(e&&Bt.alternate!==null&&dt.delete(Bt.key===null?yt:Bt.key),M=d(Bt,M,yt),Dt===null?ct=Bt:Dt.sibling=Bt,Dt=Bt);return e&&dt.forEach(function(mb){return n(k,mb)}),jt&&fa(k,yt),ct}function le(k,M,B,Z){if(typeof B=="object"&&B!==null&&B.type===p&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case f:t:{for(var ct=B.key;M!==null;){if(M.key===ct){if(ct=B.type,ct===p){if(M.tag===7){a(k,M.sibling),Z=h(M,B.props.children),Z.return=k,k=Z;break t}}else if(M.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===J&&hg(ct)===M.type){a(k,M.sibling),Z=h(M,B.props),Tl(Z,B),Z.return=k,k=Z;break t}a(k,M);break}else n(k,M);M=M.sibling}B.type===p?(Z=Aa(B.props.children,k.mode,Z,B.key),Z.return=k,k=Z):(Z=Au(B.type,B.key,B.props,null,k.mode,Z),Tl(Z,B),Z.return=k,k=Z)}return _(k);case m:t:{for(ct=B.key;M!==null;){if(M.key===ct)if(M.tag===4&&M.stateNode.containerInfo===B.containerInfo&&M.stateNode.implementation===B.implementation){a(k,M.sibling),Z=h(M,B.children||[]),Z.return=k,k=Z;break t}else{a(k,M);break}else n(k,M);M=M.sibling}Z=ff(B,k.mode,Z),Z.return=k,k=Z}return _(k);case J:return ct=B._init,B=ct(B._payload),le(k,M,B,Z)}if(lt(B))return ht(k,M,B,Z);if(vt(B)){if(ct=vt(B),typeof ct!="function")throw Error(s(150));return B=ct.call(B),bt(k,M,B,Z)}if(typeof B.then=="function")return le(k,M,ru(B),Z);if(B.$$typeof===I)return le(k,M,Eu(k,B),Z);au(k,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,M!==null&&M.tag===6?(a(k,M.sibling),Z=h(M,B),Z.return=k,k=Z):(a(k,M),Z=hf(B,k.mode,Z),Z.return=k,k=Z),_(k)):a(k,M)}return function(k,M,B,Z){try{El=0;var ct=le(k,M,B,Z);return us=null,ct}catch(dt){if(dt===vl)throw dt;var Dt=Nn(29,dt,null,k.mode);return Dt.lanes=Z,Dt.return=k,Dt}finally{}}}var ma=fg(!0),dg=fg(!1),cs=kt(null),su=kt(0);function mg(e,n){e=zi,Gt(su,e),Gt(cs,n),zi=e|n.baseLanes}function yh(){Gt(su,zi),Gt(cs,cs.current)}function vh(){zi=su.current,ie(cs),ie(su)}var Dn=kt(null),ni=null;function fr(e){var n=e.alternate;Gt(be,be.current&1),Gt(Dn,e),ni===null&&(n===null||cs.current!==null||n.memoizedState!==null)&&(ni=e)}function gg(e){if(e.tag===22){if(Gt(be,be.current),Gt(Dn,e),ni===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(ni=e)}}else dr()}function dr(){Gt(be,be.current),Gt(Dn,Dn.current)}function xi(e){ie(Dn),ni===e&&(ni=null),ie(be)}var be=kt(0);function lu(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var eT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},nT=r.unstable_scheduleCallback,iT=r.unstable_NormalPriority,Ae={$$typeof:I,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _h(){return{controller:new eT,data:new Map,refCount:0}}function bl(e){e.refCount--,e.refCount===0&&nT(iT,function(){e.controller.abort()})}var Al=null,Eh=0,hs=0,fs=null;function rT(e,n){if(Al===null){var a=Al=[];Eh=0,hs=Cf(),fs={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Eh++,n.then(pg,pg),n}function pg(){if(--Eh===0&&Al!==null){fs!==null&&(fs.status="fulfilled");var e=Al;Al=null,hs=0,fs=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function aT(e,n){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var yg=A.S;A.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&rT(e,n),yg!==null&&yg(e,n)};var ga=kt(null);function Th(){var e=ga.current;return e!==null?e:$t.pooledCache}function ou(e,n){n===null?Gt(ga,ga.current):Gt(ga,n.pool)}function vg(){var e=Th();return e===null?null:{parent:Ae._currentValue,pool:e}}var mr=0,Ct=null,Qt=null,de=null,uu=!1,ds=!1,pa=!1,cu=0,Sl=0,ms=null,sT=0;function ue(){throw Error(s(321))}function bh(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!hn(e[a],n[a]))return!1;return!0}function Ah(e,n,a,l,h,d){return mr=d,Ct=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,A.H=e===null||e.memoizedState===null?ya:gr,pa=!1,d=a(l,h),pa=!1,ds&&(d=Eg(n,a,l,h)),_g(e),d}function _g(e){A.H=ii;var n=Qt!==null&&Qt.next!==null;if(mr=0,de=Qt=Ct=null,uu=!1,Sl=0,ms=null,n)throw Error(s(300));e===null||Ne||(e=e.dependencies,e!==null&&_u(e)&&(Ne=!0))}function Eg(e,n,a,l){Ct=e;var h=0;do{if(ds&&(ms=null),Sl=0,ds=!1,25<=h)throw Error(s(301));if(h+=1,de=Qt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}A.H=va,d=n(a,l)}while(ds);return d}function lT(){var e=A.H,n=e.useState()[0];return n=typeof n.then=="function"?wl(n):n,e=e.useState()[0],(Qt!==null?Qt.memoizedState:null)!==e&&(Ct.flags|=1024),n}function Sh(){var e=cu!==0;return cu=0,e}function wh(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function Rh(e){if(uu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}uu=!1}mr=0,de=Qt=Ct=null,ds=!1,Sl=cu=0,ms=null}function an(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return de===null?Ct.memoizedState=de=e:de=de.next=e,de}function me(){if(Qt===null){var e=Ct.alternate;e=e!==null?e.memoizedState:null}else e=Qt.next;var n=de===null?Ct.memoizedState:de.next;if(n!==null)de=n,Qt=e;else{if(e===null)throw Ct.alternate===null?Error(s(467)):Error(s(310));Qt=e,e={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},de===null?Ct.memoizedState=de=e:de=de.next=e}return de}var hu;hu=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function wl(e){var n=Sl;return Sl+=1,ms===null&&(ms=[]),e=ug(ms,e,n),n=Ct,(de===null?n.memoizedState:de.next)===null&&(n=n.alternate,A.H=n===null||n.memoizedState===null?ya:gr),e}function fu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return wl(e);if(e.$$typeof===I)return He(e)}throw Error(s(438,String(e)))}function Ch(e){var n=null,a=Ct.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Ct.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=hu(),Ct.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),l=0;l<e;l++)a[l]=rt;return n.index++,a}function Ii(e,n){return typeof n=="function"?n(e):n}function du(e){var n=me();return Dh(n,Qt,e)}function Dh(e,n,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}n.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{n=h.next;var T=_=null,C=null,L=n,$=!1;do{var tt=L.lane&-536870913;if(tt!==L.lane?(Ut&tt)===tt:(mr&tt)===tt){var H=L.revertLane;if(H===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),tt===hs&&($=!0);else if((mr&H)===H){L=L.next,H===hs&&($=!0);continue}else tt={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},C===null?(T=C=tt,_=d):C=C.next=tt,Ct.lanes|=H,Sr|=H;tt=L.action,pa&&a(d,tt),d=L.hasEagerState?L.eagerState:a(d,tt)}else H={lane:tt,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},C===null?(T=C=H,_=d):C=C.next=H,Ct.lanes|=tt,Sr|=tt;L=L.next}while(L!==null&&L!==n);if(C===null?_=d:C.next=T,!hn(d,e.memoizedState)&&(Ne=!0,$&&(a=fs,a!==null)))throw a;e.memoizedState=d,e.baseState=_,e.baseQueue=C,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function xh(e){var n=me(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=n.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=e(d,_.action),_=_.next;while(_!==h);hn(d,n.memoizedState)||(Ne=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),a.lastRenderedState=d}return[d,l]}function Tg(e,n,a){var l=Ct,h=me(),d=jt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=n();var _=!hn((Qt||h).memoizedState,a);if(_&&(h.memoizedState=a,Ne=!0),h=h.queue,Vh(Sg.bind(null,l,h,e),[e]),h.getSnapshot!==n||_||de!==null&&de.memoizedState.tag&1){if(l.flags|=2048,gs(9,Ag.bind(null,l,h,a,n),{destroy:void 0},null),$t===null)throw Error(s(349));d||mr&60||bg(l,n,a)}return a}function bg(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=Ct.updateQueue,n===null?(n=hu(),Ct.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function Ag(e,n,a,l){n.value=a,n.getSnapshot=l,wg(n)&&Rg(e)}function Sg(e,n,a){return a(function(){wg(n)&&Rg(e)})}function wg(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!hn(e,a)}catch{return!0}}function Rg(e){var n=hr(e,2);n!==null&&Je(n,e,2)}function Ih(e){var n=an();if(typeof e=="function"){var a=e;if(e=a(),pa){Fn(!0);try{a()}finally{Fn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:e},n}function Cg(e,n,a,l){return e.baseState=a,Dh(e,Qt,typeof l=="function"?l:Ii)}function oT(e,n,a,l,h){if(pu(e))throw Error(s(485));if(e=n.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};A.T!==null?a(!0):d.isTransition=!1,l(d),a=n.pending,a===null?(d.next=n.pending=d,Dg(n,d)):(d.next=a.next,n.pending=a.next=d)}}function Dg(e,n){var a=n.action,l=n.payload,h=e.state;if(n.isTransition){var d=A.T,_={};A.T=_;try{var T=a(h,l),C=A.S;C!==null&&C(_,T),xg(e,n,T)}catch(L){Nh(e,n,L)}finally{A.T=d}}else try{d=a(h,l),xg(e,n,d)}catch(L){Nh(e,n,L)}}function xg(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Ig(e,n,l)},function(l){return Nh(e,n,l)}):Ig(e,n,a)}function Ig(e,n,a){n.status="fulfilled",n.value=a,Ng(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,Dg(e,a)))}function Nh(e,n,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Ng(n),n=n.next;while(n!==l)}e.action=null}function Ng(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Vg(e,n){return n}function Og(e,n){if(jt){var a=$t.formState;if(a!==null){t:{var l=Ct;if(jt){if(Le){e:{for(var h=Le,d=ei;h.nodeType!==8;){if(!d){h=null;break e}if(h=qn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){Le=qn(h.nextSibling),l=h.data==="F!";break t}}da(l)}l=!1}l&&(n=a[0])}}return a=an(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vg,lastRenderedState:n},a.queue=l,a=Zg.bind(null,Ct,l),l.dispatch=a,l=Ih(!1),d=Ph.bind(null,Ct,!1,l.queue),l=an(),h={state:n,dispatch:null,action:e,pending:null},l.queue=h,a=oT.bind(null,Ct,h,d,a),h.dispatch=a,l.memoizedState=e,[n,a,!1]}function Mg(e){var n=me();return Ug(n,Qt,e)}function Ug(e,n,a){n=Dh(e,n,Vg)[0],e=du(Ii)[0],n=typeof n=="object"&&n!==null&&typeof n.then=="function"?wl(n):n;var l=me(),h=l.queue,d=h.dispatch;return a!==l.memoizedState&&(Ct.flags|=2048,gs(9,uT.bind(null,h,a),{destroy:void 0},null)),[n,d,e]}function uT(e,n){e.action=n}function Lg(e){var n=me(),a=Qt;if(a!==null)return Ug(n,a,e);me(),n=n.memoizedState,a=me();var l=a.queue.dispatch;return a.memoizedState=e,[n,l,!1]}function gs(e,n,a,l){return e={tag:e,create:n,inst:a,deps:l,next:null},n=Ct.updateQueue,n===null&&(n=hu(),Ct.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,n.lastEffect=e),e}function Pg(){return me().memoizedState}function mu(e,n,a,l){var h=an();Ct.flags|=e,h.memoizedState=gs(1|n,a,{destroy:void 0},l===void 0?null:l)}function gu(e,n,a,l){var h=me();l=l===void 0?null:l;var d=h.memoizedState.inst;Qt!==null&&l!==null&&bh(l,Qt.memoizedState.deps)?h.memoizedState=gs(n,a,d,l):(Ct.flags|=e,h.memoizedState=gs(1|n,a,d,l))}function kg(e,n){mu(8390656,8,e,n)}function Vh(e,n){gu(2048,8,e,n)}function zg(e,n){return gu(4,2,e,n)}function jg(e,n){return gu(4,4,e,n)}function Bg(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function qg(e,n,a){a=a!=null?a.concat([e]):null,gu(4,4,Bg.bind(null,n,e),a)}function Oh(){}function Hg(e,n){var a=me();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&bh(n,l[1])?l[0]:(a.memoizedState=[e,n],e)}function Fg(e,n){var a=me();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&bh(n,l[1]))return l[0];if(l=e(),pa){Fn(!0);try{e()}finally{Fn(!1)}}return a.memoizedState=[l,n],l}function Mh(e,n,a){return a===void 0||mr&1073741824?e.memoizedState=n:(e.memoizedState=a,e=Qp(),Ct.lanes|=e,Sr|=e,a)}function Gg(e,n,a,l){return hn(a,n)?a:cs.current!==null?(e=Mh(e,a,l),hn(e,n)||(Ne=!0),e):mr&42?(e=Qp(),Ct.lanes|=e,Sr|=e,n):(Ne=!0,e.memoizedState=a)}function Qg(e,n,a,l,h){var d=ot.p;ot.p=d!==0&&8>d?d:8;var _=A.T,T={};A.T=T,Ph(e,!1,n,a);try{var C=h(),L=A.S;if(L!==null&&L(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var $=aT(C,l);Rl(e,n,$,gn(e))}else Rl(e,n,l,gn(e))}catch(tt){Rl(e,n,{then:function(){},status:"rejected",reason:tt},gn())}finally{ot.p=d,A.T=_}}function cT(){}function Uh(e,n,a,l){if(e.tag!==5)throw Error(s(476));var h=Kg(e).queue;Qg(e,h,n,Rt,a===null?cT:function(){return Yg(e),a(l)})}function Kg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:Rt,baseState:Rt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:Rt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Yg(e){var n=Kg(e).next.queue;Rl(e,n,{},gn())}function Lh(){return He(Ql)}function $g(){return me().memoizedState}function Xg(){return me().memoizedState}function hT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=gn();e=vr(a);var l=_r(n,e,a);l!==null&&(Je(l,n,a),xl(l,n,a)),n={cache:_h()},e.payload=n;return}n=n.return}}function fT(e,n,a){var l=gn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},pu(e)?Wg(n,a):(a=fh(e,n,a,l),a!==null&&(Je(a,e,l),Jg(a,n,l)))}function Zg(e,n,a){var l=gn();Rl(e,n,a,l)}function Rl(e,n,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(pu(e))Wg(n,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var _=n.lastRenderedState,T=d(_,a);if(h.hasEagerState=!0,h.eagerState=T,hn(T,_))return Jo(e,n,h,0),$t===null&&Wo(),!1}catch{}finally{}if(a=fh(e,n,h,l),a!==null)return Je(a,e,l),Jg(a,n,l),!0}return!1}function Ph(e,n,a,l){if(l={lane:2,revertLane:Cf(),action:l,hasEagerState:!1,eagerState:null,next:null},pu(e)){if(n)throw Error(s(479))}else n=fh(e,a,l,2),n!==null&&Je(n,e,2)}function pu(e){var n=e.alternate;return e===Ct||n!==null&&n===Ct}function Wg(e,n){ds=uu=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function Jg(e,n,a){if(a&4194176){var l=n.lanes;l&=e.pendingLanes,a|=l,n.lanes=a,er(e,a)}}var ii={readContext:He,use:fu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue};ii.useCacheRefresh=ue,ii.useMemoCache=ue,ii.useHostTransitionStatus=ue,ii.useFormState=ue,ii.useActionState=ue,ii.useOptimistic=ue;var ya={readContext:He,use:fu,useCallback:function(e,n){return an().memoizedState=[e,n===void 0?null:n],e},useContext:He,useEffect:kg,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,mu(4194308,4,Bg.bind(null,n,e),a)},useLayoutEffect:function(e,n){return mu(4194308,4,e,n)},useInsertionEffect:function(e,n){mu(4,2,e,n)},useMemo:function(e,n){var a=an();n=n===void 0?null:n;var l=e();if(pa){Fn(!0);try{e()}finally{Fn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(e,n,a){var l=an();if(a!==void 0){var h=a(n);if(pa){Fn(!0);try{a(n)}finally{Fn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=fT.bind(null,Ct,e),[l.memoizedState,e]},useRef:function(e){var n=an();return e={current:e},n.memoizedState=e},useState:function(e){e=Ih(e);var n=e.queue,a=Zg.bind(null,Ct,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:Oh,useDeferredValue:function(e,n){var a=an();return Mh(a,e,n)},useTransition:function(){var e=Ih(!1);return e=Qg.bind(null,Ct,e.queue,!0,!1),an().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var l=Ct,h=an();if(jt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),$t===null)throw Error(s(349));Ut&60||bg(l,n,a)}h.memoizedState=a;var d={value:a,getSnapshot:n};return h.queue=d,kg(Sg.bind(null,l,d,e),[e]),l.flags|=2048,gs(9,Ag.bind(null,l,d,a,n),{destroy:void 0},null),a},useId:function(){var e=an(),n=$t.identifierPrefix;if(jt){var a=Di,l=Ci;a=(l&~(1<<32-$e(l)-1)).toString(32)+a,n=":"+n+"R"+a,a=cu++,0<a&&(n+="H"+a.toString(32)),n+=":"}else a=sT++,n=":"+n+"r"+a.toString(32)+":";return e.memoizedState=n},useCacheRefresh:function(){return an().memoizedState=hT.bind(null,Ct)}};ya.useMemoCache=Ch,ya.useHostTransitionStatus=Lh,ya.useFormState=Og,ya.useActionState=Og,ya.useOptimistic=function(e){var n=an();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Ph.bind(null,Ct,!0,a),a.dispatch=n,[e,n]};var gr={readContext:He,use:fu,useCallback:Hg,useContext:He,useEffect:Vh,useImperativeHandle:qg,useInsertionEffect:zg,useLayoutEffect:jg,useMemo:Fg,useReducer:du,useRef:Pg,useState:function(){return du(Ii)},useDebugValue:Oh,useDeferredValue:function(e,n){var a=me();return Gg(a,Qt.memoizedState,e,n)},useTransition:function(){var e=du(Ii)[0],n=me().memoizedState;return[typeof e=="boolean"?e:wl(e),n]},useSyncExternalStore:Tg,useId:$g};gr.useCacheRefresh=Xg,gr.useMemoCache=Ch,gr.useHostTransitionStatus=Lh,gr.useFormState=Mg,gr.useActionState=Mg,gr.useOptimistic=function(e,n){var a=me();return Cg(a,Qt,e,n)};var va={readContext:He,use:fu,useCallback:Hg,useContext:He,useEffect:Vh,useImperativeHandle:qg,useInsertionEffect:zg,useLayoutEffect:jg,useMemo:Fg,useReducer:xh,useRef:Pg,useState:function(){return xh(Ii)},useDebugValue:Oh,useDeferredValue:function(e,n){var a=me();return Qt===null?Mh(a,e,n):Gg(a,Qt.memoizedState,e,n)},useTransition:function(){var e=xh(Ii)[0],n=me().memoizedState;return[typeof e=="boolean"?e:wl(e),n]},useSyncExternalStore:Tg,useId:$g};va.useCacheRefresh=Xg,va.useMemoCache=Ch,va.useHostTransitionStatus=Lh,va.useFormState=Lg,va.useActionState=Lg,va.useOptimistic=function(e,n){var a=me();return Qt!==null?Cg(a,Qt,e,n):(a.baseState=e,[e,a.queue.dispatch])};function kh(e,n,a,l){n=e.memoizedState,a=a(l,n),a=a==null?n:D({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var zh={isMounted:function(e){return(e=e._reactInternals)?gt(e)===e:!1},enqueueSetState:function(e,n,a){e=e._reactInternals;var l=gn(),h=vr(l);h.payload=n,a!=null&&(h.callback=a),n=_r(e,h,l),n!==null&&(Je(n,e,l),xl(n,e,l))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var l=gn(),h=vr(l);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=_r(e,h,l),n!==null&&(Je(n,e,l),xl(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=gn(),l=vr(a);l.tag=2,n!=null&&(l.callback=n),n=_r(e,l,a),n!==null&&(Je(n,e,a),xl(n,e,a))}};function tp(e,n,a,l,h,d,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,_):n.prototype&&n.prototype.isPureReactComponent?!dl(a,l)||!dl(h,d):!0}function ep(e,n,a,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==e&&zh.enqueueReplaceState(n,n.state,null)}function _a(e,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(e=e.defaultProps){a===n&&(a=D({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var yu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function np(e){yu(e)}function ip(e){console.error(e)}function rp(e){yu(e)}function vu(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function ap(e,n,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function jh(e,n,a){return a=vr(a),a.tag=3,a.payload={element:null},a.callback=function(){vu(e,n)},a}function sp(e){return e=vr(e),e.tag=3,e}function lp(e,n,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){ap(n,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){ap(n,a,l),typeof h!="function"&&(wr===null?wr=new Set([this]):wr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function dT(e,n,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Dl(n,a,h,!0),a=Dn.current,a!==null){switch(a.tag){case 13:return ni===null?bf():a.alternate===null&&se===0&&(se=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===ph?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),Sf(e,l,h)),!1;case 22:return a.flags|=65536,l===ph?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),Sf(e,l,h)),!1}throw Error(s(435,a.tag))}return Sf(e,l,h),bf(),!1}if(jt)return n=Dn.current,n!==null?(!(n.flags&65536)&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==gh&&(e=Error(s(422),{cause:l}),yl(wn(e,a)))):(l!==gh&&(n=Error(s(423),{cause:l}),yl(wn(n,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=wn(l,a),h=jh(e.stateNode,l,h),ef(e,h),se!==4&&(se=2)),!1;var d=Error(s(520),{cause:l});if(d=wn(d,a),Pl===null?Pl=[d]:Pl.push(d),se!==4&&(se=2),n===null)return!0;l=wn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=jh(a.stateNode,l,e),ef(a,e),!1;case 1:if(n=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(wr===null||!wr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=sp(h),lp(h,e,a,l),ef(a,h),!1}a=a.return}while(a!==null);return!1}var op=Error(s(461)),Ne=!1;function Pe(e,n,a,l){n.child=e===null?dg(n,null,a,l):ma(n,e.child,a,l)}function up(e,n,a,l,h){a=a.render;var d=n.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return Ta(n),l=Ah(e,n,a,_,d,h),T=Sh(),e!==null&&!Ne?(wh(e,n,h),Ni(e,n,h)):(jt&&T&&dh(n),n.flags|=1,Pe(e,n,l,h),n.child)}function cp(e,n,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!cf(d)&&d.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=d,hp(e,n,d,l,h)):(e=Au(a.type,null,l,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,!$h(e,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:dl,a(_,l)&&e.ref===n.ref)return Ni(e,n,h)}return n.flags|=1,e=Ar(d,l),e.ref=n.ref,e.return=n,n.child=e}function hp(e,n,a,l,h){if(e!==null){var d=e.memoizedProps;if(dl(d,l)&&e.ref===n.ref)if(Ne=!1,n.pendingProps=l=d,$h(e,h))e.flags&131072&&(Ne=!0);else return n.lanes=e.lanes,Ni(e,n,h)}return Bh(e,n,a,l,h)}function fp(e,n,a){var l=n.pendingProps,h=l.children,d=(n.stateNode._pendingVisibility&2)!==0,_=e!==null?e.memoizedState:null;if(Cl(e,n),l.mode==="hidden"||d){if(n.flags&128){if(l=_!==null?_.baseLanes|a:a,e!==null){for(h=n.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;n.childLanes=d&~l}else n.childLanes=0,n.child=null;return dp(e,n,l,a)}if(a&536870912)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&ou(n,_!==null?_.cachePool:null),_!==null?mg(n,_):yh(),gg(n);else return n.lanes=n.childLanes=536870912,dp(e,n,_!==null?_.baseLanes|a:a,a)}else _!==null?(ou(n,_.cachePool),mg(n,_),dr(),n.memoizedState=null):(e!==null&&ou(n,null),yh(),dr());return Pe(e,n,h,a),n.child}function dp(e,n,a,l){var h=Th();return h=h===null?null:{parent:Ae._currentValue,pool:h},n.memoizedState={baseLanes:a,cachePool:h},e!==null&&ou(n,null),yh(),gg(n),e!==null&&Dl(e,n,l,!0),null}function Cl(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(n.flags|=2097664)}}function Bh(e,n,a,l,h){return Ta(n),a=Ah(e,n,a,l,void 0,h),l=Sh(),e!==null&&!Ne?(wh(e,n,h),Ni(e,n,h)):(jt&&l&&dh(n),n.flags|=1,Pe(e,n,a,h),n.child)}function mp(e,n,a,l,h,d){return Ta(n),n.updateQueue=null,a=Eg(n,l,a,h),_g(e),l=Sh(),e!==null&&!Ne?(wh(e,n,d),Ni(e,n,d)):(jt&&l&&dh(n),n.flags|=1,Pe(e,n,a,d),n.child)}function gp(e,n,a,l,h){if(Ta(n),n.stateNode===null){var d=ss,_=a.contextType;typeof _=="object"&&_!==null&&(d=He(_)),d=new a(l,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=zh,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=l,d.state=n.memoizedState,d.refs={},Jh(n),_=a.contextType,d.context=typeof _=="object"&&_!==null?He(_):ss,d.state=n.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(kh(n,a,_,l),d.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&zh.enqueueReplaceState(d,d.state,null),Nl(n,l,d,h),Il(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){d=n.stateNode;var T=n.memoizedProps,C=_a(a,T);d.props=C;var L=d.context,$=a.contextType;_=ss,typeof $=="object"&&$!==null&&(_=He($));var tt=a.getDerivedStateFromProps;$=typeof tt=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||L!==_)&&ep(n,d,l,_),yr=!1;var H=n.memoizedState;d.state=H,Nl(n,l,d,h),Il(),L=n.memoizedState,T||H!==L||yr?(typeof tt=="function"&&(kh(n,a,tt,l),L=n.memoizedState),(C=yr||tp(n,a,C,l,H,L,_))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=L),d.props=l,d.state=L,d.context=_,l=C):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{d=n.stateNode,tf(e,n),_=n.memoizedProps,$=_a(a,_),d.props=$,tt=n.pendingProps,H=d.context,L=a.contextType,C=ss,typeof L=="object"&&L!==null&&(C=He(L)),T=a.getDerivedStateFromProps,(L=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==tt||H!==C)&&ep(n,d,l,C),yr=!1,H=n.memoizedState,d.state=H,Nl(n,l,d,h),Il();var Y=n.memoizedState;_!==tt||H!==Y||yr||e!==null&&e.dependencies!==null&&_u(e.dependencies)?(typeof T=="function"&&(kh(n,a,T,l),Y=n.memoizedState),($=yr||tp(n,a,$,l,H,Y,C)||e!==null&&e.dependencies!==null&&_u(e.dependencies))?(L||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Y,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Y,C)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&H===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&H===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=Y),d.props=l,d.state=Y,d.context=C,l=$):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&H===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&H===e.memoizedState||(n.flags|=1024),l=!1)}return d=l,Cl(e,n),l=(n.flags&128)!==0,d||l?(d=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,e!==null&&l?(n.child=ma(n,e.child,null,h),n.child=ma(n,null,a,h)):Pe(e,n,a,h),n.memoizedState=d.state,e=n.child):e=Ni(e,n,h),e}function pp(e,n,a,l){return pl(),n.flags|=256,Pe(e,n,a,l),n.child}var qh={dehydrated:null,treeContext:null,retryLane:0};function Hh(e){return{baseLanes:e,cachePool:vg()}}function Fh(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=Vn),e}function yp(e,n,a){var l=n.pendingProps,h=!1,d=(n.flags&128)!==0,_;if((_=d)||(_=e!==null&&e.memoizedState===null?!1:(be.current&2)!==0),_&&(h=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,e===null){if(jt){if(h?fr(n):dr(),jt){var T=Le,C;if(C=T){t:{for(C=T,T=ei;C.nodeType!==8;){if(!T){T=null;break t}if(C=qn(C.nextSibling),C===null){T=null;break t}}T=C}T!==null?(n.memoizedState={dehydrated:T,treeContext:ha!==null?{id:Ci,overflow:Di}:null,retryLane:536870912},C=Nn(18,null,null,0),C.stateNode=T,C.return=n,n.child=C,We=n,Le=null,C=!0):C=!1}C||da(n)}if(T=n.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return T.data==="$!"?n.lanes=16:n.lanes=536870912,null;xi(n)}return T=l.children,l=l.fallback,h?(dr(),h=n.mode,T=Qh({mode:"hidden",children:T},h),l=Aa(l,h,a,null),T.return=n,l.return=n,T.sibling=l,n.child=T,h=n.child,h.memoizedState=Hh(a),h.childLanes=Fh(e,_,a),n.memoizedState=qh,l):(fr(n),Gh(n,T))}if(C=e.memoizedState,C!==null&&(T=C.dehydrated,T!==null)){if(d)n.flags&256?(fr(n),n.flags&=-257,n=Kh(e,n,a)):n.memoizedState!==null?(dr(),n.child=e.child,n.flags|=128,n=null):(dr(),h=l.fallback,T=n.mode,l=Qh({mode:"visible",children:l.children},T),h=Aa(h,T,a,null),h.flags|=2,l.return=n,h.return=n,l.sibling=h,n.child=l,ma(n,e.child,null,a),l=n.child,l.memoizedState=Hh(a),l.childLanes=Fh(e,_,a),n.memoizedState=qh,n=h);else if(fr(n),T.data==="$!"){if(_=T.nextSibling&&T.nextSibling.dataset,_)var L=_.dgst;_=L,l=Error(s(419)),l.stack="",l.digest=_,yl({value:l,source:null,stack:null}),n=Kh(e,n,a)}else if(Ne||Dl(e,n,a,!1),_=(a&e.childLanes)!==0,Ne||_){if(_=$t,_!==null){if(l=a&-a,l&42)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=l&(_.suspendedLanes|a)?0:l,l!==0&&l!==C.retryLane)throw C.retryLane=l,hr(e,l),Je(_,e,l),op}T.data==="$?"||bf(),n=Kh(e,n,a)}else T.data==="$?"?(n.flags|=128,n.child=e.child,n=DT.bind(null,e),T._reactRetry=n,n=null):(e=C.treeContext,Le=qn(T.nextSibling),We=n,jt=!0,jn=null,ei=!1,e!==null&&(Rn[Cn++]=Ci,Rn[Cn++]=Di,Rn[Cn++]=ha,Ci=e.id,Di=e.overflow,ha=n),n=Gh(n,l.children),n.flags|=4096);return n}return h?(dr(),h=l.fallback,T=n.mode,C=e.child,L=C.sibling,l=Ar(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&31457280,L!==null?h=Ar(L,h):(h=Aa(h,T,a,null),h.flags|=2),h.return=n,l.return=n,l.sibling=h,n.child=l,l=h,h=n.child,T=e.child.memoizedState,T===null?T=Hh(a):(C=T.cachePool,C!==null?(L=Ae._currentValue,C=C.parent!==L?{parent:L,pool:L}:C):C=vg(),T={baseLanes:T.baseLanes|a,cachePool:C}),h.memoizedState=T,h.childLanes=Fh(e,_,a),n.memoizedState=qh,l):(fr(n),a=e.child,e=a.sibling,a=Ar(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,e!==null&&(_=n.deletions,_===null?(n.deletions=[e],n.flags|=16):_.push(e)),n.child=a,n.memoizedState=null,a)}function Gh(e,n){return n=Qh({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Qh(e,n){return Hp(e,n,0,null)}function Kh(e,n,a){return ma(n,e.child,null,a),e=Gh(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function vp(e,n,a){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Zh(e.return,n,a)}function Yh(e,n,a,l,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function _p(e,n,a){var l=n.pendingProps,h=l.revealOrder,d=l.tail;if(Pe(e,n,l.children,a),l=be.current,l&2)l=l&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vp(e,a,n);else if(e.tag===19)vp(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(Gt(be,l),h){case"forwards":for(a=n.child,h=null;a!==null;)e=a.alternate,e!==null&&lu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Yh(n,!1,h,a,d);break;case"backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&lu(e)===null){n.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Yh(n,!0,a,null,d);break;case"together":Yh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ni(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),Sr|=n.lanes,!(a&n.childLanes))if(e!==null){if(Dl(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,a=Ar(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=Ar(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function $h(e,n){return e.lanes&n?!0:(e=e.dependencies,!!(e!==null&&_u(e)))}function mT(e,n,a){switch(n.tag){case 3:$i(n,n.stateNode.containerInfo),pr(n,Ae,e.memoizedState.cache),pl();break;case 27:case 5:Qs(n);break;case 4:$i(n,n.stateNode.containerInfo);break;case 10:pr(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(fr(n),n.flags|=128,null):a&n.child.childLanes?yp(e,n,a):(fr(n),e=Ni(e,n,a),e!==null?e.sibling:null);fr(n);break;case 19:var h=(e.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Dl(e,n,a,!1),l=(a&n.childLanes)!==0),h){if(l)return _p(e,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Gt(be,be.current),l)break;return null;case 22:case 23:return n.lanes=0,fp(e,n,a);case 24:pr(n,Ae,e.memoizedState.cache)}return Ni(e,n,a)}function Ep(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ne=!0;else{if(!$h(e,a)&&!(n.flags&128))return Ne=!1,mT(e,n,a);Ne=!!(e.flags&131072)}else Ne=!1,jt&&n.flags&1048576&&rg(n,nu,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var l=n.elementType,h=l._init;if(l=h(l._payload),n.type=l,typeof l=="function")cf(l)?(e=_a(l,e),n.tag=1,n=gp(null,n,l,e,a)):(n.tag=0,n=Bh(null,n,l,e,a));else{if(l!=null){if(h=l.$$typeof,h===P){n.tag=11,n=up(null,n,l,e,a);break t}else if(h===K){n.tag=14,n=cp(null,n,l,e,a);break t}}throw n=w(l)||l,Error(s(306,n,""))}}return n;case 0:return Bh(e,n,n.type,n.pendingProps,a);case 1:return l=n.type,h=_a(l,n.pendingProps),gp(e,n,l,h,a);case 3:t:{if($i(n,n.stateNode.containerInfo),e===null)throw Error(s(387));var d=n.pendingProps;h=n.memoizedState,l=h.element,tf(e,n),Nl(n,d,null,a);var _=n.memoizedState;if(d=_.cache,pr(n,Ae,d),d!==h.cache&&Wh(n,[Ae],a,!0),Il(),d=_.element,h.isDehydrated)if(h={element:d,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=pp(e,n,d,a);break t}else if(d!==l){l=wn(Error(s(424)),n),yl(l),n=pp(e,n,d,a);break t}else for(Le=qn(n.stateNode.containerInfo.firstChild),We=n,jt=!0,jn=null,ei=!0,a=dg(n,null,d,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(pl(),d===l){n=Ni(e,n,a);break t}Pe(e,n,d,a)}n=n.child}return n;case 26:return Cl(e,n),e===null?(a=Ay(n.type,null,n.pendingProps,null))?n.memoizedState=a:jt||(a=n.type,e=n.pendingProps,l=Uu(yn.current).createElement(a),l[De]=n,l[_e]=e,ke(l,a,e),Wt(l),n.stateNode=l):n.memoizedState=Ay(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Qs(n),e===null&&jt&&(l=n.stateNode=Ey(n.type,n.pendingProps,yn.current),We=n,ei=!0,Le=qn(l.firstChild)),l=n.pendingProps.children,e!==null||jt?Pe(e,n,l,a):n.child=ma(n,null,l,a),Cl(e,n),n.child;case 5:return e===null&&jt&&((h=l=Le)&&(l=FT(l,n.type,n.pendingProps,ei),l!==null?(n.stateNode=l,We=n,Le=qn(l.firstChild),ei=!1,h=!0):h=!1),h||da(n)),Qs(n),h=n.type,d=n.pendingProps,_=e!==null?e.memoizedProps:null,l=d.children,Lf(h,d)?l=null:_!==null&&Lf(h,_)&&(n.flags|=32),n.memoizedState!==null&&(h=Ah(e,n,lT,null,null,a),Ql._currentValue=h),Cl(e,n),Pe(e,n,l,a),n.child;case 6:return e===null&&jt&&((e=a=Le)&&(a=GT(a,n.pendingProps,ei),a!==null?(n.stateNode=a,We=n,Le=null,e=!0):e=!1),e||da(n)),null;case 13:return yp(e,n,a);case 4:return $i(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=ma(n,null,l,a):Pe(e,n,l,a),n.child;case 11:return up(e,n,n.type,n.pendingProps,a);case 7:return Pe(e,n,n.pendingProps,a),n.child;case 8:return Pe(e,n,n.pendingProps.children,a),n.child;case 12:return Pe(e,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,pr(n,n.type,l.value),Pe(e,n,l.children,a),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Ta(n),h=He(h),l=l(h),n.flags|=1,Pe(e,n,l,a),n.child;case 14:return cp(e,n,n.type,n.pendingProps,a);case 15:return hp(e,n,n.type,n.pendingProps,a);case 19:return _p(e,n,a);case 22:return fp(e,n,a);case 24:return Ta(n),l=He(Ae),e===null?(h=Th(),h===null&&(h=$t,d=_h(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),n.memoizedState={parent:l,cache:h},Jh(n),pr(n,Ae,h)):(e.lanes&a&&(tf(e,n),Nl(n,null,null,a),Il()),h=e.memoizedState,d=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),pr(n,Ae,l)):(l=d.cache,pr(n,Ae,l),l!==h.cache&&Wh(n,[Ae],a,!0))),Pe(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}var Xh=kt(null),Ea=null,Vi=null;function pr(e,n,a){Gt(Xh,n._currentValue),n._currentValue=a}function Oi(e){e._currentValue=Xh.current,ie(Xh)}function Zh(e,n,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===a)break;e=e.return}}function Wh(e,n,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=h;for(var C=0;C<n.length;C++)if(T.context===n[C]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Zh(d.return,a,e),l||(_=null);break t}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Zh(_,a,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Dl(e,n,a,l){e=null;for(var h=n,d=!1;h!==null;){if(!d){if(h.flags&524288)d=!0;else if(h.flags&262144)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=h.type;hn(h.pendingProps.value,_.value)||(e!==null?e.push(T):e=[T])}}else if(h===Yi.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Ql):e=[Ql])}h=h.return}e!==null&&Wh(n,e,a,l),n.flags|=262144}function _u(e){for(e=e.firstContext;e!==null;){if(!hn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ta(e){Ea=e,Vi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function He(e){return Tp(Ea,e)}function Eu(e,n){return Ea===null&&Ta(e),Tp(e,n)}function Tp(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Vi===null){if(e===null)throw Error(s(308));Vi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Vi=Vi.next=n;return a}var yr=!1;function Jh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function tf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function vr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function _r(e,n,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,te&2){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=tu(e),ng(e,null,a),n}return Jo(e,l,n,a),tu(e)}function xl(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194176)!==0)){var l=n.lanes;l&=e.pendingLanes,a|=l,n.lanes=a,er(e,a)}}function ef(e,n){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=n:d=d.next=n}else h=d=n;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var nf=!1;function Il(){if(nf){var e=fs;if(e!==null)throw e}}function Nl(e,n,a,l){nf=!1;var h=e.updateQueue;yr=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,L=C.next;C.next=null,_===null?d=L:_.next=L,_=C;var $=e.alternate;$!==null&&($=$.updateQueue,T=$.lastBaseUpdate,T!==_&&(T===null?$.firstBaseUpdate=L:T.next=L,$.lastBaseUpdate=C))}if(d!==null){var tt=h.baseState;_=0,$=L=C=null,T=d;do{var H=T.lane&-536870913,Y=H!==T.lane;if(Y?(Ut&H)===H:(l&H)===H){H!==0&&H===hs&&(nf=!0),$!==null&&($=$.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var ht=e,bt=T;H=n;var le=a;switch(bt.tag){case 1:if(ht=bt.payload,typeof ht=="function"){tt=ht.call(le,tt,H);break t}tt=ht;break t;case 3:ht.flags=ht.flags&-65537|128;case 0:if(ht=bt.payload,H=typeof ht=="function"?ht.call(le,tt,H):ht,H==null)break t;tt=D({},tt,H);break t;case 2:yr=!0}}H=T.callback,H!==null&&(e.flags|=64,Y&&(e.flags|=8192),Y=h.callbacks,Y===null?h.callbacks=[H]:Y.push(H))}else Y={lane:H,tag:T.tag,payload:T.payload,callback:T.callback,next:null},$===null?(L=$=Y,C=tt):$=$.next=Y,_|=H;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;Y=T,T=Y.next,Y.next=null,h.lastBaseUpdate=Y,h.shared.pending=null}}while(!0);$===null&&(C=tt),h.baseState=C,h.firstBaseUpdate=L,h.lastBaseUpdate=$,d===null&&(h.shared.lanes=0),Sr|=_,e.lanes=_,e.memoizedState=tt}}function bp(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function Ap(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)bp(a[e],n)}function Vl(e,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(T){Yt(n,n.return,T)}}function Er(e,n,a){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=n;var C=a;try{T()}catch(L){Yt(h,C,L)}}}l=l.next}while(l!==d)}}catch(L){Yt(n,n.return,L)}}function Sp(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{Ap(n,a)}catch(l){Yt(e,e.return,l)}}}function wp(e,n,a){a.props=_a(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Yt(e,n,l)}}function ba(e,n){try{var a=e.ref;if(a!==null){var l=e.stateNode;switch(e.tag){case 26:case 27:case 5:var h=l;break;default:h=l}typeof a=="function"?e.refCleanup=a(h):a.current=h}}catch(d){Yt(e,n,d)}}function fn(e,n){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Yt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Yt(e,n,h)}else a.current=null}function Rp(e){var n=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Yt(e,e.return,h)}}function Cp(e,n,a){try{var l=e.stateNode;zT(l,e.type,a,n),l[_e]=n}catch(h){Yt(e,e.return,h)}}function Dp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27||e.tag===4}function rf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Dp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==27&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function af(e,n,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?a.nodeType===8?a.parentNode.insertBefore(e,n):a.insertBefore(e,n):(a.nodeType===8?(n=a.parentNode,n.insertBefore(e,a)):(n=a,n.appendChild(e)),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Mu));else if(l!==4&&l!==27&&(e=e.child,e!==null))for(af(e,n,a),e=e.sibling;e!==null;)af(e,n,a),e=e.sibling}function Tu(e,n,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(l!==4&&l!==27&&(e=e.child,e!==null))for(Tu(e,n,a),e=e.sibling;e!==null;)Tu(e,n,a),e=e.sibling}var Mi=!1,ae=!1,sf=!1,xp=typeof WeakSet=="function"?WeakSet:Set,Ve=null,Ip=!1;function gT(e,n){if(e=e.containerInfo,Mf=Bu,e=Km(e),lh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var _=0,T=-1,C=-1,L=0,$=0,tt=e,H=null;e:for(;;){for(var Y;tt!==a||h!==0&&tt.nodeType!==3||(T=_+h),tt!==d||l!==0&&tt.nodeType!==3||(C=_+l),tt.nodeType===3&&(_+=tt.nodeValue.length),(Y=tt.firstChild)!==null;)H=tt,tt=Y;for(;;){if(tt===e)break e;if(H===a&&++L===h&&(T=_),H===d&&++$===l&&(C=_),(Y=tt.nextSibling)!==null)break;tt=H,H=tt.parentNode}tt=Y}a=T===-1||C===-1?null:{start:T,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Uf={focusedElem:e,selectionRange:a},Bu=!1,Ve=n;Ve!==null;)if(n=Ve,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ve=e;else for(;Ve!==null;){switch(n=Ve,d=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&d!==null){e=void 0,a=n,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ht=_a(a.type,h,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(ht,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(bt){Yt(a,a.return,bt)}}break;case 3:if(e&1024){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)zf(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":zf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,Ve=e;break}Ve=n.return}return ht=Ip,Ip=!1,ht}function Np(e,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Li(e,a),l&4&&Vl(5,a);break;case 1:if(Li(e,a),l&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(T){Yt(a,a.return,T)}else{var h=_a(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(T){Yt(a,a.return,T)}}l&64&&Sp(a),l&512&&ba(a,a.return);break;case 3:if(Li(e,a),l&64&&(l=a.updateQueue,l!==null)){if(e=null,a.child!==null)switch(a.child.tag){case 27:case 5:e=a.child.stateNode;break;case 1:e=a.child.stateNode}try{Ap(l,e)}catch(T){Yt(a,a.return,T)}}break;case 26:Li(e,a),l&512&&ba(a,a.return);break;case 27:case 5:Li(e,a),n===null&&l&4&&Rp(a),l&512&&ba(a,a.return);break;case 12:Li(e,a);break;case 13:Li(e,a),l&4&&Mp(e,a);break;case 22:if(h=a.memoizedState!==null||Mi,!h){n=n!==null&&n.memoizedState!==null||ae;var d=Mi,_=ae;Mi=h,(ae=n)&&!_?Tr(e,a,(a.subtreeFlags&8772)!==0):Li(e,a),Mi=d,ae=_}l&512&&(a.memoizedProps.mode==="manual"?ba(a,a.return):fn(a,a.return));break;default:Li(e,a)}}function Vp(e){var n=e.alternate;n!==null&&(e.alternate=null,Vp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Wr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ge=null,dn=!1;function Ui(e,n,a){for(a=a.child;a!==null;)Op(e,n,a),a=a.sibling}function Op(e,n,a){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(Xi,a)}catch{}switch(a.tag){case 26:ae||fn(a,n),Ui(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ae||fn(a,n);var l=ge,h=dn;for(ge=a.stateNode,Ui(e,n,a),a=a.stateNode,n=a.attributes;n.length;)a.removeAttributeNode(n[0]);Wr(a),ge=l,dn=h;break;case 5:ae||fn(a,n);case 6:h=ge;var d=dn;if(ge=null,Ui(e,n,a),ge=h,dn=d,ge!==null)if(dn)try{e=ge,l=a.stateNode,e.nodeType===8?e.parentNode.removeChild(l):e.removeChild(l)}catch(_){Yt(a,n,_)}else try{ge.removeChild(a.stateNode)}catch(_){Yt(a,n,_)}break;case 18:ge!==null&&(dn?(n=ge,a=a.stateNode,n.nodeType===8?kf(n.parentNode,a):n.nodeType===1&&kf(n,a),Xl(n)):kf(ge,a.stateNode));break;case 4:l=ge,h=dn,ge=a.stateNode.containerInfo,dn=!0,Ui(e,n,a),ge=l,dn=h;break;case 0:case 11:case 14:case 15:ae||Er(2,a,n),ae||Er(4,a,n),Ui(e,n,a);break;case 1:ae||(fn(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&wp(a,n,l)),Ui(e,n,a);break;case 21:Ui(e,n,a);break;case 22:ae||fn(a,n),ae=(l=ae)||a.memoizedState!==null,Ui(e,n,a),ae=l;break;default:Ui(e,n,a)}}function Mp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Xl(e)}catch(a){Yt(n,n.return,a)}}function pT(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new xp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new xp),n;default:throw Error(s(435,e.tag))}}function lf(e,n){var a=pT(e);n.forEach(function(l){var h=xT.bind(null,e,l);a.has(l)||(a.add(l),l.then(h,h))})}function xn(e,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,_=n,T=_;t:for(;T!==null;){switch(T.tag){case 27:case 5:ge=T.stateNode,dn=!1;break t;case 3:ge=T.stateNode.containerInfo,dn=!0;break t;case 4:ge=T.stateNode.containerInfo,dn=!0;break t}T=T.return}if(ge===null)throw Error(s(160));Op(d,_,h),ge=null,dn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Up(n,e),n=n.sibling}var Bn=null;function Up(e,n){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:xn(n,e),In(e),l&4&&(Er(3,e,e.return),Vl(3,e),Er(5,e,e.return));break;case 1:xn(n,e),In(e),l&512&&(ae||a===null||fn(a,a.return)),l&64&&Mi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Bn;if(xn(n,e),In(e),l&512&&(ae||a===null||fn(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ir]||d[De]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),ke(d,l,a),d[De]=e,Wt(d),l=d;break t;case"link":var _=Ry("link","href",h).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(a.href==null?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break e}}d=h.createElement(l),ke(d,l,a),h.head.appendChild(d);break;case"meta":if(_=Ry("meta","content",h).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break e}}d=h.createElement(l),ke(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[De]=e,Wt(d),l=d}e.stateNode=l}else Cy(h,e.type,e.stateNode);else e.stateNode=wy(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Cy(h,e.type,e.stateNode):wy(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Cp(e,e.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&e.alternate===null){h=e.stateNode,d=e.memoizedProps;try{for(var C=h.firstChild;C;){var L=C.nextSibling,$=C.nodeName;C[ir]||$==="HEAD"||$==="BODY"||$==="SCRIPT"||$==="STYLE"||$==="LINK"&&C.rel.toLowerCase()==="stylesheet"||h.removeChild(C),C=L}for(var tt=e.type,H=h.attributes;H.length;)h.removeAttributeNode(H[0]);ke(h,tt,d),h[De]=e,h[_e]=d}catch(ht){Yt(e,e.return,ht)}}case 5:if(xn(n,e),In(e),l&512&&(ae||a===null||fn(a,a.return)),e.flags&32){h=e.stateNode;try{En(h,"")}catch(ht){Yt(e,e.return,ht)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Cp(e,h,a!==null?a.memoizedProps:h)),l&1024&&(sf=!0);break;case 6:if(xn(n,e),In(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(ht){Yt(e,e.return,ht)}}break;case 3:if(ku=null,h=Bn,Bn=Lu(n.containerInfo),xn(n,e),Bn=h,In(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Xl(n.containerInfo)}catch(ht){Yt(e,e.return,ht)}sf&&(sf=!1,Lp(e));break;case 4:l=Bn,Bn=Lu(e.stateNode.containerInfo),xn(n,e),In(e),Bn=l;break;case 12:xn(n,e),In(e);break;case 13:xn(n,e),In(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(pf=nn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,lf(e,l)));break;case 22:if(l&512&&(ae||a===null||fn(a,a.return)),C=e.memoizedState!==null,L=a!==null&&a.memoizedState!==null,$=Mi,tt=ae,Mi=$||C,ae=tt||L,xn(n,e),ae=tt,Mi=$,In(e),n=e.stateNode,n._current=e,n._visibility&=-3,n._visibility|=n._pendingVisibility&2,l&8192&&(n._visibility=C?n._visibility&-2:n._visibility|1,C&&(n=Mi||ae,a===null||L||n||ps(e)),e.memoizedProps===null||e.memoizedProps.mode!=="manual"))t:for(a=null,n=e;;){if(n.tag===5||n.tag===26||n.tag===27){if(a===null){L=a=n;try{if(h=L.stateNode,C)d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{_=L.stateNode,T=L.memoizedProps.style;var Y=T!=null&&T.hasOwnProperty("display")?T.display:null;_.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(ht){Yt(L,L.return,ht)}}}else if(n.tag===6){if(a===null){L=n;try{L.stateNode.nodeValue=C?"":L.memoizedProps}catch(ht){Yt(L,L.return,ht)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,lf(e,a))));break;case 19:xn(n,e),In(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,lf(e,l)));break;case 21:break;default:xn(n,e),In(e)}}function In(e){var n=e.flags;if(n&2){try{if(e.tag!==27){t:{for(var a=e.return;a!==null;){if(Dp(a)){var l=a;break t}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var h=l.stateNode,d=rf(e);Tu(e,d,h);break;case 5:var _=l.stateNode;l.flags&32&&(En(_,""),l.flags&=-33);var T=rf(e);Tu(e,T,_);break;case 3:case 4:var C=l.stateNode.containerInfo,L=rf(e);af(e,L,C);break;default:throw Error(s(161))}}}catch($){Yt(e,e.return,$)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Lp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Lp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Li(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Np(e,n.alternate,n),n=n.sibling}function ps(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Er(4,n,n.return),ps(n);break;case 1:fn(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&wp(n,n.return,a),ps(n);break;case 26:case 27:case 5:fn(n,n.return),ps(n);break;case 22:fn(n,n.return),n.memoizedState===null&&ps(n);break;default:ps(n)}e=e.sibling}}function Tr(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=e,d=n,_=d.flags;switch(d.tag){case 0:case 11:case 15:Tr(h,d,a),Vl(4,d);break;case 1:if(Tr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(L){Yt(l,l.return,L)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)bp(C[h],T)}catch(L){Yt(l,l.return,L)}}a&&_&64&&Sp(d),ba(d,d.return);break;case 26:case 27:case 5:Tr(h,d,a),a&&l===null&&_&4&&Rp(d),ba(d,d.return);break;case 12:Tr(h,d,a);break;case 13:Tr(h,d,a),a&&_&4&&Mp(h,d);break;case 22:d.memoizedState===null&&Tr(h,d,a),ba(d,d.return);break;default:Tr(h,d,a)}n=n.sibling}}function of(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&bl(a))}function uf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&bl(e))}function br(e,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Pp(e,n,a,l),n=n.sibling}function Pp(e,n,a,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:br(e,n,a,l),h&2048&&Vl(9,n);break;case 3:br(e,n,a,l),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&bl(e)));break;case 12:if(h&2048){br(e,n,a,l),e=n.stateNode;try{var d=n.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Yt(n,n.return,C)}}else br(e,n,a,l);break;case 23:break;case 22:d=n.stateNode,n.memoizedState!==null?d._visibility&4?br(e,n,a,l):Ol(e,n):d._visibility&4?br(e,n,a,l):(d._visibility|=4,ys(e,n,a,l,(n.subtreeFlags&10256)!==0)),h&2048&&of(n.alternate,n);break;case 24:br(e,n,a,l),h&2048&&uf(n.alternate,n);break;default:br(e,n,a,l)}}function ys(e,n,a,l,h){for(h=h&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var d=e,_=n,T=a,C=l,L=_.flags;switch(_.tag){case 0:case 11:case 15:ys(d,_,T,C,h),Vl(8,_);break;case 23:break;case 22:var $=_.stateNode;_.memoizedState!==null?$._visibility&4?ys(d,_,T,C,h):Ol(d,_):($._visibility|=4,ys(d,_,T,C,h)),h&&L&2048&&of(_.alternate,_);break;case 24:ys(d,_,T,C,h),h&&L&2048&&uf(_.alternate,_);break;default:ys(d,_,T,C,h)}n=n.sibling}}function Ol(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,l=n,h=l.flags;switch(l.tag){case 22:Ol(a,l),h&2048&&of(l.alternate,l);break;case 24:Ol(a,l),h&2048&&uf(l.alternate,l);break;default:Ol(a,l)}n=n.sibling}}var Ml=8192;function vs(e){if(e.subtreeFlags&Ml)for(e=e.child;e!==null;)kp(e),e=e.sibling}function kp(e){switch(e.tag){case 26:vs(e),e.flags&Ml&&e.memoizedState!==null&&rb(Bn,e.memoizedState,e.memoizedProps);break;case 5:vs(e);break;case 3:case 4:var n=Bn;Bn=Lu(e.stateNode.containerInfo),vs(e),Bn=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Ml,Ml=16777216,vs(e),Ml=n):vs(e));break;default:vs(e)}}function zp(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Ul(e){var n=e.deletions;if(e.flags&16){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ve=l,Bp(l,e)}zp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)jp(e),e=e.sibling}function jp(e){switch(e.tag){case 0:case 11:case 15:Ul(e),e.flags&2048&&Er(9,e,e.return);break;case 3:Ul(e);break;case 12:Ul(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&4&&(e.return===null||e.return.tag!==13)?(n._visibility&=-5,bu(e)):Ul(e);break;default:Ul(e)}}function bu(e){var n=e.deletions;if(e.flags&16){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ve=l,Bp(l,e)}zp(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Er(8,n,n.return),bu(n);break;case 22:a=n.stateNode,a._visibility&4&&(a._visibility&=-5,bu(n));break;default:bu(n)}e=e.sibling}}function Bp(e,n){for(;Ve!==null;){var a=Ve;switch(a.tag){case 0:case 11:case 15:Er(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:bl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ve=l;else t:for(a=e;Ve!==null;){l=Ve;var h=l.sibling,d=l.return;if(Vp(l),l===a){Ve=null;break t}if(h!==null){h.return=d,Ve=h;break t}Ve=d}}}function yT(e,n,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(e,n,a,l){return new yT(e,n,a,l)}function cf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ar(e,n){var a=e.alternate;return a===null?(a=Nn(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&31457280,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function qp(e,n){e.flags&=31457282;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Au(e,n,a,l,h,d){var _=0;if(l=e,typeof e=="function")cf(e)&&(_=1);else if(typeof e=="string")_=nb(e,a,Ye.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case p:return Aa(a.children,h,d,n);case y:_=8,h|=24;break;case E:return e=Nn(12,a,n,h|2),e.elementType=E,e.lanes=d,e;case q:return e=Nn(13,a,n,h),e.elementType=q,e.lanes=d,e;case V:return e=Nn(19,a,n,h),e.elementType=V,e.lanes=d,e;case X:return Hp(a,h,d,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case S:case I:_=10;break t;case R:_=9;break t;case P:_=11;break t;case K:_=14;break t;case J:_=16,l=null;break t}_=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return n=Nn(_,a,n,h),n.elementType=e,n.type=l,n.lanes=d,n}function Aa(e,n,a,l){return e=Nn(7,e,l,n),e.lanes=a,e}function Hp(e,n,a,l){e=Nn(22,e,l,n),e.elementType=X,e.lanes=a;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=h._current;if(d===null)throw Error(s(456));if(!(h._pendingVisibility&2)){var _=hr(d,2);_!==null&&(h._pendingVisibility|=2,Je(_,d,2))}},attach:function(){var d=h._current;if(d===null)throw Error(s(456));if(h._pendingVisibility&2){var _=hr(d,2);_!==null&&(h._pendingVisibility&=-3,Je(_,d,2))}}};return e.stateNode=h,e}function hf(e,n,a){return e=Nn(6,e,null,n),e.lanes=a,e}function ff(e,n,a){return n=Nn(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Pi(e){e.flags|=4}function Fp(e,n){if(n.type!=="stylesheet"||n.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!Dy(n)){if(n=Dn.current,n!==null&&((Ut&4194176)===Ut?ni!==null:(Ut&62914560)!==Ut&&!(Ut&536870912)||n!==ni))throw _l=ph,lg;e.flags|=8192}}function Su(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Ji():536870912,e.lanes|=n,Es|=n)}function Ll(e,n){if(!jt)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Jt(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(n)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&31457280,l|=h.flags&31457280,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,n}function vT(e,n,a){var l=n.pendingProps;switch(mh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(n),null;case 1:return Jt(n),null;case 3:return a=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Oi(Ae),pi(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(gl(n)?Pi(n):e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,jn!==null&&(Ef(jn),jn=null))),Jt(n),null;case 26:return a=n.memoizedState,e===null?(Pi(n),a!==null?(Jt(n),Fp(n,a)):(Jt(n),n.flags&=-16777217)):a?a!==e.memoizedState?(Pi(n),Jt(n),Fp(n,a)):(Jt(n),n.flags&=-16777217):(e.memoizedProps!==l&&Pi(n),Jt(n),n.flags&=-16777217),null;case 27:za(n),a=yn.current;var h=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Pi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return Jt(n),null}e=Ye.current,gl(n)?ag(n):(e=Ey(h,l,a),n.stateNode=e,Pi(n))}return Jt(n),null;case 5:if(za(n),a=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Pi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return Jt(n),null}if(e=Ye.current,gl(n))ag(n);else{switch(h=Uu(yn.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}e[De]=n,e[_e]=l;t:for(h=n.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break t;for(;h.sibling===null;){if(h.return===null||h.return===n)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}n.stateNode=e;t:switch(ke(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Pi(n)}}return Jt(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&Pi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(e=yn.current,gl(n)){if(e=n.stateNode,a=n.memoizedProps,l=null,h=We,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[De]=n,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||my(e.nodeValue,a)),e||da(n)}else e=Uu(e).createTextNode(l),e[De]=n,n.stateNode=e}return Jt(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=gl(n),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[De]=n}else pl(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;Jt(n),h=!1}else jn!==null&&(Ef(jn),jn=null),h=!0;if(!h)return n.flags&256?(xi(n),n):(xi(n),null)}if(xi(n),n.flags&128)return n.lanes=a,n;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==e&&a&&(n.child.flags|=8192),Su(n,n.updateQueue),Jt(n),null;case 4:return pi(),e===null&&Nf(n.stateNode.containerInfo),Jt(n),null;case 10:return Oi(n.type),Jt(n),null;case 19:if(ie(be),h=n.memoizedState,h===null)return Jt(n),null;if(l=(n.flags&128)!==0,d=h.rendering,d===null)if(l)Ll(h,!1);else{if(se!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(d=lu(e),d!==null){for(n.flags|=128,Ll(h,!1),e=d.updateQueue,n.updateQueue=e,Su(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)qp(a,e),a=a.sibling;return Gt(be,be.current&1|2),n.child}e=e.sibling}h.tail!==null&&nn()>wu&&(n.flags|=128,l=!0,Ll(h,!1),n.lanes=4194304)}else{if(!l)if(e=lu(d),e!==null){if(n.flags|=128,l=!0,e=e.updateQueue,n.updateQueue=e,Su(n,e),Ll(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!jt)return Jt(n),null}else 2*nn()-h.renderingStartTime>wu&&a!==536870912&&(n.flags|=128,l=!0,Ll(h,!1),n.lanes=4194304);h.isBackwards?(d.sibling=n.child,n.child=d):(e=h.last,e!==null?e.sibling=d:n.child=d,h.last=d)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=nn(),n.sibling=null,e=be.current,Gt(be,l?e&1|2:e&1),n):(Jt(n),null);case 22:case 23:return xi(n),vh(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?a&536870912&&!(n.flags&128)&&(Jt(n),n.subtreeFlags&6&&(n.flags|=8192)):Jt(n),a=n.updateQueue,a!==null&&Su(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),e!==null&&ie(ga),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Oi(Ae),Jt(n),null;case 25:return null}throw Error(s(156,n.tag))}function _T(e,n){switch(mh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Oi(Ae),pi(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return za(n),null;case 13:if(xi(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));pl()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return ie(be),null;case 4:return pi(),null;case 10:return Oi(n.type),null;case 22:case 23:return xi(n),vh(),e!==null&&ie(ga),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Oi(Ae),null;case 25:return null;default:return null}}function Gp(e,n){switch(mh(n),n.tag){case 3:Oi(Ae),pi();break;case 26:case 27:case 5:za(n);break;case 4:pi();break;case 13:xi(n);break;case 19:ie(be);break;case 10:Oi(n.type);break;case 22:case 23:xi(n),vh(),e!==null&&ie(ga);break;case 24:Oi(Ae)}}var ET={getCacheForType:function(e){var n=He(Ae),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a}},TT=typeof WeakMap=="function"?WeakMap:Map,te=0,$t=null,xt=null,Ut=0,Xt=0,mn=null,ki=!1,_s=!1,df=!1,zi=0,se=0,Sr=0,Sa=0,mf=0,Vn=0,Es=0,Pl=null,ri=null,gf=!1,pf=0,wu=1/0,Ru=null,wr=null,Cu=!1,wa=null,kl=0,yf=0,vf=null,zl=0,_f=null;function gn(){if(te&2&&Ut!==0)return Ut&-Ut;if(A.T!==null){var e=hs;return e!==0?e:Cf()}return Oo()}function Qp(){Vn===0&&(Vn=!(Ut&536870912)||jt?Zs():536870912);var e=Dn.current;return e!==null&&(e.flags|=32),Vn}function Je(e,n,a){(e===$t&&Xt===2||e.cancelPendingCommit!==null)&&(Ts(e,0),ji(e,Ut,Vn,!1)),oe(e,a),(!(te&2)||e!==$t)&&(e===$t&&(!(te&2)&&(Sa|=a),se===4&&ji(e,Ut,Vn,!1)),ai(e))}function Kp(e,n,a){if(te&6)throw Error(s(327));var l=!a&&(n&60)===0&&(n&e.expiredLanes)===0||Wi(e,n),h=l?ST(e,n):Af(e,n,!0),d=l;do{if(h===0){_s&&!l&&ji(e,n,0,!1);break}else if(h===6)ji(e,n,0,!ki);else{if(a=e.current.alternate,d&&!bT(a)){h=Af(e,n,!1),d=!1;continue}if(h===2){if(d=n,e.errorRecoveryDisabledLanes&d)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;t:{var T=e;h=Pl;var C=T.current.memoizedState.isDehydrated;if(C&&(Ts(T,_).flags|=256),_=Af(T,_,!1),_!==2){if(df&&!C){T.errorRecoveryDisabledLanes|=d,Sa|=d,h=4;break t}d=ri,ri=h,d!==null&&Ef(d)}h=_}if(d=!1,h!==2)continue}}if(h===1){Ts(e,0),ji(e,n,0,!0);break}t:{switch(l=e,h){case 0:case 1:throw Error(s(345));case 4:if((n&4194176)===n){ji(l,n,Vn,!ki);break t}break;case 2:ri=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=n,(n&62914560)===n&&(d=pf+300-nn(),10<d)){if(ji(l,n,Vn,!ki),vn(l,0)!==0)break t;l.timeoutHandle=yy(Yp.bind(null,l,a,ri,Ru,gf,n,Vn,Sa,Es,ki,2,-0,0),d);break t}Yp(l,a,ri,Ru,gf,n,Vn,Sa,Es,ki,0,-0,0)}}break}while(!0);ai(e)}function Ef(e){ri===null?ri=e:ri.push.apply(ri,e)}function Yp(e,n,a,l,h,d,_,T,C,L,$,tt,H){var Y=n.subtreeFlags;if((Y&8192||(Y&16785408)===16785408)&&(Gl={stylesheets:null,count:0,unsuspend:ib},kp(n),n=ab(),n!==null)){e.cancelPendingCommit=n(ey.bind(null,e,a,l,h,_,T,C,1,tt,H)),ji(e,d,_,!L);return}ey(e,a,l,h,_,T,C,$,tt,H)}function bT(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!hn(d(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ji(e,n,a,l){n&=~mf,n&=~Sa,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var h=n;0<h;){var d=31-$e(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&tr(e,a,n)}function Du(){return te&6?!0:(jl(0),!1)}function Tf(){if(xt!==null){if(Xt===0)var e=xt.return;else e=xt,Vi=Ea=null,Rh(e),us=null,El=0,e=xt;for(;e!==null;)Gp(e.alternate,e),e=e.return;xt=null}}function Ts(e,n){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,BT(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Tf(),$t=e,xt=a=Ar(e.current,null),Ut=n,Xt=0,mn=null,ki=!1,_s=Wi(e,n),df=!1,Es=Vn=mf=Sa=Sr=se=0,ri=Pl=null,gf=!1,n&8&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var h=31-$e(l),d=1<<h;n|=e[h],l&=~d}return zi=n,Wo(),a}function $p(e,n){Ct=null,A.H=ii,n===vl?(n=cg(),Xt=3):n===lg?(n=cg(),Xt=4):Xt=n===op?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,mn=n,xt===null&&(se=1,vu(e,wn(n,e.current)))}function Xp(){var e=A.H;return A.H=ii,e===null?ii:e}function Zp(){var e=A.A;return A.A=ET,e}function bf(){se=4,ki||(Ut&4194176)!==Ut&&Dn.current!==null||(_s=!0),!(Sr&134217727)&&!(Sa&134217727)||$t===null||ji($t,Ut,Vn,!1)}function Af(e,n,a){var l=te;te|=2;var h=Xp(),d=Zp();($t!==e||Ut!==n)&&(Ru=null,Ts(e,n)),n=!1;var _=se;t:do try{if(Xt!==0&&xt!==null){var T=xt,C=mn;switch(Xt){case 8:Tf(),_=6;break t;case 3:case 2:case 6:Dn.current===null&&(n=!0);var L=Xt;if(Xt=0,mn=null,bs(e,T,C,L),a&&_s){_=0;break t}break;default:L=Xt,Xt=0,mn=null,bs(e,T,C,L)}}AT(),_=se;break}catch($){$p(e,$)}while(!0);return n&&e.shellSuspendCounter++,Vi=Ea=null,te=l,A.H=h,A.A=d,xt===null&&($t=null,Ut=0,Wo()),_}function AT(){for(;xt!==null;)Wp(xt)}function ST(e,n){var a=te;te|=2;var l=Xp(),h=Zp();$t!==e||Ut!==n?(Ru=null,wu=nn()+500,Ts(e,n)):_s=Wi(e,n);t:do try{if(Xt!==0&&xt!==null){n=xt;var d=mn;e:switch(Xt){case 1:Xt=0,mn=null,bs(e,n,d,1);break;case 2:if(og(d)){Xt=0,mn=null,Jp(n);break}n=function(){Xt===2&&$t===e&&(Xt=7),ai(e)},d.then(n,n);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:og(d)?(Xt=0,mn=null,Jp(n)):(Xt=0,mn=null,bs(e,n,d,7));break;case 5:var _=null;switch(xt.tag){case 26:_=xt.memoizedState;case 5:case 27:var T=xt;if(!_||Dy(_)){Xt=0,mn=null;var C=T.sibling;if(C!==null)xt=C;else{var L=T.return;L!==null?(xt=L,xu(L)):xt=null}break e}}Xt=0,mn=null,bs(e,n,d,5);break;case 6:Xt=0,mn=null,bs(e,n,d,6);break;case 8:Tf(),se=6;break t;default:throw Error(s(462))}}wT();break}catch($){$p(e,$)}while(!0);return Vi=Ea=null,A.H=l,A.A=h,te=a,xt!==null?0:($t=null,Ut=0,Wo(),se)}function wT(){for(;xt!==null&&!Xc();)Wp(xt)}function Wp(e){var n=Ep(e.alternate,e,zi);e.memoizedProps=e.pendingProps,n===null?xu(e):xt=n}function Jp(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=mp(a,n,n.pendingProps,n.type,void 0,Ut);break;case 11:n=mp(a,n,n.pendingProps,n.type.render,n.ref,Ut);break;case 5:Rh(n);default:Gp(a,n),n=xt=qp(n,zi),n=Ep(a,n,zi)}e.memoizedProps=e.pendingProps,n===null?xu(e):xt=n}function bs(e,n,a,l){Vi=Ea=null,Rh(n),us=null,El=0;var h=n.return;try{if(dT(e,h,n,a,Ut)){se=1,vu(e,wn(a,e.current)),xt=null;return}}catch(d){if(h!==null)throw xt=h,d;se=1,vu(e,wn(a,e.current)),xt=null;return}n.flags&32768?(jt||l===1?e=!0:_s||Ut&536870912?e=!1:(ki=e=!0,(l===2||l===3||l===6)&&(l=Dn.current,l!==null&&l.tag===13&&(l.flags|=16384))),ty(n,e)):xu(n)}function xu(e){var n=e;do{if(n.flags&32768){ty(n,ki);return}e=n.return;var a=vT(n.alternate,n,zi);if(a!==null){xt=a;return}if(n=n.sibling,n!==null){xt=n;return}xt=n=e}while(n!==null);se===0&&(se=5)}function ty(e,n){do{var a=_T(e.alternate,e);if(a!==null){a.flags&=32767,xt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){xt=e;return}xt=e=a}while(e!==null);se=6,xt=null}function ey(e,n,a,l,h,d,_,T,C,L){var $=A.T,tt=ot.p;try{ot.p=2,A.T=null,RT(e,n,a,l,tt,h,d,_,T,C,L)}finally{A.T=$,ot.p=tt}}function RT(e,n,a,l,h,d,_,T){do As();while(wa!==null);if(te&6)throw Error(s(327));var C=e.finishedWork;if(l=e.finishedLanes,C===null)return null;if(e.finishedWork=null,e.finishedLanes=0,C===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var L=C.lanes|C.childLanes;if(L|=hh,No(e,l,L,d,_,T),e===$t&&(xt=$t=null,Ut=0),!(C.subtreeFlags&10256)&&!(C.flags&10256)||Cu||(Cu=!0,yf=L,vf=a,IT(yi,function(){return As(),null})),a=(C.flags&15990)!==0,C.subtreeFlags&15990||a?(a=A.T,A.T=null,d=ot.p,ot.p=2,_=te,te|=4,gT(e,C),Up(C,e),XE(Uf,e.containerInfo),Bu=!!Mf,Uf=Mf=null,e.current=C,Np(e,C.alternate,C),Ks(),te=_,ot.p=d,A.T=a):e.current=C,Cu?(Cu=!1,wa=e,kl=l):ny(e,L),L=e.pendingLanes,L===0&&(wr=null),$s(C.stateNode),ai(e),n!==null)for(h=e.onRecoverableError,C=0;C<n.length;C++)L=n[C],h(L.value,{componentStack:L.stack});return kl&3&&As(),L=e.pendingLanes,l&4194218&&L&42?e===_f?zl++:(zl=0,_f=e):zl=0,jl(0),null}function ny(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,bl(n)))}function As(){if(wa!==null){var e=wa,n=yf;yf=0;var a=Vo(kl),l=A.T,h=ot.p;try{if(ot.p=32>a?32:a,A.T=null,wa===null)var d=!1;else{a=vf,vf=null;var _=wa,T=kl;if(wa=null,kl=0,te&6)throw Error(s(331));var C=te;if(te|=4,jp(_.current),Pp(_,_.current,T,a),te=C,jl(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(Xi,_)}catch{}d=!0}return d}finally{ot.p=h,A.T=l,ny(e,n)}}return!1}function iy(e,n,a){n=wn(a,n),n=jh(e.stateNode,n,2),e=_r(e,n,2),e!==null&&(oe(e,2),ai(e))}function Yt(e,n,a){if(e.tag===3)iy(e,e,a);else for(;n!==null;){if(n.tag===3){iy(n,e,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(wr===null||!wr.has(l))){e=wn(a,e),a=sp(2),l=_r(n,a,2),l!==null&&(lp(a,l,n,e),oe(l,2),ai(l));break}}n=n.return}}function Sf(e,n,a){var l=e.pingCache;if(l===null){l=e.pingCache=new TT;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(a)||(df=!0,h.add(a),e=CT.bind(null,e,n,a),n.then(e,e))}function CT(e,n,a){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,$t===e&&(Ut&a)===a&&(se===4||se===3&&(Ut&62914560)===Ut&&300>nn()-pf?!(te&2)&&Ts(e,0):mf|=a,Es===Ut&&(Es=0)),ai(e)}function ry(e,n){n===0&&(n=Ji()),e=hr(e,n),e!==null&&(oe(e,n),ai(e))}function DT(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),ry(e,a)}function xT(e,n){var a=0;switch(e.tag){case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),ry(e,a)}function IT(e,n){return $r(e,n)}var Iu=null,Ss=null,wf=!1,Nu=!1,Rf=!1,Ra=0;function ai(e){e!==Ss&&e.next===null&&(Ss===null?Iu=Ss=e:Ss=Ss.next=e),Nu=!0,wf||(wf=!0,VT(NT))}function jl(e,n){if(!Rf&&Nu){Rf=!0;do for(var a=!1,l=Iu;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-$e(42|e)+1)-1,d&=h&~(_&~T),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(a=!0,ly(l,d))}else d=Ut,d=vn(l,l===$t?d:0),!(d&3)||Wi(l,d)||(a=!0,ly(l,d));l=l.next}while(a);Rf=!1}}function NT(){Nu=wf=!1;var e=0;Ra!==0&&(jT()&&(e=Ra),Ra=0);for(var n=nn(),a=null,l=Iu;l!==null;){var h=l.next,d=ay(l,n);d===0?(l.next=null,a===null?Iu=h:a.next=h,h===null&&(Ss=a)):(a=l,(e!==0||d&3)&&(Nu=!0)),l=h}jl(e)}function ay(e,n){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var _=31-$e(d),T=1<<_,C=h[_];C===-1?(!(T&a)||T&l)&&(h[_]=qa(T,n)):C<=n&&(e.expiredLanes|=T),d&=~T}if(n=$t,a=Ut,a=vn(e,e===n?a:0),l=e.callbackNode,a===0||e===n&&Xt===2||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Ba(l),e.callbackNode=null,e.callbackPriority=0;if(!(a&3)||Wi(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(l!==null&&Ba(l),Vo(a)){case 2:case 8:a=Ce;break;case 32:a=yi;break;case 268435456:a=Ys;break;default:a=yi}return l=sy.bind(null,e),a=$r(a,l),e.callbackPriority=n,e.callbackNode=a,n}return l!==null&&l!==null&&Ba(l),e.callbackPriority=2,e.callbackNode=null,2}function sy(e,n){var a=e.callbackNode;if(As()&&e.callbackNode!==a)return null;var l=Ut;return l=vn(e,e===$t?l:0),l===0?null:(Kp(e,l,n),ay(e,nn()),e.callbackNode!=null&&e.callbackNode===a?sy.bind(null,e):null)}function ly(e,n){if(As())return null;Kp(e,n,!0)}function VT(e){qT(function(){te&6?$r(ve,e):e()})}function Cf(){return Ra===0&&(Ra=Zs()),Ra}function oy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Yn(""+e)}function uy(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function OT(e,n,a,l,h){if(n==="submit"&&a&&a.stateNode===h){var d=oy((h[_e]||null).action),_=l.submitter;_&&(n=(n=_[_e]||null)?oy(n.formAction):_.getAttribute("formAction"),n!==null&&(d=n,_=null));var T=new $a("action","action",null,l,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ra!==0){var C=_?uy(h,_):new FormData(h);Uh(a,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(T.preventDefault(),C=_?uy(h,_):new FormData(h),Uh(a,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var Df=0;Df<eg.length;Df++){var xf=eg[Df],MT=xf.toLowerCase(),UT=xf[0].toUpperCase()+xf.slice(1);zn(MT,"on"+UT)}zn(Xm,"onAnimationEnd"),zn(Zm,"onAnimationIteration"),zn(Wm,"onAnimationStart"),zn("dblclick","onDoubleClick"),zn("focusin","onFocus"),zn("focusout","onBlur"),zn(WE,"onTransitionRun"),zn(JE,"onTransitionStart"),zn(tT,"onTransitionCancel"),zn(Jm,"onTransitionEnd"),rn("onMouseEnter",["mouseout","mouseover"]),rn("onMouseLeave",["mouseout","mouseover"]),rn("onPointerEnter",["pointerout","pointerover"]),rn("onPointerLeave",["pointerout","pointerover"]),un("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),un("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),un("onBeforeInput",["compositionend","keypress","textInput","paste"]),un("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),un("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),un("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bl));function cy(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(n)for(var _=l.length-1;0<=_;_--){var T=l[_],C=T.instance,L=T.currentTarget;if(T=T.listener,C!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=L;try{d(h)}catch($){yu($)}h.currentTarget=null,d=C}else for(_=0;_<l.length;_++){if(T=l[_],C=T.instance,L=T.currentTarget,T=T.listener,C!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=L;try{d(h)}catch($){yu($)}h.currentTarget=null,d=C}}}}function Vt(e,n){var a=n[Zr];a===void 0&&(a=n[Zr]=new Set);var l=e+"__bubble";a.has(l)||(hy(n,e,2,!1),a.add(l))}function If(e,n,a){var l=0;n&&(l|=4),hy(a,e,l,n)}var Vu="_reactListening"+Math.random().toString(36).slice(2);function Nf(e){if(!e[Vu]){e[Vu]=!0,Js.forEach(function(a){a!=="selectionchange"&&(LT.has(a)||If(a,!1,e),If(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Vu]||(n[Vu]=!0,If("selectionchange",!1,n))}}function hy(e,n,a,l){switch(My(n)){case 2:var h=ob;break;case 8:h=ub;break;default:h=Ff}a=h.bind(null,n,a,e),h=void 0,!bn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(n,a,{capture:!0,passive:h}):e.addEventListener(n,a,!0):h!==void 0?e.addEventListener(n,a,{passive:h}):e.addEventListener(n,a,!1)}function Vf(e,n,a,l,h){var d=l;if(!(n&1)&&!(n&2)&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h||T.nodeType===8&&T.parentNode===h)break;if(_===4)for(_=l.return;_!==null;){var C=_.tag;if((C===3||C===4)&&(C=_.stateNode.containerInfo,C===h||C.nodeType===8&&C.parentNode===h))return;_=_.return}for(;T!==null;){if(_=kn(T),_===null)return;if(C=_.tag,C===5||C===6||C===26||C===27){l=d=_;continue t}T=T.parentNode}}l=l.return}Po(function(){var L=d,$=Ya(a),tt=[];t:{var H=tg.get(e);if(H!==void 0){var Y=$a,ht=e;switch(e){case"keypress":if(Xn(a)===0)break t;case"keydown":case"keyup":Y=es;break;case"focusin":ht="focus",Y=Wa;break;case"focusout":ht="blur",Y=Wa;break;case"beforeblur":case"afterblur":Y=Wa;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=An;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=ih;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=Go;break;case Xm:case Zm:case Wm:Y=Ja;break;case Jm:Y=Ko;break;case"scroll":case"scrollend":Y=ko;break;case"wheel":Y=ns;break;case"copy":case"cut":case"paste":Y=ts;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=hl;break;case"toggle":case"beforetoggle":Y=$o}var bt=(n&4)!==0,le=!bt&&(e==="scroll"||e==="scrollend"),k=bt?H!==null?H+"Capture":null:H;bt=[];for(var M=L,B;M!==null;){var Z=M;if(B=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||B===null||k===null||(Z=na(M,k),Z!=null&&bt.push(ql(M,Z,B))),le)break;M=M.return}0<bt.length&&(H=new Y(H,ht,null,a,$),tt.push({event:H,listeners:bt}))}}if(!(n&7)){t:{if(H=e==="mouseover"||e==="pointerover",Y=e==="mouseout"||e==="pointerout",H&&a!==Tn&&(ht=a.relatedTarget||a.fromElement)&&(kn(ht)||ht[vi]))break t;if((Y||H)&&(H=$.window===$?$:(H=$.ownerDocument)?H.defaultView||H.parentWindow:window,Y?(ht=a.relatedTarget||a.toElement,Y=L,ht=ht?kn(ht):null,ht!==null&&(le=gt(ht),bt=ht.tag,ht!==le||bt!==5&&bt!==27&&bt!==6)&&(ht=null)):(Y=null,ht=L),Y!==ht)){if(bt=An,Z="onMouseLeave",k="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(bt=hl,Z="onPointerLeave",k="onPointerEnter",M="pointer"),le=Y==null?H:rr(Y),B=ht==null?H:rr(ht),H=new bt(Z,M+"leave",Y,a,$),H.target=le,H.relatedTarget=B,Z=null,kn($)===L&&(bt=new bt(k,M+"enter",ht,a,$),bt.target=B,bt.relatedTarget=le,Z=bt),le=Z,Y&&ht)e:{for(bt=Y,k=ht,M=0,B=bt;B;B=ws(B))M++;for(B=0,Z=k;Z;Z=ws(Z))B++;for(;0<M-B;)bt=ws(bt),M--;for(;0<B-M;)k=ws(k),B--;for(;M--;){if(bt===k||k!==null&&bt===k.alternate)break e;bt=ws(bt),k=ws(k)}bt=null}else bt=null;Y!==null&&fy(tt,H,Y,bt,!1),ht!==null&&le!==null&&fy(tt,le,ht,bt,!0)}}t:{if(H=L?rr(L):window,Y=H.nodeName&&H.nodeName.toLowerCase(),Y==="select"||Y==="input"&&H.type==="file")var ct=zm;else if(Te(H))if(jm)ct=YE;else{ct=QE;var Dt=GE}else Y=H.nodeName,!Y||Y.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?L&&rl(L.elementType)&&(ct=zm):ct=KE;if(ct&&(ct=ct(e,L))){Ri(tt,ct,a,$);break t}Dt&&Dt(e,H,L),e==="focusout"&&L&&H.type==="number"&&L.memoizedProps.value!=null&&Ka(H,"number",H.value)}switch(Dt=L?rr(L):window,e){case"focusin":(Te(Dt)||Dt.contentEditable==="true")&&(is=Dt,oh=L,ml=null);break;case"focusout":ml=oh=is=null;break;case"mousedown":uh=!0;break;case"contextmenu":case"mouseup":case"dragend":uh=!1,Ym(tt,a,$);break;case"selectionchange":if(ZE)break;case"keydown":case"keyup":Ym(tt,a,$)}var dt;if(Jn)t:{switch(e){case"compositionstart":var yt="onCompositionStart";break t;case"compositionend":yt="onCompositionEnd";break t;case"compositionupdate":yt="onCompositionUpdate";break t}yt=void 0}else Ot?Q(e,a)&&(yt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(yt="onCompositionStart");yt&&(v&&a.locale!=="ko"&&(Ot||yt!=="onCompositionStart"?yt==="onCompositionEnd"&&Ot&&(dt=sl()):($n=$,cr="value"in $n?$n.value:$n.textContent,Ot=!0)),Dt=Ou(L,yt),0<Dt.length&&(yt=new ul(yt,e,null,a,$),tt.push({event:yt,listeners:Dt}),dt?yt.data=dt:(dt=it(a),dt!==null&&(yt.data=dt)))),(dt=g?Ee(e,a):Mt(e,a))&&(yt=Ou(L,"onBeforeInput"),0<yt.length&&(Dt=new ul("onBeforeInput","beforeinput",null,a,$),tt.push({event:Dt,listeners:yt}),Dt.data=dt)),OT(tt,e,L,a,$)}cy(tt,n)})}function ql(e,n,a){return{instance:e,listener:n,currentTarget:a}}function Ou(e,n){for(var a=n+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=na(e,a),h!=null&&l.unshift(ql(e,h,d)),h=na(e,n),h!=null&&l.push(ql(e,h,d))),e=e.return}return l}function ws(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function fy(e,n,a,l,h){for(var d=n._reactName,_=[];a!==null&&a!==l;){var T=a,C=T.alternate,L=T.stateNode;if(T=T.tag,C!==null&&C===l)break;T!==5&&T!==26&&T!==27||L===null||(C=L,h?(L=na(a,d),L!=null&&_.unshift(ql(a,L,C))):h||(L=na(a,d),L!=null&&_.push(ql(a,L,C)))),a=a.return}_.length!==0&&e.push({event:n,listeners:_})}var PT=/\r\n?/g,kT=/\u0000|\uFFFD/g;function dy(e){return(typeof e=="string"?e:""+e).replace(PT,`
`).replace(kT,"")}function my(e,n){return n=dy(n),dy(e)===n}function Mu(){}function Kt(e,n,a,l,h,d){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||En(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&En(e,""+l);break;case"className":lr(e,"class",l);break;case"tabIndex":lr(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":lr(e,a,l);break;case"style":Lo(e,l,d);break;case"data":if(n!=="object"){lr(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Yn(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(n!=="input"&&Kt(e,n,"name",h.name,h,null),Kt(e,n,"formEncType",h.formEncType,h,null),Kt(e,n,"formMethod",h.formMethod,h,null),Kt(e,n,"formTarget",h.formTarget,h,null)):(Kt(e,n,"encType",h.encType,h,null),Kt(e,n,"method",h.method,h,null),Kt(e,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Yn(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Mu);break;case"onScroll":l!=null&&Vt("scroll",e);break;case"onScrollEnd":l!=null&&Vt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Yn(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Vt("beforetoggle",e),Vt("toggle",e),sr(e,"popover",l);break;case"xlinkActuate":_n(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":_n(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":_n(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":_n(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":_n(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":_n(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":_n(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":_n(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":_n(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":sr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=eh.get(a)||a,sr(e,a,l))}}function Of(e,n,a,l,h,d){switch(a){case"style":Lo(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?En(e,l):(typeof l=="number"||typeof l=="bigint")&&En(e,""+l);break;case"onScroll":l!=null&&Vt("scroll",e);break;case"onScrollEnd":l!=null&&Vt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Mu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ga.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),d=e[_e]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(n,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):sr(e,a,l)}}}function ke(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",e),Vt("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Kt(e,n,d,_,a,null)}}h&&Kt(e,n,"srcSet",a.srcSet,a,null),l&&Kt(e,n,"src",a.src,a,null);return;case"input":Vt("invalid",e);var T=d=_=h=null,C=null,L=null;for(l in a)if(a.hasOwnProperty(l)){var $=a[l];if($!=null)switch(l){case"name":h=$;break;case"type":_=$;break;case"checked":C=$;break;case"defaultChecked":L=$;break;case"value":d=$;break;case"defaultValue":T=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,n));break;default:Kt(e,n,l,$,a,null)}}ta(e,d,T,C,L,_,h,!1),Jr(e);return;case"select":Vt("invalid",e),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:Kt(e,n,h,T,a,null)}n=d,a=_,e.multiple=!!l,n!=null?zt(e,!!l,n,!1):a!=null&&zt(e,!!l,a,!0);return;case"textarea":Vt("invalid",e),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Kt(e,n,_,T,a,null)}ur(e,l,h,d),Jr(e);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Kt(e,n,C,l,a,null)}return;case"dialog":Vt("cancel",e),Vt("close",e);break;case"iframe":case"object":Vt("load",e);break;case"video":case"audio":for(l=0;l<Bl.length;l++)Vt(Bl[l],e);break;case"image":Vt("error",e),Vt("load",e);break;case"details":Vt("toggle",e);break;case"embed":case"source":case"link":Vt("error",e),Vt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in a)if(a.hasOwnProperty(L)&&(l=a[L],l!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Kt(e,n,L,l,a,null)}return;default:if(rl(n)){for($ in a)a.hasOwnProperty($)&&(l=a[$],l!==void 0&&Of(e,n,$,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Kt(e,n,T,l,a,null))}function zT(e,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,C=null,L=null,$=null;for(Y in a){var tt=a[Y];if(a.hasOwnProperty(Y)&&tt!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":C=tt;default:l.hasOwnProperty(Y)||Kt(e,n,Y,null,l,tt)}}for(var H in l){var Y=l[H];if(tt=a[H],l.hasOwnProperty(H)&&(Y!=null||tt!=null))switch(H){case"type":d=Y;break;case"name":h=Y;break;case"checked":L=Y;break;case"defaultChecked":$=Y;break;case"value":_=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,n));break;default:Y!==tt&&Kt(e,n,H,Y,l,tt)}}or(e,_,T,C,L,$,d,h);return;case"select":Y=_=T=H=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":Y=C;default:l.hasOwnProperty(d)||Kt(e,n,d,null,l,C)}for(h in l)if(d=l[h],C=a[h],l.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":H=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==C&&Kt(e,n,h,d,l,C)}n=T,a=_,l=Y,H!=null?zt(e,!!a,H,!1):!!l!=!!a&&(n!=null?zt(e,!!a,n,!0):zt(e,!!a,a?[]:"",!1));return;case"textarea":Y=H=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Kt(e,n,T,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":H=h;break;case"defaultValue":Y=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Kt(e,n,_,h,l,d)}ea(e,H,Y);return;case"option":for(var ht in a)if(H=a[ht],a.hasOwnProperty(ht)&&H!=null&&!l.hasOwnProperty(ht))switch(ht){case"selected":e.selected=!1;break;default:Kt(e,n,ht,null,l,H)}for(C in l)if(H=l[C],Y=a[C],l.hasOwnProperty(C)&&H!==Y&&(H!=null||Y!=null))switch(C){case"selected":e.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Kt(e,n,C,H,l,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var bt in a)H=a[bt],a.hasOwnProperty(bt)&&H!=null&&!l.hasOwnProperty(bt)&&Kt(e,n,bt,null,l,H);for(L in l)if(H=l[L],Y=a[L],l.hasOwnProperty(L)&&H!==Y&&(H!=null||Y!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,n));break;default:Kt(e,n,L,H,l,Y)}return;default:if(rl(n)){for(var le in a)H=a[le],a.hasOwnProperty(le)&&H!==void 0&&!l.hasOwnProperty(le)&&Of(e,n,le,void 0,l,H);for($ in l)H=l[$],Y=a[$],!l.hasOwnProperty($)||H===Y||H===void 0&&Y===void 0||Of(e,n,$,H,l,Y);return}}for(var k in a)H=a[k],a.hasOwnProperty(k)&&H!=null&&!l.hasOwnProperty(k)&&Kt(e,n,k,null,l,H);for(tt in l)H=l[tt],Y=a[tt],!l.hasOwnProperty(tt)||H===Y||H==null&&Y==null||Kt(e,n,tt,H,l,Y)}var Mf=null,Uf=null;function Uu(e){return e.nodeType===9?e:e.ownerDocument}function gy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function py(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Lf(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Pf=null;function jT(){var e=window.event;return e&&e.type==="popstate"?e===Pf?!1:(Pf=e,!0):(Pf=null,!1)}var yy=typeof setTimeout=="function"?setTimeout:void 0,BT=typeof clearTimeout=="function"?clearTimeout:void 0,vy=typeof Promise=="function"?Promise:void 0,qT=typeof queueMicrotask=="function"?queueMicrotask:typeof vy<"u"?function(e){return vy.resolve(null).then(e).catch(HT)}:yy;function HT(e){setTimeout(function(){throw e})}function kf(e,n){var a=n,l=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(l===0){e.removeChild(h),Xl(n);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=h}while(a);Xl(n)}function zf(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":zf(a),Wr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function FT(e,n,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ir])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=qn(e.nextSibling),e===null)break}return null}function GT(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=qn(e.nextSibling),e===null))return null;return e}function qn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}function _y(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return e;n--}else a==="/$"&&n++}e=e.previousSibling}return null}function Ey(e,n,a){switch(n=Uu(a),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}var On=new Map,Ty=new Set;function Lu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.ownerDocument}var Bi=ot.d;ot.d={f:QT,r:KT,D:YT,C:$T,L:XT,m:ZT,X:JT,S:WT,M:tb};function QT(){var e=Bi.f(),n=Du();return e||n}function KT(e){var n=_i(e);n!==null&&n.tag===5&&n.type==="form"?Yg(n):Bi.r(e)}var Rs=typeof document>"u"?null:document;function by(e,n,a){var l=Rs;if(l&&typeof n=="string"&&n){var h=re(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Ty.has(h)||(Ty.add(h),e={rel:e,crossOrigin:a,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),ke(n,"link",e),Wt(n),l.head.appendChild(n)))}}function YT(e){Bi.D(e),by("dns-prefetch",e,null)}function $T(e,n){Bi.C(e,n),by("preconnect",e,n)}function XT(e,n,a){Bi.L(e,n,a);var l=Rs;if(l&&e&&n){var h='link[rel="preload"][as="'+re(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+re(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+re(a.imageSizes)+'"]')):h+='[href="'+re(e)+'"]';var d=h;switch(n){case"style":d=Cs(e);break;case"script":d=Ds(e)}On.has(d)||(e=D({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),On.set(d,e),l.querySelector(h)!==null||n==="style"&&l.querySelector(Hl(d))||n==="script"&&l.querySelector(Fl(d))||(n=l.createElement("link"),ke(n,"link",e),Wt(n),l.head.appendChild(n)))}}function ZT(e,n){Bi.m(e,n);var a=Rs;if(a&&e){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+re(l)+'"][href="'+re(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ds(e)}if(!On.has(d)&&(e=D({rel:"modulepreload",href:e},n),On.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Fl(d)))return}l=a.createElement("link"),ke(l,"link",e),Wt(l),a.head.appendChild(l)}}}function WT(e,n,a){Bi.S(e,n,a);var l=Rs;if(l&&e){var h=ar(l).hoistableStyles,d=Cs(e);n=n||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(Hl(d)))T.loading=5;else{e=D({rel:"stylesheet",href:e,"data-precedence":n},a),(a=On.get(d))&&jf(e,a);var C=_=l.createElement("link");Wt(C),ke(C,"link",e),C._p=new Promise(function(L,$){C.onload=L,C.onerror=$}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Pu(_,n,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function JT(e,n){Bi.X(e,n);var a=Rs;if(a&&e){var l=ar(a).hoistableScripts,h=Ds(e),d=l.get(h);d||(d=a.querySelector(Fl(h)),d||(e=D({src:e,async:!0},n),(n=On.get(h))&&Bf(e,n),d=a.createElement("script"),Wt(d),ke(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function tb(e,n){Bi.M(e,n);var a=Rs;if(a&&e){var l=ar(a).hoistableScripts,h=Ds(e),d=l.get(h);d||(d=a.querySelector(Fl(h)),d||(e=D({src:e,async:!0,type:"module"},n),(n=On.get(h))&&Bf(e,n),d=a.createElement("script"),Wt(d),ke(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Ay(e,n,a,l){var h=(h=yn.current)?Lu(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Cs(a.href),a=ar(h).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Cs(a.href);var d=ar(h).hoistableStyles,_=d.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,_),(d=h.querySelector(Hl(e)))&&!d._p&&(_.instance=d,_.state.loading=5),On.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},On.set(e,a),d||eb(h,e,a,_.state))),n&&l===null)throw Error(s(528,""));return _}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ds(a),a=ar(h).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Cs(e){return'href="'+re(e)+'"'}function Hl(e){return'link[rel="stylesheet"]['+e+"]"}function Sy(e){return D({},e,{"data-precedence":e.precedence,precedence:null})}function eb(e,n,a,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ke(n,"link",a),Wt(n),e.head.appendChild(n))}function Ds(e){return'[src="'+re(e)+'"]'}function Fl(e){return"script[async]"+e}function wy(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+re(a.href)+'"]');if(l)return n.instance=l,Wt(l),l;var h=D({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Wt(l),ke(l,"style",h),Pu(l,a.precedence,e),n.instance=l;case"stylesheet":h=Cs(a.href);var d=e.querySelector(Hl(h));if(d)return n.state.loading|=4,n.instance=d,Wt(d),d;l=Sy(a),(h=On.get(h))&&jf(l,h),d=(e.ownerDocument||e).createElement("link"),Wt(d);var _=d;return _._p=new Promise(function(T,C){_.onload=T,_.onerror=C}),ke(d,"link",l),n.state.loading|=4,Pu(d,a.precedence,e),n.instance=d;case"script":return d=Ds(a.src),(h=e.querySelector(Fl(d)))?(n.instance=h,Wt(h),h):(l=a,(h=On.get(d))&&(l=D({},a),Bf(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),Wt(h),ke(h,"link",l),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&!(n.state.loading&4)&&(l=n.instance,n.state.loading|=4,Pu(l,a.precedence,e));return n.instance}function Pu(e,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===n)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function jf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Bf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var ku=null;function Ry(e,n,a){if(ku===null){var l=new Map,h=ku=new Map;h.set(a,l)}else h=ku,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[ir]||d[De]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(n)||"";_=e+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function Cy(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function nb(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Dy(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var Gl=null;function ib(){}function rb(e,n,a){if(Gl===null)throw Error(s(475));var l=Gl;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var h=Cs(a.href),d=e.querySelector(Hl(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=zu.bind(l),e.then(l,l)),n.state.loading|=4,n.instance=d,Wt(d);return}d=e.ownerDocument||e,a=Sy(a),(h=On.get(h))&&jf(a,h),d=d.createElement("link"),Wt(d);var _=d;_._p=new Promise(function(T,C){_.onload=T,_.onerror=C}),ke(d,"link",a),n.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(l.count++,n=zu.bind(l),e.addEventListener("load",n),e.addEventListener("error",n))}}function ab(){if(Gl===null)throw Error(s(475));var e=Gl;return e.stylesheets&&e.count===0&&qf(e,e.stylesheets),0<e.count?function(n){var a=setTimeout(function(){if(e.stylesheets&&qf(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a)}}:null}function zu(){if(this.count--,this.count===0){if(this.stylesheets)qf(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ju=null;function qf(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ju=new Map,n.forEach(sb,e),ju=null,zu.call(e))}function sb(e,n){if(!(n.state.loading&4)){var a=ju.get(e);if(a)var l=a.get(null);else{a=new Map,ju.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=n.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=zu.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var Ql={$$typeof:I,Provider:null,Consumer:null,_currentValue:Rt,_currentValue2:Rt,_threadCount:0};function lb(e,n,a,l,h,d,_,T){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ha(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ha(0),this.hiddenUpdates=Ha(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function xy(e,n,a,l,h,d,_,T,C,L,$,tt){return e=new lb(e,n,a,_,T,C,L,tt),n=1,d===!0&&(n|=24),d=Nn(3,null,null,n),e.current=d,d.stateNode=e,n=_h(),n.refCount++,e.pooledCache=n,n.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:n},Jh(d),e}function Iy(e){return e?(e=ss,e):ss}function Ny(e,n,a,l,h,d){h=Iy(h),l.context===null?l.context=h:l.pendingContext=h,l=vr(n),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=_r(e,l,n),a!==null&&(Je(a,e,n),xl(a,e,n))}function Vy(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Hf(e,n){Vy(e,n),(e=e.alternate)&&Vy(e,n)}function Oy(e){if(e.tag===13){var n=hr(e,67108864);n!==null&&Je(n,e,67108864),Hf(e,67108864)}}var Bu=!0;function ob(e,n,a,l){var h=A.T;A.T=null;var d=ot.p;try{ot.p=2,Ff(e,n,a,l)}finally{ot.p=d,A.T=h}}function ub(e,n,a,l){var h=A.T;A.T=null;var d=ot.p;try{ot.p=8,Ff(e,n,a,l)}finally{ot.p=d,A.T=h}}function Ff(e,n,a,l){if(Bu){var h=Gf(l);if(h===null)Vf(e,n,l,qu,a),Uy(e,l);else if(hb(h,e,n,a,l))l.stopPropagation();else if(Uy(e,l),n&4&&-1<cb.indexOf(e)){for(;h!==null;){var d=_i(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=Pn(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var C=1<<31-$e(_);T.entanglements[1]|=C,_&=~C}ai(d),!(te&6)&&(wu=nn()+500,jl(0))}}break;case 13:T=hr(d,2),T!==null&&Je(T,d,2),Du(),Hf(d,2)}if(d=Gf(l),d===null&&Vf(e,n,l,qu,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Vf(e,n,l,null,a)}}function Gf(e){return e=Ya(e),Qf(e)}var qu=null;function Qf(e){if(qu=null,e=kn(e),e!==null){var n=gt(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=qt(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return qu=e,null}function My(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Co()){case ve:return 2;case Ce:return 8;case yi:case Do:return 32;case Ys:return 268435456;default:return 32}default:return 32}}var Kf=!1,Rr=null,Cr=null,Dr=null,Kl=new Map,Yl=new Map,xr=[],cb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Uy(e,n){switch(e){case"focusin":case"focusout":Rr=null;break;case"dragenter":case"dragleave":Cr=null;break;case"mouseover":case"mouseout":Dr=null;break;case"pointerover":case"pointerout":Kl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yl.delete(n.pointerId)}}function $l(e,n,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},n!==null&&(n=_i(n),n!==null&&Oy(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function hb(e,n,a,l,h){switch(n){case"focusin":return Rr=$l(Rr,e,n,a,l,h),!0;case"dragenter":return Cr=$l(Cr,e,n,a,l,h),!0;case"mouseover":return Dr=$l(Dr,e,n,a,l,h),!0;case"pointerover":var d=h.pointerId;return Kl.set(d,$l(Kl.get(d)||null,e,n,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Yl.set(d,$l(Yl.get(d)||null,e,n,a,l,h)),!0}return!1}function Ly(e){var n=kn(e.target);if(n!==null){var a=gt(n);if(a!==null){if(n=a.tag,n===13){if(n=qt(a),n!==null){e.blockedOn=n,nr(e.priority,function(){if(a.tag===13){var l=gn(),h=hr(a,l);h!==null&&Je(h,a,l),Hf(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Hu(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=Gf(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Tn=l,a.target.dispatchEvent(l),Tn=null}else return n=_i(a),n!==null&&Oy(n),e.blockedOn=a,!1;n.shift()}return!0}function Py(e,n,a){Hu(e)&&a.delete(n)}function fb(){Kf=!1,Rr!==null&&Hu(Rr)&&(Rr=null),Cr!==null&&Hu(Cr)&&(Cr=null),Dr!==null&&Hu(Dr)&&(Dr=null),Kl.forEach(Py),Yl.forEach(Py)}function Fu(e,n){e.blockedOn===n&&(e.blockedOn=null,Kf||(Kf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,fb)))}var Gu=null;function ky(e){Gu!==e&&(Gu=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Gu===e&&(Gu=null);for(var n=0;n<e.length;n+=3){var a=e[n],l=e[n+1],h=e[n+2];if(typeof l!="function"){if(Qf(l||a)===null)continue;break}var d=_i(a);d!==null&&(e.splice(n,3),n-=3,Uh(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Xl(e){function n(C){return Fu(C,e)}Rr!==null&&Fu(Rr,e),Cr!==null&&Fu(Cr,e),Dr!==null&&Fu(Dr,e),Kl.forEach(n),Yl.forEach(n);for(var a=0;a<xr.length;a++){var l=xr[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<xr.length&&(a=xr[0],a.blockedOn===null);)Ly(a),a.blockedOn===null&&xr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[_e]||null;if(typeof d=="function")_||ky(a);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[_e]||null)T=_.formAction;else if(Qf(h)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),ky(a)}}}function Yf(e){this._internalRoot=e}Qu.prototype.render=Yf.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=gn();Ny(a,l,e,n,null,null)},Qu.prototype.unmount=Yf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;e.tag===0&&As(),Ny(e.current,2,null,e,null,null),Du(),n[vi]=null}};function Qu(e){this._internalRoot=e}Qu.prototype.unstable_scheduleHydration=function(e){if(e){var n=Oo();e={blockedOn:null,target:e,priority:n};for(var a=0;a<xr.length&&n!==0&&n<xr[a].priority;a++);xr.splice(a,0,e),a===0&&Ly(e)}};var zy=t.version;if(zy!=="19.0.0")throw Error(s(527,zy,"19.0.0"));ot.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=nt(n),e=e!==null?ft(e):null,e=e===null?null:e.stateNode,e};var db={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:A,findFiberByHostInstance:kn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ku=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ku.isDisabled&&Ku.supportsFiber)try{Xi=Ku.inject(db),qe=Ku}catch{}}return Wl.createRoot=function(e,n){if(!o(e))throw Error(s(299));var a=!1,l="",h=np,d=ip,_=rp,T=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(T=n.unstable_transitionCallbacks)),n=xy(e,1,!1,null,null,a,l,h,d,_,T,null),e[vi]=n.current,Nf(e.nodeType===8?e.parentNode:e),new Yf(n)},Wl.hydrateRoot=function(e,n,a){if(!o(e))throw Error(s(299));var l=!1,h="",d=np,_=ip,T=rp,C=null,L=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(L=a.formState)),n=xy(e,1,!0,n,a??null,l,h,d,_,T,C,L),n.context=Iy(null),a=n.current,l=gn(),h=vr(l),h.callback=null,_r(a,h,l),n.current.lanes=l,oe(n,l),ai(n),e[vi]=n.current,Nf(e),new Qu(n)},Wl.version="19.0.0",Wl}var $y;function Ab(){if($y)return Zf.exports;$y=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Zf.exports=bb(),Zf.exports}var Sb=Ab(),Jl={},Xy;function wb(){if(Xy)return Jl;Xy=1,Object.defineProperty(Jl,"__esModule",{value:!0}),Jl.parse=f,Jl.serialize=y;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,c=(()=>{const R=function(){};return R.prototype=Object.create(null),R})();function f(R,I){const P=new c,q=R.length;if(q<2)return P;const V=(I==null?void 0:I.decode)||E;let K=0;do{const J=R.indexOf("=",K);if(J===-1)break;const X=R.indexOf(";",K),rt=X===-1?q:X;if(J>rt){K=R.lastIndexOf(";",J-1)+1;continue}const st=m(R,K,J),vt=p(R,J,st),U=R.slice(st,vt);if(P[U]===void 0){let w=m(R,J+1,rt),A=p(R,rt,w);const D=V(R.slice(w,A));P[U]=D}K=rt+1}while(K<q);return P}function m(R,I,P){do{const q=R.charCodeAt(I);if(q!==32&&q!==9)return I}while(++I<P);return P}function p(R,I,P){for(;I>P;){const q=R.charCodeAt(--I);if(q!==32&&q!==9)return I+1}return P}function y(R,I,P){const q=(P==null?void 0:P.encode)||encodeURIComponent;if(!r.test(R))throw new TypeError(`argument name is invalid: ${R}`);const V=q(I);if(!t.test(V))throw new TypeError(`argument val is invalid: ${I}`);let K=R+"="+V;if(!P)return K;if(P.maxAge!==void 0){if(!Number.isInteger(P.maxAge))throw new TypeError(`option maxAge is invalid: ${P.maxAge}`);K+="; Max-Age="+P.maxAge}if(P.domain){if(!i.test(P.domain))throw new TypeError(`option domain is invalid: ${P.domain}`);K+="; Domain="+P.domain}if(P.path){if(!s.test(P.path))throw new TypeError(`option path is invalid: ${P.path}`);K+="; Path="+P.path}if(P.expires){if(!S(P.expires)||!Number.isFinite(P.expires.valueOf()))throw new TypeError(`option expires is invalid: ${P.expires}`);K+="; Expires="+P.expires.toUTCString()}if(P.httpOnly&&(K+="; HttpOnly"),P.secure&&(K+="; Secure"),P.partitioned&&(K+="; Partitioned"),P.priority)switch(typeof P.priority=="string"?P.priority.toLowerCase():void 0){case"low":K+="; Priority=Low";break;case"medium":K+="; Priority=Medium";break;case"high":K+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${P.priority}`)}if(P.sameSite)switch(typeof P.sameSite=="string"?P.sameSite.toLowerCase():P.sameSite){case!0:case"strict":K+="; SameSite=Strict";break;case"lax":K+="; SameSite=Lax";break;case"none":K+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${P.sameSite}`)}return K}function E(R){if(R.indexOf("%")===-1)return R;try{return decodeURIComponent(R)}catch{return R}}function S(R){return o.call(R)==="[object Date]"}return Jl}wb();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Zy="popstate";function Rb(r={}){function t(o,c){let{pathname:f="/",search:m="",hash:p=""}=Ua(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),md("",{pathname:f,search:m,hash:p},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function i(o,c){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let p=o.location.href,y=p.indexOf("#");m=y===-1?p:p.slice(0,y)}return m+"#"+(typeof c=="string"?c:ho(c))}function s(o,c){Hn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return Db(t,i,s,r)}function ee(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function Hn(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Cb(){return Math.random().toString(36).substring(2,10)}function Wy(r,t){return{usr:r.state,key:r.key,idx:t}}function md(r,t,i=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?Ua(t):t,state:i,key:t&&t.key||s||Cb()}}function ho({pathname:r="/",search:t="",hash:i=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function Ua(r){let t={};if(r){let i=r.indexOf("#");i>=0&&(t.hash=r.substring(i),r=r.substring(0,i));let s=r.indexOf("?");s>=0&&(t.search=r.substring(s),r=r.substring(0,s)),r&&(t.pathname=r)}return t}function Db(r,t,i,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,f=o.history,m="POP",p=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function S(){m="POP";let V=E(),K=V==null?null:V-y;y=V,p&&p({action:m,location:q.location,delta:K})}function R(V,K){m="PUSH";let J=md(q.location,V,K);i&&i(J,V),y=E()+1;let X=Wy(J,y),rt=q.createHref(J);try{f.pushState(X,"",rt)}catch(st){if(st instanceof DOMException&&st.name==="DataCloneError")throw st;o.location.assign(rt)}c&&p&&p({action:m,location:q.location,delta:1})}function I(V,K){m="REPLACE";let J=md(q.location,V,K);i&&i(J,V),y=E();let X=Wy(J,y),rt=q.createHref(J);f.replaceState(X,"",rt),c&&p&&p({action:m,location:q.location,delta:0})}function P(V){let K=o.location.origin!=="null"?o.location.origin:o.location.href,J=typeof V=="string"?V:ho(V);return J=J.replace(/ $/,"%20"),ee(K,`No window.location.(origin|href) available to create URL for href: ${J}`),new URL(J,K)}let q={get action(){return m},get location(){return r(o,f)},listen(V){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Zy,S),p=V,()=>{o.removeEventListener(Zy,S),p=null}},createHref(V){return t(o,V)},createURL:P,encodeLocation(V){let K=P(V);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:R,replace:I,go(V){return f.go(V)}};return q}function __(r,t,i="/"){return xb(r,t,i,!1)}function xb(r,t,i,s){let o=typeof t=="string"?Ua(t):t,c=Pr(o.pathname||"/",i);if(c==null)return null;let f=E_(r);Ib(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let y=Bb(c);m=zb(f[p],y,s)}return m}function E_(r,t=[],i=[],s=""){let o=(c,f,m)=>{let p={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};p.relativePath.startsWith("/")&&(ee(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let y=Hi([s,p.relativePath]),E=i.concat(p);c.children&&c.children.length>0&&(ee(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),E_(c.children,t,E,y)),!(c.path==null&&!c.index)&&t.push({path:y,score:Pb(y,c.index),routesMeta:E})};return r.forEach((c,f)=>{var m;if(c.path===""||!((m=c.path)!=null&&m.includes("?")))o(c,f);else for(let p of T_(c.path))o(c,f,p)}),t}function T_(r){let t=r.split("/");if(t.length===0)return[];let[i,...s]=t,o=i.endsWith("?"),c=i.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let f=T_(s.join("/")),m=[];return m.push(...f.map(p=>p===""?c:[c,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function Ib(r){r.sort((t,i)=>t.score!==i.score?i.score-t.score:kb(t.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var Nb=/^:[\w-]+$/,Vb=3,Ob=2,Mb=1,Ub=10,Lb=-2,Jy=r=>r==="*";function Pb(r,t){let i=r.split("/"),s=i.length;return i.some(Jy)&&(s+=Lb),t&&(s+=Ob),i.filter(o=>!Jy(o)).reduce((o,c)=>o+(Nb.test(c)?Vb:c===""?Mb:Ub),s)}function kb(r,t){return r.length===t.length&&r.slice(0,-1).every((s,o)=>s===t[o])?r[r.length-1]-t[t.length-1]:0}function zb(r,t,i=!1){let{routesMeta:s}=r,o={},c="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],y=m===s.length-1,E=c==="/"?t:t.slice(c.length)||"/",S=uc({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},E),R=p.route;if(!S&&y&&i&&!s[s.length-1].route.index&&(S=uc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!S)return null;Object.assign(o,S.params),f.push({params:o,pathname:Hi([c,S.pathname]),pathnameBase:Gb(Hi([c,S.pathnameBase])),route:R}),S.pathnameBase!=="/"&&(c=Hi([c,S.pathnameBase]))}return f}function uc(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[i,s]=jb(r.path,r.caseSensitive,r.end),o=t.match(i);if(!o)return null;let c=o[0],f=c.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:S},R)=>{if(E==="*"){let P=m[R]||"";f=c.slice(0,c.length-P.length).replace(/(.)\/+$/,"$1")}const I=m[R];return S&&!I?y[E]=void 0:y[E]=(I||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:f,pattern:r}}function jb(r,t=!1,i=!0){Hn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function Bb(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Hn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function Pr(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,s=r.charAt(i);return s&&s!=="/"?null:r.slice(i)||"/"}function qb(r,t="/"){let{pathname:i,search:s="",hash:o=""}=typeof r=="string"?Ua(r):r;return{pathname:i?i.startsWith("/")?i:Hb(i,t):t,search:Qb(s),hash:Kb(o)}}function Hb(r,t){let i=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function ed(r,t,i,s){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Fb(r){return r.filter((t,i)=>i===0||t.route.path&&t.route.path.length>0)}function b_(r){let t=Fb(r);return t.map((i,s)=>s===t.length-1?i.pathname:i.pathnameBase)}function A_(r,t,i,s=!1){let o;typeof r=="string"?o=Ua(r):(o={...r},ee(!o.pathname||!o.pathname.includes("?"),ed("?","pathname","search",o)),ee(!o.pathname||!o.pathname.includes("#"),ed("#","pathname","hash",o)),ee(!o.search||!o.search.includes("#"),ed("#","search","hash",o)));let c=r===""||o.pathname==="",f=c?"/":o.pathname,m;if(f==null)m=i;else{let S=t.length-1;if(!s&&f.startsWith("..")){let R=f.split("/");for(;R[0]==="..";)R.shift(),S-=1;o.pathname=R.join("/")}m=S>=0?t[S]:"/"}let p=qb(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(c||f===".")&&i.endsWith("/");return!p.pathname.endsWith("/")&&(y||E)&&(p.pathname+="/"),p}var Hi=r=>r.join("/").replace(/\/\/+/g,"/"),Gb=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Qb=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Kb=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Yb(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var S_=["POST","PUT","PATCH","DELETE"];new Set(S_);var $b=["GET",...S_];new Set($b);var Bs=G.createContext(null);Bs.displayName="DataRouter";var Rc=G.createContext(null);Rc.displayName="DataRouterState";var w_=G.createContext({isTransitioning:!1});w_.displayName="ViewTransition";var Xb=G.createContext(new Map);Xb.displayName="Fetchers";var Zb=G.createContext(null);Zb.displayName="Await";var di=G.createContext(null);di.displayName="Navigation";var Eo=G.createContext(null);Eo.displayName="Location";var mi=G.createContext({outlet:null,matches:[],isDataRoute:!1});mi.displayName="Route";var Gd=G.createContext(null);Gd.displayName="RouteError";function Wb(r,{relative:t}={}){ee(To(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=G.useContext(di),{hash:o,pathname:c,search:f}=bo(r,{relative:t}),m=c;return i!=="/"&&(m=c==="/"?i:Hi([i,c])),s.createHref({pathname:m,search:f,hash:o})}function To(){return G.useContext(Eo)!=null}function La(){return ee(To(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(Eo).location}var R_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function C_(r){G.useContext(di).static||G.useLayoutEffect(r)}function Jb(){let{isDataRoute:r}=G.useContext(mi);return r?dA():tA()}function tA(){ee(To(),"useNavigate() may be used only in the context of a <Router> component.");let r=G.useContext(Bs),{basename:t,navigator:i}=G.useContext(di),{matches:s}=G.useContext(mi),{pathname:o}=La(),c=JSON.stringify(b_(s)),f=G.useRef(!1);return C_(()=>{f.current=!0}),G.useCallback((p,y={})=>{if(Hn(f.current,R_),!f.current)return;if(typeof p=="number"){i.go(p);return}let E=A_(p,JSON.parse(c),o,y.relative==="path");r==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:Hi([t,E.pathname])),(y.replace?i.replace:i.push)(E,y.state,y)},[t,i,c,o,r])}G.createContext(null);function eA(){let{matches:r}=G.useContext(mi),t=r[r.length-1];return t?t.params:{}}function bo(r,{relative:t}={}){let{matches:i}=G.useContext(mi),{pathname:s}=La(),o=JSON.stringify(b_(i));return G.useMemo(()=>A_(r,JSON.parse(o),s,t==="path"),[r,o,s,t])}function nA(r,t){return D_(r,t)}function D_(r,t,i,s){var J;ee(To(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:c}=G.useContext(di),{matches:f}=G.useContext(mi),m=f[f.length-1],p=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",S=m&&m.route;{let X=S&&S.path||"";x_(y,!S||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let R=La(),I;if(t){let X=typeof t=="string"?Ua(t):t;ee(E==="/"||((J=X.pathname)==null?void 0:J.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${X.pathname}" was given in the \`location\` prop.`),I=X}else I=R;let P=I.pathname||"/",q=P;if(E!=="/"){let X=E.replace(/^\//,"").split("/");q="/"+P.replace(/^\//,"").split("/").slice(X.length).join("/")}let V=!c&&i&&i.matches&&i.matches.length>0?i.matches:__(r,{pathname:q});Hn(S||V!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),Hn(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let K=lA(V&&V.map(X=>Object.assign({},X,{params:Object.assign({},p,X.params),pathname:Hi([E,o.encodeLocation?o.encodeLocation(X.pathname).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?E:Hi([E,o.encodeLocation?o.encodeLocation(X.pathnameBase).pathname:X.pathnameBase])})),f,i,s);return t&&K?G.createElement(Eo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...I},navigationType:"POP"}},K):K}function iA(){let r=fA(),t=Yb(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),i=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=G.createElement(G.Fragment,null,G.createElement("p",null,"💿 Hey developer 👋"),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:c},"ErrorBoundary")," or"," ",G.createElement("code",{style:c},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},t),i?G.createElement("pre",{style:o},i):null,f)}var rA=G.createElement(iA,null),aA=class extends G.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){console.error("React Router caught the following error during render",r,t)}render(){return this.state.error!==void 0?G.createElement(mi.Provider,{value:this.props.routeContext},G.createElement(Gd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function sA({routeContext:r,match:t,children:i}){let s=G.useContext(Bs);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),G.createElement(mi.Provider,{value:r},i)}function lA(r,t=[],i=null,s=null){if(r==null){if(!i)return null;if(i.errors)r=i.matches;else if(t.length===0&&!i.initialized&&i.matches.length>0)r=i.matches;else return null}let o=r,c=i==null?void 0:i.errors;if(c!=null){let p=o.findIndex(y=>y.route.id&&(c==null?void 0:c[y.route.id])!==void 0);ee(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(i)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=p),y.route.id){let{loaderData:E,errors:S}=i,R=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!S||S[y.route.id]===void 0);if(y.route.lazy||R){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,y,E)=>{let S,R=!1,I=null,P=null;i&&(S=c&&y.route.id?c[y.route.id]:void 0,I=y.route.errorElement||rA,f&&(m<0&&E===0?(x_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,P=null):m===E&&(R=!0,P=y.route.hydrateFallbackElement||null)));let q=t.concat(o.slice(0,E+1)),V=()=>{let K;return S?K=I:R?K=P:y.route.Component?K=G.createElement(y.route.Component,null):y.route.element?K=y.route.element:K=p,G.createElement(sA,{match:y,routeContext:{outlet:p,matches:q,isDataRoute:i!=null},children:K})};return i&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?G.createElement(aA,{location:i.location,revalidation:i.revalidation,component:I,error:S,children:V(),routeContext:{outlet:null,matches:q,isDataRoute:!0}}):V()},null)}function Qd(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function oA(r){let t=G.useContext(Bs);return ee(t,Qd(r)),t}function uA(r){let t=G.useContext(Rc);return ee(t,Qd(r)),t}function cA(r){let t=G.useContext(mi);return ee(t,Qd(r)),t}function Kd(r){let t=cA(r),i=t.matches[t.matches.length-1];return ee(i.route.id,`${r} can only be used on routes that contain a unique "id"`),i.route.id}function hA(){return Kd("useRouteId")}function fA(){var s;let r=G.useContext(Gd),t=uA("useRouteError"),i=Kd("useRouteError");return r!==void 0?r:(s=t.errors)==null?void 0:s[i]}function dA(){let{router:r}=oA("useNavigate"),t=Kd("useNavigate"),i=G.useRef(!1);return C_(()=>{i.current=!0}),G.useCallback(async(o,c={})=>{Hn(i.current,R_),i.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:t,...c}))},[r,t])}var tv={};function x_(r,t,i){!t&&!tv[r]&&(tv[r]=!0,Hn(!1,i))}G.memo(mA);function mA({routes:r,future:t,state:i}){return D_(r,void 0,i,t)}function gd(r){ee(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function gA({basename:r="/",children:t=null,location:i,navigationType:s="POP",navigator:o,static:c=!1}){ee(!To(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=G.useMemo(()=>({basename:f,navigator:o,static:c,future:{}}),[f,o,c]);typeof i=="string"&&(i=Ua(i));let{pathname:p="/",search:y="",hash:E="",state:S=null,key:R="default"}=i,I=G.useMemo(()=>{let P=Pr(p,f);return P==null?null:{location:{pathname:P,search:y,hash:E,state:S,key:R},navigationType:s}},[f,p,y,E,S,R,s]);return Hn(I!=null,`<Router basename="${f}"> is not able to match the URL "${p}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:G.createElement(di.Provider,{value:m},G.createElement(Eo.Provider,{children:t,value:I}))}function pA({children:r,location:t}){return nA(pd(r),t)}function pd(r,t=[]){let i=[];return G.Children.forEach(r,(s,o)=>{if(!G.isValidElement(s))return;let c=[...t,o];if(s.type===G.Fragment){i.push.apply(i,pd(s.props.children,c));return}ee(s.type===gd,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ee(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=pd(s.props.children,c)),i.push(f)}),i}var ec="get",nc="application/x-www-form-urlencoded";function Cc(r){return r!=null&&typeof r.tagName=="string"}function yA(r){return Cc(r)&&r.tagName.toLowerCase()==="button"}function vA(r){return Cc(r)&&r.tagName.toLowerCase()==="form"}function _A(r){return Cc(r)&&r.tagName.toLowerCase()==="input"}function EA(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function TA(r,t){return r.button===0&&(!t||t==="_self")&&!EA(r)}var Yu=null;function bA(){if(Yu===null)try{new FormData(document.createElement("form"),0),Yu=!1}catch{Yu=!0}return Yu}var AA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function nd(r){return r!=null&&!AA.has(r)?(Hn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${nc}"`),null):r}function SA(r,t){let i,s,o,c,f;if(vA(r)){let m=r.getAttribute("action");s=m?Pr(m,t):null,i=r.getAttribute("method")||ec,o=nd(r.getAttribute("enctype"))||nc,c=new FormData(r)}else if(yA(r)||_A(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?Pr(p,t):null,i=r.getAttribute("formmethod")||m.getAttribute("method")||ec,o=nd(r.getAttribute("formenctype"))||nd(m.getAttribute("enctype"))||nc,c=new FormData(m,r),!bA()){let{name:y,type:E,value:S}=r;if(E==="image"){let R=y?`${y}.`:"";c.append(`${R}x`,"0"),c.append(`${R}y`,"0")}else y&&c.append(y,S)}}else{if(Cc(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=ec,s=null,o=nc,f=r}return c&&o==="text/plain"&&(f=c,c=void 0),{action:s,method:i.toLowerCase(),encType:o,formData:c,body:f}}function Yd(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}async function wA(r,t){if(r.id in t)return t[r.id];try{let i=await import(r.module);return t[r.id]=i,i}catch(i){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function RA(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function CA(r,t,i){let s=await Promise.all(r.map(async o=>{let c=t.routes[o.route.id];if(c){let f=await wA(c,i);return f.links?f.links():[]}return[]}));return NA(s.flat(1).filter(RA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function ev(r,t,i,s,o,c){let f=(p,y)=>i[y]?p.route.id!==i[y].route.id:!0,m=(p,y)=>{var E;return i[y].pathname!==p.pathname||((E=i[y].route.path)==null?void 0:E.endsWith("*"))&&i[y].params["*"]!==p.params["*"]};return c==="assets"?t.filter((p,y)=>f(p,y)||m(p,y)):c==="data"?t.filter((p,y)=>{var S;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let R=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((S=i[0])==null?void 0:S.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof R=="boolean")return R}return!0}):[]}function DA(r,t){return xA(r.map(i=>{let s=t.routes[i.route.id];if(!s)return[];let o=[s.module];return s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function xA(r){return[...new Set(r)]}function IA(r){let t={},i=Object.keys(r).sort();for(let s of i)t[s]=r[s];return t}function NA(r,t){let i=new Set;return new Set(t),r.reduce((s,o)=>{let c=JSON.stringify(IA(o));return i.has(c)||(i.add(c),s.push({key:c,link:o})),s},[])}function VA(r){let t=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t.pathname==="/"?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function OA(){let r=G.useContext(Bs);return Yd(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function MA(){let r=G.useContext(Rc);return Yd(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var $d=G.createContext(void 0);$d.displayName="FrameworkContext";function I_(){let r=G.useContext($d);return Yd(r,"You must render this element inside a <HydratedRouter> element"),r}function UA(r,t){let i=G.useContext($d),[s,o]=G.useState(!1),[c,f]=G.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:E,onTouchStart:S}=t,R=G.useRef(null);G.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let q=K=>{K.forEach(J=>{f(J.isIntersecting)})},V=new IntersectionObserver(q,{threshold:.5});return R.current&&V.observe(R.current),()=>{V.disconnect()}}},[r]),G.useEffect(()=>{if(s){let q=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(q)}}},[s]);let I=()=>{o(!0)},P=()=>{o(!1),f(!1)};return i?r!=="intent"?[c,R,{}]:[c,R,{onFocus:to(m,I),onBlur:to(p,P),onMouseEnter:to(y,I),onMouseLeave:to(E,P),onTouchStart:to(S,I)}]:[!1,R,{}]}function to(r,t){return i=>{r&&r(i),i.defaultPrevented||t(i)}}function LA({page:r,...t}){let{router:i}=OA(),s=G.useMemo(()=>__(i.routes,r,i.basename),[i.routes,r,i.basename]);return s?G.createElement(kA,{page:r,matches:s,...t}):null}function PA(r){let{manifest:t,routeModules:i}=I_(),[s,o]=G.useState([]);return G.useEffect(()=>{let c=!1;return CA(r,t,i).then(f=>{c||o(f)}),()=>{c=!0}},[r,t,i]),s}function kA({page:r,matches:t,...i}){let s=La(),{manifest:o,routeModules:c}=I_(),{loaderData:f,matches:m}=MA(),p=G.useMemo(()=>ev(r,t,m,o,s,"data"),[r,t,m,o,s]),y=G.useMemo(()=>ev(r,t,m,o,s,"assets"),[r,t,m,o,s]),E=G.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let I=new Set,P=!1;if(t.forEach(V=>{var J;let K=o.routes[V.route.id];!K||!K.hasLoader||(!p.some(X=>X.route.id===V.route.id)&&V.route.id in f&&((J=c[V.route.id])!=null&&J.shouldRevalidate)||K.hasClientLoader?P=!0:I.add(V.route.id))}),I.size===0)return[];let q=VA(r);return P&&I.size>0&&q.searchParams.set("_routes",t.filter(V=>I.has(V.route.id)).map(V=>V.route.id).join(",")),[q.pathname+q.search]},[f,s,o,p,t,r,c]),S=G.useMemo(()=>DA(y,o),[y,o]),R=PA(y);return G.createElement(G.Fragment,null,E.map(I=>G.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...i})),S.map(I=>G.createElement("link",{key:I,rel:"modulepreload",href:I,...i})),R.map(({key:I,link:P})=>G.createElement("link",{key:I,...P})))}function zA(...r){return t=>{r.forEach(i=>{typeof i=="function"?i(t):i!=null&&(i.current=t)})}}var N_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{N_&&(window.__reactRouterVersion="7.1.5")}catch{}function jA({basename:r,children:t,window:i}){let s=G.useRef();s.current==null&&(s.current=Rb({window:i,v5Compat:!0}));let o=s.current,[c,f]=G.useState({action:o.action,location:o.location}),m=G.useCallback(p=>{G.startTransition(()=>f(p))},[f]);return G.useLayoutEffect(()=>o.listen(m),[o,m]),G.createElement(gA,{basename:r,children:t,location:c.location,navigationType:c.action,navigator:o})}var V_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xd=G.forwardRef(function({onClick:t,discover:i="render",prefetch:s="none",relative:o,reloadDocument:c,replace:f,state:m,target:p,to:y,preventScrollReset:E,viewTransition:S,...R},I){let{basename:P}=G.useContext(di),q=typeof y=="string"&&V_.test(y),V,K=!1;if(typeof y=="string"&&q&&(V=y,N_))try{let A=new URL(window.location.href),D=y.startsWith("//")?new URL(A.protocol+y):new URL(y),O=Pr(D.pathname,P);D.origin===A.origin&&O!=null?y=O+D.search+D.hash:K=!0}catch{Hn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let J=Wb(y,{relative:o}),[X,rt,st]=UA(s,R),vt=FA(y,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:S});function U(A){t&&t(A),A.defaultPrevented||vt(A)}let w=G.createElement("a",{...R,...st,href:V||J,onClick:K||c?t:U,ref:zA(I,rt),target:p,"data-discover":!q&&i==="render"?"true":void 0});return X&&!q?G.createElement(G.Fragment,null,w,G.createElement(LA,{page:J})):w});Xd.displayName="Link";var BA=G.forwardRef(function({"aria-current":t="page",caseSensitive:i=!1,className:s="",end:o=!1,style:c,to:f,viewTransition:m,children:p,...y},E){let S=bo(f,{relative:y.relative}),R=La(),I=G.useContext(Rc),{navigator:P,basename:q}=G.useContext(di),V=I!=null&&$A(S)&&m===!0,K=P.encodeLocation?P.encodeLocation(S).pathname:S.pathname,J=R.pathname,X=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;i||(J=J.toLowerCase(),X=X?X.toLowerCase():null,K=K.toLowerCase()),X&&q&&(X=Pr(X,q)||X);const rt=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let st=J===K||!o&&J.startsWith(K)&&J.charAt(rt)==="/",vt=X!=null&&(X===K||!o&&X.startsWith(K)&&X.charAt(K.length)==="/"),U={isActive:st,isPending:vt,isTransitioning:V},w=st?t:void 0,A;typeof s=="function"?A=s(U):A=[s,st?"active":null,vt?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let D=typeof c=="function"?c(U):c;return G.createElement(Xd,{...y,"aria-current":w,className:A,ref:E,style:D,to:f,viewTransition:m},typeof p=="function"?p(U):p)});BA.displayName="NavLink";var qA=G.forwardRef(({discover:r="render",fetcherKey:t,navigate:i,reloadDocument:s,replace:o,state:c,method:f=ec,action:m,onSubmit:p,relative:y,preventScrollReset:E,viewTransition:S,...R},I)=>{let P=KA(),q=YA(m,{relative:y}),V=f.toLowerCase()==="get"?"get":"post",K=typeof m=="string"&&V_.test(m),J=X=>{if(p&&p(X),X.defaultPrevented)return;X.preventDefault();let rt=X.nativeEvent.submitter,st=(rt==null?void 0:rt.getAttribute("formmethod"))||f;P(rt||X.currentTarget,{fetcherKey:t,method:st,navigate:i,replace:o,state:c,relative:y,preventScrollReset:E,viewTransition:S})};return G.createElement("form",{ref:I,method:V,action:q,onSubmit:s?p:J,...R,"data-discover":!K&&r==="render"?"true":void 0})});qA.displayName="Form";function HA(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function O_(r){let t=G.useContext(Bs);return ee(t,HA(r)),t}function FA(r,{target:t,replace:i,state:s,preventScrollReset:o,relative:c,viewTransition:f}={}){let m=Jb(),p=La(),y=bo(r,{relative:c});return G.useCallback(E=>{if(TA(E,t)){E.preventDefault();let S=i!==void 0?i:ho(p)===ho(y);m(r,{replace:S,state:s,preventScrollReset:o,relative:c,viewTransition:f})}},[p,m,y,i,s,t,r,o,c,f])}var GA=0,QA=()=>`__${String(++GA)}__`;function KA(){let{router:r}=O_("useSubmit"),{basename:t}=G.useContext(di),i=hA();return G.useCallback(async(s,o={})=>{let{action:c,method:f,encType:m,formData:p,body:y}=SA(s,t);if(o.navigate===!1){let E=o.fetcherKey||QA();await r.fetch(E,i,o.action||c,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,t,i])}function YA(r,{relative:t}={}){let{basename:i}=G.useContext(di),s=G.useContext(mi);ee(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...bo(r||".",{relative:t})},f=La();if(r==null){c.search=f.search;let m=new URLSearchParams(c.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(S=>S).forEach(S=>m.append("index",S));let E=m.toString();c.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(c.pathname=c.pathname==="/"?i:Hi([i,c.pathname])),ho(c)}function $A(r,t={}){let i=G.useContext(w_);ee(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=O_("useViewTransitionState"),o=bo(r,{relative:t.relative});if(!i.isTransitioning)return!1;let c=Pr(i.currentLocation.pathname,s)||i.currentLocation.pathname,f=Pr(i.nextLocation.pathname,s)||i.nextLocation.pathname;return uc(o.pathname,f)!=null||uc(o.pathname,c)!=null}new TextEncoder;var nv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_=function(r){const t=[];let i=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},XA=function(r){const t=[];let i=0,s=0;for(;i<r.length;){const o=r[i++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[i++];t[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[i++],f=r[i++],m=r[i++],p=((o&7)<<18|(c&63)<<12|(f&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const c=r[i++],f=r[i++];t[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|f&63)}}return t.join("")},U_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const c=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,E=c>>2,S=(c&3)<<4|m>>4;let R=(m&15)<<2|y>>6,I=y&63;p||(I=64,f||(R=64)),s.push(i[E],i[S],i[R],i[I])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(M_(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):XA(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const c=i[r.charAt(o++)],m=o<r.length?i[r.charAt(o)]:0;++o;const y=o<r.length?i[r.charAt(o)]:64;++o;const S=o<r.length?i[r.charAt(o)]:64;if(++o,c==null||m==null||y==null||S==null)throw new ZA;const R=c<<2|m>>4;if(s.push(R),y!==64){const I=m<<4&240|y>>2;if(s.push(I),S!==64){const P=y<<6&192|S;s.push(P)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class ZA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const WA=function(r){const t=M_(r);return U_.encodeByteArray(t,!0)},cc=function(r){return WA(r).replace(/\./g,"")},JA=function(r){try{return U_.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS=()=>tS().__FIREBASE_DEFAULTS__,nS=()=>{if(typeof process>"u"||typeof nv>"u")return;const r=nv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},iS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&JA(r[1]);return t&&JSON.parse(t)},Zd=()=>{try{return eS()||nS()||iS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},rS=r=>{var t,i;return(i=(t=Zd())===null||t===void 0?void 0:t.emulatorHosts)===null||i===void 0?void 0:i[r]},aS=r=>{const t=rS(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),s]:[t.substring(0,i),s]},L_=()=>{var r;return(r=Zd())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lS(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},r);return[cc(JSON.stringify(i)),cc(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oS(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uS(){var r;const t=(r=Zd())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function cS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function hS(){return!uS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function P_(){try{return typeof indexedDB=="object"}catch{return!1}}function k_(){return new Promise((r,t)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var c;t(((c=o.error)===null||c===void 0?void 0:c.message)||"")}}catch(i){t(i)}})}function fS(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS="FirebaseError";class Qr extends Error{constructor(t,i,s){super(i),this.code=t,this.customData=s,this.name=dS,Object.setPrototypeOf(this,Qr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dc.prototype.create)}}class Dc{constructor(t,i,s){this.service=t,this.serviceName=i,this.errors=s}create(t,...i){const s=i[0]||{},o=`${this.service}/${t}`,c=this.errors[t],f=c?mS(c,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Qr(o,m,s)}}function mS(r,t){return r.replace(gS,(i,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const gS=/\{\$([^}]+)}/g;function yd(r,t){if(r===t)return!0;const i=Object.keys(r),s=Object.keys(t);for(const o of i){if(!s.includes(o))return!1;const c=r[o],f=t[o];if(iv(c)&&iv(f)){if(!yd(c,f))return!1}else if(c!==f)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function iv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS=1e3,yS=2,vS=4*60*60*1e3,_S=.5;function rv(r,t=pS,i=yS){const s=t*Math.pow(i,r),o=Math.round(_S*s*(Math.random()-.5)*2);return Math.min(vS,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(r){return r&&r._delegate?r._delegate:r}class Fi{constructor(t,i,s){this.name=t,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const s=new sS;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){var i;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(i=t==null?void 0:t.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(o)return null;throw c}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(bS(t))try{this.getOrInitializeService({instanceIdentifier:Ca})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(t=Ca){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ca){return this.instances.has(t)}getOptions(t=Ca){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);s===m&&f.resolve(o)}return o}onInit(t,i){var s;const o=this.normalizeInstanceIdentifier(i),c=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;c.add(t),this.onInitCallbacks.set(o,c);const f=this.instances.get(o);return f&&t(f,o),()=>{c.delete(t)}}invokeOnInitCallbacks(t,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:TS(t),options:i}),this.instances.set(t,s),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Ca){return this.component?this.component.multipleInstances?t:Ca:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function TS(r){return r===Ca?void 0:r}function bS(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new ES(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pt||(Pt={}));const SS={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},wS=Pt.INFO,RS={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},CS=(r,t,...i)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=RS[t];if(o)console[o](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Wd{constructor(t){this.name=t,this._logLevel=wS,this._logHandler=CS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Pt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?SS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...t),this._logHandler(this,Pt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...t),this._logHandler(this,Pt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...t),this._logHandler(this,Pt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...t),this._logHandler(this,Pt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...t),this._logHandler(this,Pt.ERROR,...t)}}const DS=(r,t)=>t.some(i=>r instanceof i);let av,sv;function xS(){return av||(av=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function IS(){return sv||(sv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const z_=new WeakMap,vd=new WeakMap,j_=new WeakMap,id=new WeakMap,Jd=new WeakMap;function NS(r){const t=new Promise((i,s)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",f)},c=()=>{i(Vr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",f)});return t.then(i=>{i instanceof IDBCursor&&z_.set(i,r)}).catch(()=>{}),Jd.set(t,r),t}function VS(r){if(vd.has(r))return;const t=new Promise((i,s)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",f),r.removeEventListener("abort",f)},c=()=>{i(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",f),r.addEventListener("abort",f)});vd.set(r,t)}let _d={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return vd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||j_.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Vr(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function OS(r){_d=r(_d)}function MS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const s=r.call(rd(this),t,...i);return j_.set(s,t.sort?t.sort():[t]),Vr(s)}:IS().includes(r)?function(...t){return r.apply(rd(this),t),Vr(z_.get(this))}:function(...t){return Vr(r.apply(rd(this),t))}}function US(r){return typeof r=="function"?MS(r):(r instanceof IDBTransaction&&VS(r),DS(r,xS())?new Proxy(r,_d):r)}function Vr(r){if(r instanceof IDBRequest)return NS(r);if(id.has(r))return id.get(r);const t=US(r);return t!==r&&(id.set(r,t),Jd.set(t,r)),t}const rd=r=>Jd.get(r);function B_(r,t,{blocked:i,upgrade:s,blocking:o,terminated:c}={}){const f=indexedDB.open(r,t),m=Vr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Vr(f.result),p.oldVersion,p.newVersion,Vr(f.transaction),p)}),i&&f.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),m.then(p=>{c&&p.addEventListener("close",()=>c()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const LS=["get","getKey","getAll","getAllKeys","count"],PS=["put","add","delete","clear"],ad=new Map;function lv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(ad.get(t))return ad.get(t);const i=t.replace(/FromIndex$/,""),s=t!==i,o=PS.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||LS.includes(i)))return;const c=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[i](...m),o&&p.done]))[0]};return ad.set(t,c),c}OS(r=>({...r,get:(t,i,s)=>lv(t,i)||r.get(t,i,s),has:(t,i)=>!!lv(t,i)||r.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(zS(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function zS(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Ed="@firebase/app",ov="0.11.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi=new Wd("@firebase/app"),jS="@firebase/app-compat",BS="@firebase/analytics-compat",qS="@firebase/analytics",HS="@firebase/app-check-compat",FS="@firebase/app-check",GS="@firebase/auth",QS="@firebase/auth-compat",KS="@firebase/database",YS="@firebase/data-connect",$S="@firebase/database-compat",XS="@firebase/functions",ZS="@firebase/functions-compat",WS="@firebase/installations",JS="@firebase/installations-compat",tw="@firebase/messaging",ew="@firebase/messaging-compat",nw="@firebase/performance",iw="@firebase/performance-compat",rw="@firebase/remote-config",aw="@firebase/remote-config-compat",sw="@firebase/storage",lw="@firebase/storage-compat",ow="@firebase/firestore",uw="@firebase/vertexai",cw="@firebase/firestore-compat",hw="firebase",fw="11.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Td="[DEFAULT]",dw={[Ed]:"fire-core",[jS]:"fire-core-compat",[qS]:"fire-analytics",[BS]:"fire-analytics-compat",[FS]:"fire-app-check",[HS]:"fire-app-check-compat",[GS]:"fire-auth",[QS]:"fire-auth-compat",[KS]:"fire-rtdb",[YS]:"fire-data-connect",[$S]:"fire-rtdb-compat",[XS]:"fire-fn",[ZS]:"fire-fn-compat",[WS]:"fire-iid",[JS]:"fire-iid-compat",[tw]:"fire-fcm",[ew]:"fire-fcm-compat",[nw]:"fire-perf",[iw]:"fire-perf-compat",[rw]:"fire-rc",[aw]:"fire-rc-compat",[sw]:"fire-gcs",[lw]:"fire-gcs-compat",[ow]:"fire-fst",[cw]:"fire-fst-compat",[uw]:"fire-vertex","fire-js":"fire-js",[hw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hc=new Map,mw=new Map,bd=new Map;function uv(r,t){try{r.container.addComponent(t)}catch(i){Gi.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function kr(r){const t=r.name;if(bd.has(t))return Gi.debug(`There were multiple attempts to register component ${t}.`),!1;bd.set(t,r);for(const i of hc.values())uv(i,r);for(const i of mw.values())uv(i,r);return!0}function tm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function gw(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Or=new Dc("app","Firebase",pw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(t,i,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Fi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Or.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw=fw;function q_(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const s=Object.assign({name:Td,automaticDataCollectionEnabled:!1},t),o=s.name;if(typeof o!="string"||!o)throw Or.create("bad-app-name",{appName:String(o)});if(i||(i=L_()),!i)throw Or.create("no-options");const c=hc.get(o);if(c){if(yd(i,c.options)&&yd(s,c.config))return c;throw Or.create("duplicate-app",{appName:o})}const f=new AS(o);for(const p of bd.values())f.addComponent(p);const m=new yw(i,s,f);return hc.set(o,m),m}function _w(r=Td){const t=hc.get(r);if(!t&&r===Td&&L_())return q_();if(!t)throw Or.create("no-app",{appName:r});return t}function li(r,t,i){var s;let o=(s=dw[r])!==null&&s!==void 0?s:r;i&&(o+=`-${i}`);const c=o.match(/\s|\//),f=t.match(/\s|\//);if(c||f){const m=[`Unable to register library "${o}" with version "${t}":`];c&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),c&&f&&m.push("and"),f&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Gi.warn(m.join(" "));return}kr(new Fi(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew="firebase-heartbeat-database",Tw=1,fo="firebase-heartbeat-store";let sd=null;function H_(){return sd||(sd=B_(Ew,Tw,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(fo)}catch(i){console.warn(i)}}}}).catch(r=>{throw Or.create("idb-open",{originalErrorMessage:r.message})})),sd}async function bw(r){try{const i=(await H_()).transaction(fo),s=await i.objectStore(fo).get(F_(r));return await i.done,s}catch(t){if(t instanceof Qr)Gi.warn(t.message);else{const i=Or.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Gi.warn(i.message)}}}async function cv(r,t){try{const s=(await H_()).transaction(fo,"readwrite");await s.objectStore(fo).put(t,F_(r)),await s.done}catch(i){if(i instanceof Qr)Gi.warn(i.message);else{const s=Or.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Gi.warn(s.message)}}}function F_(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw=1024,Sw=30;class ww{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Cw(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=hv();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(f=>f.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>Sw){const f=Dw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Gi.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=hv(),{heartbeatsToSend:s,unsentEntries:o}=Rw(this._heartbeatsCache.heartbeats),c=cc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return Gi.warn(i),""}}}function hv(){return new Date().toISOString().substring(0,10)}function Rw(r,t=Aw){const i=[];let s=r.slice();for(const o of r){const c=i.find(f=>f.agent===o.agent);if(c){if(c.dates.push(o.date),fv(i)>t){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),fv(i)>t){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class Cw{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return P_()?k_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await bw(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return cv(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return cv(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function fv(r){return cc(JSON.stringify({version:2,heartbeats:r})).length}function Dw(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xw(r){kr(new Fi("platform-logger",t=>new kS(t),"PRIVATE")),kr(new Fi("heartbeat",t=>new ww(t),"PRIVATE")),li(Ed,ov,r),li(Ed,ov,"esm2017"),li("fire-js","")}xw("");var Iw="firebase",Nw="11.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */li(Iw,Nw,"app");const G_="@firebase/installations",em="0.6.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_=1e4,K_=`w:${em}`,Y_="FIS_v2",Vw="https://firebaseinstallations.googleapis.com/v1",Ow=60*60*1e3,Mw="installations",Uw="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Na=new Dc(Mw,Uw,Lw);function $_(r){return r instanceof Qr&&r.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X_({projectId:r}){return`${Vw}/projects/${r}/installations`}function Z_(r){return{token:r.token,requestStatus:2,expiresIn:kw(r.expiresIn),creationTime:Date.now()}}async function W_(r,t){const s=(await t.json()).error;return Na.create("request-failed",{requestName:r,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function J_({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function Pw(r,{refreshToken:t}){const i=J_(r);return i.append("Authorization",zw(t)),i}async function t0(r){const t=await r();return t.status>=500&&t.status<600?r():t}function kw(r){return Number(r.replace("s","000"))}function zw(r){return`${Y_} ${r}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jw({appConfig:r,heartbeatServiceProvider:t},{fid:i}){const s=X_(r),o=J_(r),c=t.getImmediate({optional:!0});if(c){const y=await c.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const f={fid:i,authVersion:Y_,appId:r.appId,sdkVersion:K_},m={method:"POST",headers:o,body:JSON.stringify(f)},p=await t0(()=>fetch(s,m));if(p.ok){const y=await p.json();return{fid:y.fid||i,registrationStatus:2,refreshToken:y.refreshToken,authToken:Z_(y.authToken)}}else throw await W_("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e0(r){return new Promise(t=>{setTimeout(t,r)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw=/^[cdef][\w-]{21}$/,Ad="";function Hw(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const i=Fw(r);return qw.test(i)?i:Ad}catch{return Ad}}function Fw(r){return Bw(r).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xc(r){return`${r.appName}!${r.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0=new Map;function i0(r,t){const i=xc(r);r0(i,t),Gw(i,t)}function r0(r,t){const i=n0.get(r);if(i)for(const s of i)s(t)}function Gw(r,t){const i=Qw();i&&i.postMessage({key:r,fid:t}),Kw()}let Da=null;function Qw(){return!Da&&"BroadcastChannel"in self&&(Da=new BroadcastChannel("[Firebase] FID Change"),Da.onmessage=r=>{r0(r.data.key,r.data.fid)}),Da}function Kw(){n0.size===0&&Da&&(Da.close(),Da=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw="firebase-installations-database",$w=1,Va="firebase-installations-store";let ld=null;function nm(){return ld||(ld=B_(Yw,$w,{upgrade:(r,t)=>{switch(t){case 0:r.createObjectStore(Va)}}})),ld}async function fc(r,t){const i=xc(r),o=(await nm()).transaction(Va,"readwrite"),c=o.objectStore(Va),f=await c.get(i);return await c.put(t,i),await o.done,(!f||f.fid!==t.fid)&&i0(r,t.fid),t}async function a0(r){const t=xc(r),s=(await nm()).transaction(Va,"readwrite");await s.objectStore(Va).delete(t),await s.done}async function Ic(r,t){const i=xc(r),o=(await nm()).transaction(Va,"readwrite"),c=o.objectStore(Va),f=await c.get(i),m=t(f);return m===void 0?await c.delete(i):await c.put(m,i),await o.done,m&&(!f||f.fid!==m.fid)&&i0(r,m.fid),m}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function im(r){let t;const i=await Ic(r.appConfig,s=>{const o=Xw(s),c=Zw(r,o);return t=c.registrationPromise,c.installationEntry});return i.fid===Ad?{installationEntry:await t}:{installationEntry:i,registrationPromise:t}}function Xw(r){const t=r||{fid:Hw(),registrationStatus:0};return s0(t)}function Zw(r,t){if(t.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Na.create("app-offline"));return{installationEntry:t,registrationPromise:o}}const i={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},s=Ww(r,i);return{installationEntry:i,registrationPromise:s}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:Jw(r)}:{installationEntry:t}}async function Ww(r,t){try{const i=await jw(r,t);return fc(r.appConfig,i)}catch(i){throw $_(i)&&i.customData.serverCode===409?await a0(r.appConfig):await fc(r.appConfig,{fid:t.fid,registrationStatus:0}),i}}async function Jw(r){let t=await dv(r.appConfig);for(;t.registrationStatus===1;)await e0(100),t=await dv(r.appConfig);if(t.registrationStatus===0){const{installationEntry:i,registrationPromise:s}=await im(r);return s||i}return t}function dv(r){return Ic(r,t=>{if(!t)throw Na.create("installation-not-found");return s0(t)})}function s0(r){return t1(r)?{fid:r.fid,registrationStatus:0}:r}function t1(r){return r.registrationStatus===1&&r.registrationTime+Q_<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e1({appConfig:r,heartbeatServiceProvider:t},i){const s=n1(r,i),o=Pw(r,i),c=t.getImmediate({optional:!0});if(c){const y=await c.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const f={installation:{sdkVersion:K_,appId:r.appId}},m={method:"POST",headers:o,body:JSON.stringify(f)},p=await t0(()=>fetch(s,m));if(p.ok){const y=await p.json();return Z_(y)}else throw await W_("Generate Auth Token",p)}function n1(r,{fid:t}){return`${X_(r)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rm(r,t=!1){let i;const s=await Ic(r.appConfig,c=>{if(!l0(c))throw Na.create("not-registered");const f=c.authToken;if(!t&&a1(f))return c;if(f.requestStatus===1)return i=i1(r,t),c;{if(!navigator.onLine)throw Na.create("app-offline");const m=l1(c);return i=r1(r,m),m}});return i?await i:s.authToken}async function i1(r,t){let i=await mv(r.appConfig);for(;i.authToken.requestStatus===1;)await e0(100),i=await mv(r.appConfig);const s=i.authToken;return s.requestStatus===0?rm(r,t):s}function mv(r){return Ic(r,t=>{if(!l0(t))throw Na.create("not-registered");const i=t.authToken;return o1(i)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function r1(r,t){try{const i=await e1(r,t),s=Object.assign(Object.assign({},t),{authToken:i});return await fc(r.appConfig,s),i}catch(i){if($_(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await a0(r.appConfig);else{const s=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await fc(r.appConfig,s)}throw i}}function l0(r){return r!==void 0&&r.registrationStatus===2}function a1(r){return r.requestStatus===2&&!s1(r)}function s1(r){const t=Date.now();return t<r.creationTime||r.creationTime+r.expiresIn<t+Ow}function l1(r){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},r),{authToken:t})}function o1(r){return r.requestStatus===1&&r.requestTime+Q_<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u1(r){const t=r,{installationEntry:i,registrationPromise:s}=await im(t);return s?s.catch(console.error):rm(t).catch(console.error),i.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c1(r,t=!1){const i=r;return await h1(i),(await rm(i,t)).token}async function h1(r){const{registrationPromise:t}=await im(r);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1(r){if(!r||!r.options)throw od("App Configuration");if(!r.name)throw od("App Name");const t=["projectId","apiKey","appId"];for(const i of t)if(!r.options[i])throw od(i);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function od(r){return Na.create("missing-app-config-values",{valueName:r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0="installations",d1="installations-internal",m1=r=>{const t=r.getProvider("app").getImmediate(),i=f1(t),s=tm(t,"heartbeat");return{app:t,appConfig:i,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},g1=r=>{const t=r.getProvider("app").getImmediate(),i=tm(t,o0).getImmediate();return{getId:()=>u1(i),getToken:o=>c1(i,o)}};function p1(){kr(new Fi(o0,m1,"PUBLIC")),kr(new Fi(d1,g1,"PRIVATE"))}p1();li(G_,em);li(G_,em,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv="analytics",y1="firebase_id",v1="origin",_1=60*1e3,E1="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",am="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on=new Wd("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Mn=new Dc("analytics","Analytics",T1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1(r){if(!r.startsWith(am)){const t=Mn.create("invalid-gtag-resource",{gtagURL:r});return on.warn(t.message),""}return r}function u0(r){return Promise.all(r.map(t=>t.catch(i=>i)))}function A1(r,t){let i;return window.trustedTypes&&(i=window.trustedTypes.createPolicy(r,t)),i}function S1(r,t){const i=A1("firebase-js-sdk-policy",{createScriptURL:b1}),s=document.createElement("script"),o=`${am}?l=${r}&id=${t}`;s.src=i?i==null?void 0:i.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function w1(r){let t=[];return Array.isArray(window[r])?t=window[r]:window[r]=t,t}async function R1(r,t,i,s,o,c){const f=s[o];try{if(f)await t[f];else{const p=(await u0(i)).find(y=>y.measurementId===o);p&&await t[p.appId]}}catch(m){on.error(m)}r("config",o,c)}async function C1(r,t,i,s,o){try{let c=[];if(o&&o.send_to){let f=o.send_to;Array.isArray(f)||(f=[f]);const m=await u0(i);for(const p of f){const y=m.find(S=>S.measurementId===p),E=y&&t[y.appId];if(E)c.push(E);else{c=[];break}}}c.length===0&&(c=Object.values(t)),await Promise.all(c),r("event",s,o||{})}catch(c){on.error(c)}}function D1(r,t,i,s){async function o(c,...f){try{if(c==="event"){const[m,p]=f;await C1(r,t,i,m,p)}else if(c==="config"){const[m,p]=f;await R1(r,t,i,s,m,p)}else if(c==="consent"){const[m,p]=f;r("consent",m,p)}else if(c==="get"){const[m,p,y]=f;r("get",m,p,y)}else if(c==="set"){const[m]=f;r("set",m)}else r(c,...f)}catch(m){on.error(m)}}return o}function x1(r,t,i,s,o){let c=function(...f){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(c=window[o]),window[o]=D1(c,r,t,i),{gtagCore:c,wrappedGtag:window[o]}}function I1(r){const t=window.document.getElementsByTagName("script");for(const i of Object.values(t))if(i.src&&i.src.includes(am)&&i.src.includes(r))return i;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1=30,V1=1e3;class O1{constructor(t={},i=V1){this.throttleMetadata=t,this.intervalMillis=i}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,i){this.throttleMetadata[t]=i}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const c0=new O1;function M1(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function U1(r){var t;const{appId:i,apiKey:s}=r,o={method:"GET",headers:M1(s)},c=E1.replace("{app-id}",i),f=await fetch(c,o);if(f.status!==200&&f.status!==304){let m="";try{const p=await f.json();!((t=p.error)===null||t===void 0)&&t.message&&(m=p.error.message)}catch{}throw Mn.create("config-fetch-failed",{httpStatus:f.status,responseMessage:m})}return f.json()}async function L1(r,t=c0,i){const{appId:s,apiKey:o,measurementId:c}=r.options;if(!s)throw Mn.create("no-app-id");if(!o){if(c)return{measurementId:c,appId:s};throw Mn.create("no-api-key")}const f=t.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new z1;return setTimeout(async()=>{m.abort()},_1),h0({appId:s,apiKey:o,measurementId:c},f,m,t)}async function h0(r,{throttleEndTimeMillis:t,backoffCount:i},s,o=c0){var c;const{appId:f,measurementId:m}=r;try{await P1(s,t)}catch(p){if(m)return on.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:f,measurementId:m};throw p}try{const p=await U1(r);return o.deleteThrottleMetadata(f),p}catch(p){const y=p;if(!k1(y)){if(o.deleteThrottleMetadata(f),m)return on.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${y==null?void 0:y.message}]`),{appId:f,measurementId:m};throw p}const E=Number((c=y==null?void 0:y.customData)===null||c===void 0?void 0:c.httpStatus)===503?rv(i,o.intervalMillis,N1):rv(i,o.intervalMillis),S={throttleEndTimeMillis:Date.now()+E,backoffCount:i+1};return o.setThrottleMetadata(f,S),on.debug(`Calling attemptFetch again in ${E} millis`),h0(r,S,s,o)}}function P1(r,t){return new Promise((i,s)=>{const o=Math.max(t-Date.now(),0),c=setTimeout(i,o);r.addEventListener(()=>{clearTimeout(c),s(Mn.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function k1(r){if(!(r instanceof Qr)||!r.customData)return!1;const t=Number(r.customData.httpStatus);return t===429||t===500||t===503||t===504}class z1{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function j1(r,t,i,s,o){if(o&&o.global){r("event",i,s);return}else{const c=await t,f=Object.assign(Object.assign({},s),{send_to:c});r("event",i,f)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B1(){if(P_())try{await k_()}catch(r){return on.warn(Mn.create("indexeddb-unavailable",{errorInfo:r==null?void 0:r.toString()}).message),!1}else return on.warn(Mn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function q1(r,t,i,s,o,c,f){var m;const p=L1(r);p.then(I=>{i[I.measurementId]=I.appId,r.options.measurementId&&I.measurementId!==r.options.measurementId&&on.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${I.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(I=>on.error(I)),t.push(p);const y=B1().then(I=>{if(I)return s.getId()}),[E,S]=await Promise.all([p,y]);I1(c)||S1(c,E.measurementId),o("js",new Date);const R=(m=f==null?void 0:f.config)!==null&&m!==void 0?m:{};return R[v1]="firebase",R.update=!0,S!=null&&(R[y1]=S),o("config",E.measurementId,R),E.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(t){this.app=t}_delete(){return delete so[this.app.options.appId],Promise.resolve()}}let so={},pv=[];const yv={};let ud="dataLayer",F1="gtag",vv,f0,_v=!1;function G1(){const r=[];if(cS()&&r.push("This is a browser extension environment."),fS()||r.push("Cookies are not available."),r.length>0){const t=r.map((s,o)=>`(${o+1}) ${s}`).join(" "),i=Mn.create("invalid-analytics-context",{errorInfo:t});on.warn(i.message)}}function Q1(r,t,i){G1();const s=r.options.appId;if(!s)throw Mn.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)on.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Mn.create("no-api-key");if(so[s]!=null)throw Mn.create("already-exists",{id:s});if(!_v){w1(ud);const{wrappedGtag:c,gtagCore:f}=x1(so,pv,yv,ud,F1);f0=c,vv=f,_v=!0}return so[s]=q1(r,pv,yv,t,vv,ud,i),new H1(r)}function K1(r,t,i,s){r=ci(r),j1(f0,so[r.app.options.appId],t,i,s).catch(o=>on.error(o))}const Ev="@firebase/analytics",Tv="0.10.11";function Y1(){kr(new Fi(gv,(t,{options:i})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("installations-internal").getImmediate();return Q1(s,o,i)},"PUBLIC")),kr(new Fi("analytics-internal",r,"PRIVATE")),li(Ev,Tv),li(Ev,Tv,"esm2017");function r(t){try{const i=t.getProvider(gv).getImmediate();return{logEvent:(s,o,c)=>K1(i,s,o,c)}}catch(i){throw Mn.create("interop-component-reg-failed",{reason:i})}}}Y1();var bv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Mr,d0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(U,w){function A(){}A.prototype=w.prototype,U.D=w.prototype,U.prototype=new A,U.prototype.constructor=U,U.C=function(D,O,z){for(var x=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)x[ye-2]=arguments[ye];return w.prototype[O].apply(D,x)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(U,w,A){A||(A=0);var D=Array(16);if(typeof w=="string")for(var O=0;16>O;++O)D[O]=w.charCodeAt(A++)|w.charCodeAt(A++)<<8|w.charCodeAt(A++)<<16|w.charCodeAt(A++)<<24;else for(O=0;16>O;++O)D[O]=w[A++]|w[A++]<<8|w[A++]<<16|w[A++]<<24;w=U.g[0],A=U.g[1],O=U.g[2];var z=U.g[3],x=w+(z^A&(O^z))+D[0]+3614090360&4294967295;w=A+(x<<7&4294967295|x>>>25),x=z+(O^w&(A^O))+D[1]+3905402710&4294967295,z=w+(x<<12&4294967295|x>>>20),x=O+(A^z&(w^A))+D[2]+606105819&4294967295,O=z+(x<<17&4294967295|x>>>15),x=A+(w^O&(z^w))+D[3]+3250441966&4294967295,A=O+(x<<22&4294967295|x>>>10),x=w+(z^A&(O^z))+D[4]+4118548399&4294967295,w=A+(x<<7&4294967295|x>>>25),x=z+(O^w&(A^O))+D[5]+1200080426&4294967295,z=w+(x<<12&4294967295|x>>>20),x=O+(A^z&(w^A))+D[6]+2821735955&4294967295,O=z+(x<<17&4294967295|x>>>15),x=A+(w^O&(z^w))+D[7]+4249261313&4294967295,A=O+(x<<22&4294967295|x>>>10),x=w+(z^A&(O^z))+D[8]+1770035416&4294967295,w=A+(x<<7&4294967295|x>>>25),x=z+(O^w&(A^O))+D[9]+2336552879&4294967295,z=w+(x<<12&4294967295|x>>>20),x=O+(A^z&(w^A))+D[10]+4294925233&4294967295,O=z+(x<<17&4294967295|x>>>15),x=A+(w^O&(z^w))+D[11]+2304563134&4294967295,A=O+(x<<22&4294967295|x>>>10),x=w+(z^A&(O^z))+D[12]+1804603682&4294967295,w=A+(x<<7&4294967295|x>>>25),x=z+(O^w&(A^O))+D[13]+4254626195&4294967295,z=w+(x<<12&4294967295|x>>>20),x=O+(A^z&(w^A))+D[14]+2792965006&4294967295,O=z+(x<<17&4294967295|x>>>15),x=A+(w^O&(z^w))+D[15]+1236535329&4294967295,A=O+(x<<22&4294967295|x>>>10),x=w+(O^z&(A^O))+D[1]+4129170786&4294967295,w=A+(x<<5&4294967295|x>>>27),x=z+(A^O&(w^A))+D[6]+3225465664&4294967295,z=w+(x<<9&4294967295|x>>>23),x=O+(w^A&(z^w))+D[11]+643717713&4294967295,O=z+(x<<14&4294967295|x>>>18),x=A+(z^w&(O^z))+D[0]+3921069994&4294967295,A=O+(x<<20&4294967295|x>>>12),x=w+(O^z&(A^O))+D[5]+3593408605&4294967295,w=A+(x<<5&4294967295|x>>>27),x=z+(A^O&(w^A))+D[10]+38016083&4294967295,z=w+(x<<9&4294967295|x>>>23),x=O+(w^A&(z^w))+D[15]+3634488961&4294967295,O=z+(x<<14&4294967295|x>>>18),x=A+(z^w&(O^z))+D[4]+3889429448&4294967295,A=O+(x<<20&4294967295|x>>>12),x=w+(O^z&(A^O))+D[9]+568446438&4294967295,w=A+(x<<5&4294967295|x>>>27),x=z+(A^O&(w^A))+D[14]+3275163606&4294967295,z=w+(x<<9&4294967295|x>>>23),x=O+(w^A&(z^w))+D[3]+4107603335&4294967295,O=z+(x<<14&4294967295|x>>>18),x=A+(z^w&(O^z))+D[8]+1163531501&4294967295,A=O+(x<<20&4294967295|x>>>12),x=w+(O^z&(A^O))+D[13]+2850285829&4294967295,w=A+(x<<5&4294967295|x>>>27),x=z+(A^O&(w^A))+D[2]+4243563512&4294967295,z=w+(x<<9&4294967295|x>>>23),x=O+(w^A&(z^w))+D[7]+1735328473&4294967295,O=z+(x<<14&4294967295|x>>>18),x=A+(z^w&(O^z))+D[12]+2368359562&4294967295,A=O+(x<<20&4294967295|x>>>12),x=w+(A^O^z)+D[5]+4294588738&4294967295,w=A+(x<<4&4294967295|x>>>28),x=z+(w^A^O)+D[8]+2272392833&4294967295,z=w+(x<<11&4294967295|x>>>21),x=O+(z^w^A)+D[11]+1839030562&4294967295,O=z+(x<<16&4294967295|x>>>16),x=A+(O^z^w)+D[14]+4259657740&4294967295,A=O+(x<<23&4294967295|x>>>9),x=w+(A^O^z)+D[1]+2763975236&4294967295,w=A+(x<<4&4294967295|x>>>28),x=z+(w^A^O)+D[4]+1272893353&4294967295,z=w+(x<<11&4294967295|x>>>21),x=O+(z^w^A)+D[7]+4139469664&4294967295,O=z+(x<<16&4294967295|x>>>16),x=A+(O^z^w)+D[10]+3200236656&4294967295,A=O+(x<<23&4294967295|x>>>9),x=w+(A^O^z)+D[13]+681279174&4294967295,w=A+(x<<4&4294967295|x>>>28),x=z+(w^A^O)+D[0]+3936430074&4294967295,z=w+(x<<11&4294967295|x>>>21),x=O+(z^w^A)+D[3]+3572445317&4294967295,O=z+(x<<16&4294967295|x>>>16),x=A+(O^z^w)+D[6]+76029189&4294967295,A=O+(x<<23&4294967295|x>>>9),x=w+(A^O^z)+D[9]+3654602809&4294967295,w=A+(x<<4&4294967295|x>>>28),x=z+(w^A^O)+D[12]+3873151461&4294967295,z=w+(x<<11&4294967295|x>>>21),x=O+(z^w^A)+D[15]+530742520&4294967295,O=z+(x<<16&4294967295|x>>>16),x=A+(O^z^w)+D[2]+3299628645&4294967295,A=O+(x<<23&4294967295|x>>>9),x=w+(O^(A|~z))+D[0]+4096336452&4294967295,w=A+(x<<6&4294967295|x>>>26),x=z+(A^(w|~O))+D[7]+1126891415&4294967295,z=w+(x<<10&4294967295|x>>>22),x=O+(w^(z|~A))+D[14]+2878612391&4294967295,O=z+(x<<15&4294967295|x>>>17),x=A+(z^(O|~w))+D[5]+4237533241&4294967295,A=O+(x<<21&4294967295|x>>>11),x=w+(O^(A|~z))+D[12]+1700485571&4294967295,w=A+(x<<6&4294967295|x>>>26),x=z+(A^(w|~O))+D[3]+2399980690&4294967295,z=w+(x<<10&4294967295|x>>>22),x=O+(w^(z|~A))+D[10]+4293915773&4294967295,O=z+(x<<15&4294967295|x>>>17),x=A+(z^(O|~w))+D[1]+2240044497&4294967295,A=O+(x<<21&4294967295|x>>>11),x=w+(O^(A|~z))+D[8]+1873313359&4294967295,w=A+(x<<6&4294967295|x>>>26),x=z+(A^(w|~O))+D[15]+4264355552&4294967295,z=w+(x<<10&4294967295|x>>>22),x=O+(w^(z|~A))+D[6]+2734768916&4294967295,O=z+(x<<15&4294967295|x>>>17),x=A+(z^(O|~w))+D[13]+1309151649&4294967295,A=O+(x<<21&4294967295|x>>>11),x=w+(O^(A|~z))+D[4]+4149444226&4294967295,w=A+(x<<6&4294967295|x>>>26),x=z+(A^(w|~O))+D[11]+3174756917&4294967295,z=w+(x<<10&4294967295|x>>>22),x=O+(w^(z|~A))+D[2]+718787259&4294967295,O=z+(x<<15&4294967295|x>>>17),x=A+(z^(O|~w))+D[9]+3951481745&4294967295,U.g[0]=U.g[0]+w&4294967295,U.g[1]=U.g[1]+(O+(x<<21&4294967295|x>>>11))&4294967295,U.g[2]=U.g[2]+O&4294967295,U.g[3]=U.g[3]+z&4294967295}s.prototype.u=function(U,w){w===void 0&&(w=U.length);for(var A=w-this.blockSize,D=this.B,O=this.h,z=0;z<w;){if(O==0)for(;z<=A;)o(this,U,z),z+=this.blockSize;if(typeof U=="string"){for(;z<w;)if(D[O++]=U.charCodeAt(z++),O==this.blockSize){o(this,D),O=0;break}}else for(;z<w;)if(D[O++]=U[z++],O==this.blockSize){o(this,D),O=0;break}}this.h=O,this.o+=w},s.prototype.v=function(){var U=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);U[0]=128;for(var w=1;w<U.length-8;++w)U[w]=0;var A=8*this.o;for(w=U.length-8;w<U.length;++w)U[w]=A&255,A/=256;for(this.u(U),U=Array(16),w=A=0;4>w;++w)for(var D=0;32>D;D+=8)U[A++]=this.g[w]>>>D&255;return U};function c(U,w){var A=m;return Object.prototype.hasOwnProperty.call(A,U)?A[U]:A[U]=w(U)}function f(U,w){this.h=w;for(var A=[],D=!0,O=U.length-1;0<=O;O--){var z=U[O]|0;D&&z==w||(A[O]=z,D=!1)}this.g=A}var m={};function p(U){return-128<=U&&128>U?c(U,function(w){return new f([w|0],0>w?-1:0)}):new f([U|0],0>U?-1:0)}function y(U){if(isNaN(U)||!isFinite(U))return S;if(0>U)return V(y(-U));for(var w=[],A=1,D=0;U>=A;D++)w[D]=U/A|0,A*=4294967296;return new f(w,0)}function E(U,w){if(U.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(U.charAt(0)=="-")return V(E(U.substring(1),w));if(0<=U.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=y(Math.pow(w,8)),D=S,O=0;O<U.length;O+=8){var z=Math.min(8,U.length-O),x=parseInt(U.substring(O,O+z),w);8>z?(z=y(Math.pow(w,z)),D=D.j(z).add(y(x))):(D=D.j(A),D=D.add(y(x)))}return D}var S=p(0),R=p(1),I=p(16777216);r=f.prototype,r.m=function(){if(q(this))return-V(this).m();for(var U=0,w=1,A=0;A<this.g.length;A++){var D=this.i(A);U+=(0<=D?D:4294967296+D)*w,w*=4294967296}return U},r.toString=function(U){if(U=U||10,2>U||36<U)throw Error("radix out of range: "+U);if(P(this))return"0";if(q(this))return"-"+V(this).toString(U);for(var w=y(Math.pow(U,6)),A=this,D="";;){var O=rt(A,w).g;A=K(A,O.j(w));var z=((0<A.g.length?A.g[0]:A.h)>>>0).toString(U);if(A=O,P(A))return z+D;for(;6>z.length;)z="0"+z;D=z+D}},r.i=function(U){return 0>U?0:U<this.g.length?this.g[U]:this.h};function P(U){if(U.h!=0)return!1;for(var w=0;w<U.g.length;w++)if(U.g[w]!=0)return!1;return!0}function q(U){return U.h==-1}r.l=function(U){return U=K(this,U),q(U)?-1:P(U)?0:1};function V(U){for(var w=U.g.length,A=[],D=0;D<w;D++)A[D]=~U.g[D];return new f(A,~U.h).add(R)}r.abs=function(){return q(this)?V(this):this},r.add=function(U){for(var w=Math.max(this.g.length,U.g.length),A=[],D=0,O=0;O<=w;O++){var z=D+(this.i(O)&65535)+(U.i(O)&65535),x=(z>>>16)+(this.i(O)>>>16)+(U.i(O)>>>16);D=x>>>16,z&=65535,x&=65535,A[O]=x<<16|z}return new f(A,A[A.length-1]&-2147483648?-1:0)};function K(U,w){return U.add(V(w))}r.j=function(U){if(P(this)||P(U))return S;if(q(this))return q(U)?V(this).j(V(U)):V(V(this).j(U));if(q(U))return V(this.j(V(U)));if(0>this.l(I)&&0>U.l(I))return y(this.m()*U.m());for(var w=this.g.length+U.g.length,A=[],D=0;D<2*w;D++)A[D]=0;for(D=0;D<this.g.length;D++)for(var O=0;O<U.g.length;O++){var z=this.i(D)>>>16,x=this.i(D)&65535,ye=U.i(O)>>>16,he=U.i(O)&65535;A[2*D+2*O]+=x*he,J(A,2*D+2*O),A[2*D+2*O+1]+=z*he,J(A,2*D+2*O+1),A[2*D+2*O+1]+=x*ye,J(A,2*D+2*O+1),A[2*D+2*O+2]+=z*ye,J(A,2*D+2*O+2)}for(D=0;D<w;D++)A[D]=A[2*D+1]<<16|A[2*D];for(D=w;D<2*w;D++)A[D]=0;return new f(A,0)};function J(U,w){for(;(U[w]&65535)!=U[w];)U[w+1]+=U[w]>>>16,U[w]&=65535,w++}function X(U,w){this.g=U,this.h=w}function rt(U,w){if(P(w))throw Error("division by zero");if(P(U))return new X(S,S);if(q(U))return w=rt(V(U),w),new X(V(w.g),V(w.h));if(q(w))return w=rt(U,V(w)),new X(V(w.g),w.h);if(30<U.g.length){if(q(U)||q(w))throw Error("slowDivide_ only works with positive integers.");for(var A=R,D=w;0>=D.l(U);)A=st(A),D=st(D);var O=vt(A,1),z=vt(D,1);for(D=vt(D,2),A=vt(A,2);!P(D);){var x=z.add(D);0>=x.l(U)&&(O=O.add(A),z=x),D=vt(D,1),A=vt(A,1)}return w=K(U,O.j(w)),new X(O,w)}for(O=S;0<=U.l(w);){for(A=Math.max(1,Math.floor(U.m()/w.m())),D=Math.ceil(Math.log(A)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),z=y(A),x=z.j(w);q(x)||0<x.l(U);)A-=D,z=y(A),x=z.j(w);P(z)&&(z=R),O=O.add(z),U=K(U,x)}return new X(O,U)}r.A=function(U){return rt(this,U).h},r.and=function(U){for(var w=Math.max(this.g.length,U.g.length),A=[],D=0;D<w;D++)A[D]=this.i(D)&U.i(D);return new f(A,this.h&U.h)},r.or=function(U){for(var w=Math.max(this.g.length,U.g.length),A=[],D=0;D<w;D++)A[D]=this.i(D)|U.i(D);return new f(A,this.h|U.h)},r.xor=function(U){for(var w=Math.max(this.g.length,U.g.length),A=[],D=0;D<w;D++)A[D]=this.i(D)^U.i(D);return new f(A,this.h^U.h)};function st(U){for(var w=U.g.length+1,A=[],D=0;D<w;D++)A[D]=U.i(D)<<1|U.i(D-1)>>>31;return new f(A,U.h)}function vt(U,w){var A=w>>5;w%=32;for(var D=U.g.length-A,O=[],z=0;z<D;z++)O[z]=0<w?U.i(z+A)>>>w|U.i(z+A+1)<<32-w:U.i(z+A);return new f(O,U.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,d0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,Mr=f}).apply(typeof bv<"u"?bv:typeof self<"u"?self:typeof window<"u"?window:{});var $u=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var m0,eo,g0,ic,Sd,p0,y0,v0;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,g,v){return u==Array.prototype||u==Object.prototype||(u[g]=v.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof $u=="object"&&$u];for(var g=0;g<u.length;++g){var v=u[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=i(this);function o(u,g){if(g)t:{var v=s;u=u.split(".");for(var b=0;b<u.length-1;b++){var j=u[b];if(!(j in v))break t;v=v[j]}u=u[u.length-1],b=v[u],g=g(b),g!=b&&g!=null&&t(v,u,{configurable:!0,writable:!0,value:g})}}function c(u,g){u instanceof String&&(u+="");var v=0,b=!1,j={next:function(){if(!b&&v<u.length){var Q=v++;return{value:g(Q,u[Q]),done:!1}}return b=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}o("Array.prototype.values",function(u){return u||function(){return c(this,function(g,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(u){var g=typeof u;return g=g!="object"?g:u?Array.isArray(u)?"array":g:"null",g=="array"||g=="object"&&typeof u.length=="number"}function y(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function E(u,g,v){return u.call.apply(u.bind,arguments)}function S(u,g,v){if(!u)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,b),u.apply(g,j)}}return function(){return u.apply(g,arguments)}}function R(u,g,v){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:S,R.apply(null,arguments)}function I(u,g){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function P(u,g){function v(){}v.prototype=g.prototype,u.aa=g.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(b,j,Q){for(var it=Array(arguments.length-2),Ot=2;Ot<arguments.length;Ot++)it[Ot-2]=arguments[Ot];return g.prototype[j].apply(b,it)}}function q(u){const g=u.length;if(0<g){const v=Array(g);for(let b=0;b<g;b++)v[b]=u[b];return v}return[]}function V(u,g){for(let v=1;v<arguments.length;v++){const b=arguments[v];if(p(b)){const j=u.length||0,Q=b.length||0;u.length=j+Q;for(let it=0;it<Q;it++)u[j+it]=b[it]}else u.push(b)}}class K{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function J(u){return/^[\s\xa0]*$/.test(u)}function X(){var u=m.navigator;return u&&(u=u.userAgent)?u:""}function rt(u){return rt[" "](u),u}rt[" "]=function(){};var st=X().indexOf("Gecko")!=-1&&!(X().toLowerCase().indexOf("webkit")!=-1&&X().indexOf("Edge")==-1)&&!(X().indexOf("Trident")!=-1||X().indexOf("MSIE")!=-1)&&X().indexOf("Edge")==-1;function vt(u,g,v){for(const b in u)g.call(v,u[b],b,u)}function U(u,g){for(const v in u)g.call(void 0,u[v],v,u)}function w(u){const g={};for(const v in u)g[v]=u[v];return g}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(u,g){let v,b;for(let j=1;j<arguments.length;j++){b=arguments[j];for(v in b)u[v]=b[v];for(let Q=0;Q<A.length;Q++)v=A[Q],Object.prototype.hasOwnProperty.call(b,v)&&(u[v]=b[v])}}function O(u){var g=1;u=u.split(":");const v=[];for(;0<g&&u.length;)v.push(u.shift()),g--;return u.length&&v.push(u.join(":")),v}function z(u){m.setTimeout(()=>{throw u},0)}function x(){var u=qt;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class ye{constructor(){this.h=this.g=null}add(g,v){const b=he.get();b.set(g,v),this.h?this.h.next=b:this.g=b,this.h=b}}var he=new K(()=>new at,u=>u.reset());class at{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let _t,gt=!1,qt=new ye,N=()=>{const u=m.Promise.resolve(void 0);_t=()=>{u.then(nt)}};var nt=()=>{for(var u;u=x();){try{u.h.call(u.g)}catch(v){z(v)}var g=he;g.j(u),100>g.h&&(g.h++,u.next=g.g,g.g=u)}gt=!1};function ft(){this.s=this.s,this.C=this.C}ft.prototype.s=!1,ft.prototype.ma=function(){this.s||(this.s=!0,this.N())},ft.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function lt(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}lt.prototype.h=function(){this.defaultPrevented=!0};var ot=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};m.addEventListener("test",v,g),m.removeEventListener("test",v,g)}catch{}return u}();function Rt(u,g){if(lt.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget){if(st){t:{try{rt(g.nodeName);var j=!0;break t}catch{}j=!1}j||(g=null)}}else v=="mouseover"?g=u.fromElement:v=="mouseout"&&(g=u.toElement);this.relatedTarget=g,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:St[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Rt.aa.h.call(this)}}P(Rt,lt);var St={2:"touch",3:"pen",4:"mouse"};Rt.prototype.h=function(){Rt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var fe="closure_listenable_"+(1e6*Math.random()|0),kt=0;function ie(u,g,v,b,j){this.listener=u,this.proxy=null,this.src=g,this.type=v,this.capture=!!b,this.ha=j,this.key=++kt,this.da=this.fa=!1}function Gt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ye(u){this.src=u,this.g={},this.h=0}Ye.prototype.add=function(u,g,v,b,j){var Q=u.toString();u=this.g[Q],u||(u=this.g[Q]=[],this.h++);var it=yn(u,g,b,j);return-1<it?(g=u[it],v||(g.fa=!1)):(g=new ie(g,this.src,Q,!!b,j),g.fa=v,u.push(g)),g};function gi(u,g){var v=g.type;if(v in u.g){var b=u.g[v],j=Array.prototype.indexOf.call(b,g,void 0),Q;(Q=0<=j)&&Array.prototype.splice.call(b,j,1),Q&&(Gt(g),u.g[v].length==0&&(delete u.g[v],u.h--))}}function yn(u,g,v,b){for(var j=0;j<u.length;++j){var Q=u[j];if(!Q.da&&Q.listener==g&&Q.capture==!!v&&Q.ha==b)return j}return-1}var Yi="closure_lm_"+(1e6*Math.random()|0),$i={};function pi(u,g,v,b,j){if(Array.isArray(g)){for(var Q=0;Q<g.length;Q++)pi(u,g[Q],v,b,j);return null}return v=Co(v),u&&u[fe]?u.K(g,v,y(b)?!!b.capture:!1,j):Qs(u,g,v,!1,b,j)}function Qs(u,g,v,b,j,Q){if(!g)throw Error("Invalid event type");var it=y(j)?!!j.capture:!!j,Ot=Ks(u);if(Ot||(u[Yi]=Ot=new Ye(u)),v=Ot.add(g,v,b,it,Q),v.proxy)return v;if(b=za(),v.proxy=b,b.src=u,b.listener=v,u.addEventListener)ot||(j=it),j===void 0&&(j=!1),u.addEventListener(g.toString(),b,j);else if(u.attachEvent)u.attachEvent(Ba(g.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function za(){function u(v){return g.call(u.src,u.listener,v)}const g=Xc;return u}function ja(u,g,v,b,j){if(Array.isArray(g))for(var Q=0;Q<g.length;Q++)ja(u,g[Q],v,b,j);else b=y(b)?!!b.capture:!!b,v=Co(v),u&&u[fe]?(u=u.i,g=String(g).toString(),g in u.g&&(Q=u.g[g],v=yn(Q,v,b,j),-1<v&&(Gt(Q[v]),Array.prototype.splice.call(Q,v,1),Q.length==0&&(delete u.g[g],u.h--)))):u&&(u=Ks(u))&&(g=u.g[g.toString()],u=-1,g&&(u=yn(g,v,b,j)),(v=-1<u?g[u]:null)&&$r(v))}function $r(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[fe])gi(g.i,u);else{var v=u.type,b=u.proxy;g.removeEventListener?g.removeEventListener(v,b,u.capture):g.detachEvent?g.detachEvent(Ba(v),b):g.addListener&&g.removeListener&&g.removeListener(b),(v=Ks(g))?(gi(v,u),v.h==0&&(v.src=null,g[Yi]=null)):Gt(u)}}}function Ba(u){return u in $i?$i[u]:$i[u]="on"+u}function Xc(u,g){if(u.da)u=!0;else{g=new Rt(g,this);var v=u.listener,b=u.ha||u.src;u.fa&&$r(u),u=v.call(b,g)}return u}function Ks(u){return u=u[Yi],u instanceof Ye?u:null}var nn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Co(u){return typeof u=="function"?u:(u[nn]||(u[nn]=function(g){return u.handleEvent(g)}),u[nn])}function ve(){ft.call(this),this.i=new Ye(this),this.M=this,this.F=null}P(ve,ft),ve.prototype[fe]=!0,ve.prototype.removeEventListener=function(u,g,v,b){ja(this,u,g,v,b)};function Ce(u,g){var v,b=u.F;if(b)for(v=[];b;b=b.F)v.push(b);if(u=u.M,b=g.type||g,typeof g=="string")g=new lt(g,u);else if(g instanceof lt)g.target=g.target||u;else{var j=g;g=new lt(b,u),D(g,j)}if(j=!0,v)for(var Q=v.length-1;0<=Q;Q--){var it=g.g=v[Q];j=yi(it,b,!0,g)&&j}if(it=g.g=u,j=yi(it,b,!0,g)&&j,j=yi(it,b,!1,g)&&j,v)for(Q=0;Q<v.length;Q++)it=g.g=v[Q],j=yi(it,b,!1,g)&&j}ve.prototype.N=function(){if(ve.aa.N.call(this),this.i){var u=this.i,g;for(g in u.g){for(var v=u.g[g],b=0;b<v.length;b++)Gt(v[b]);delete u.g[g],u.h--}}this.F=null},ve.prototype.K=function(u,g,v,b){return this.i.add(String(u),g,!1,v,b)},ve.prototype.L=function(u,g,v,b){return this.i.add(String(u),g,!0,v,b)};function yi(u,g,v,b){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();for(var j=!0,Q=0;Q<g.length;++Q){var it=g[Q];if(it&&!it.da&&it.capture==v){var Ot=it.listener,Ee=it.ha||it.src;it.fa&&gi(u.i,it),j=Ot.call(Ee,b)!==!1&&j}}return j&&!b.defaultPrevented}function Do(u,g,v){if(typeof u=="function")v&&(u=R(u,v));else if(u&&typeof u.handleEvent=="function")u=R(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(u,g||0)}function Ys(u){u.g=Do(()=>{u.g=null,u.i&&(u.i=!1,Ys(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class Zc extends ft{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Ys(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xr(u){ft.call(this),this.h=u,this.g={}}P(Xr,ft);var Xi=[];function qe(u){vt(u.g,function(g,v){this.g.hasOwnProperty(v)&&$r(g)},u),u.g={}}Xr.prototype.N=function(){Xr.aa.N.call(this),qe(this)},Xr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $s=m.JSON.stringify,Fn=m.JSON.parse,$e=class{stringify(u){return m.JSON.stringify(u,void 0)}parse(u){return m.JSON.parse(u,void 0)}};function Xs(){}Xs.prototype.h=null;function xo(u){return u.h||(u.h=u.i())}function Io(){}var Gn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Zi(){lt.call(this,"d")}P(Zi,lt);function Pn(){lt.call(this,"c")}P(Pn,lt);var vn={},Wi=null;function qa(){return Wi=Wi||new ve}vn.La="serverreachability";function Zs(u){lt.call(this,vn.La,u)}P(Zs,lt);function Ji(u){const g=qa();Ce(g,new Zs(g))}vn.STAT_EVENT="statevent";function Ha(u,g){lt.call(this,vn.STAT_EVENT,u),this.stat=g}P(Ha,lt);function oe(u){const g=qa();Ce(g,new Ha(g,u))}vn.Ma="timingevent";function No(u,g){lt.call(this,vn.Ma,u),this.size=g}P(No,lt);function tr(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){u()},g)}function er(){this.g=!0}er.prototype.xa=function(){this.g=!1};function Vo(u,g,v,b,j,Q){u.info(function(){if(u.g)if(Q)for(var it="",Ot=Q.split("&"),Ee=0;Ee<Ot.length;Ee++){var Mt=Ot[Ee].split("=");if(1<Mt.length){var Ie=Mt[0];Mt=Mt[1];var Te=Ie.split("_");it=2<=Te.length&&Te[1]=="type"?it+(Ie+"="+Mt+"&"):it+(Ie+"=redacted&")}}else it=null;else it=Q;return"XMLHTTP REQ ("+b+") [attempt "+j+"]: "+g+`
`+v+`
`+it})}function Oo(u,g,v,b,j,Q,it){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+j+"]: "+g+`
`+v+`
`+Q+" "+it})}function nr(u,g,v,b){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+De(u,v)+(b?" "+b:"")})}function Qn(u,g){u.info(function(){return"TIMEOUT: "+g})}er.prototype.info=function(){};function De(u,g){if(!u.g)return g;if(!g)return null;try{var v=JSON.parse(g);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var b=v[u];if(!(2>b.length)){var j=b[1];if(Array.isArray(j)&&!(1>j.length)){var Q=j[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var it=1;it<j.length;it++)j[it]=""}}}}return $s(v)}catch{return g}}var _e={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},vi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Zr;function Fa(){}P(Fa,Xs),Fa.prototype.g=function(){return new XMLHttpRequest},Fa.prototype.i=function(){return{}},Zr=new Fa;function Kn(u,g,v,b){this.j=u,this.i=g,this.l=v,this.R=b||1,this.U=new Xr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ws}function Ws(){this.i=null,this.g="",this.h=!1}var ir={},Wr={};function kn(u,g,v){u.L=1,u.v=ea(re(g)),u.m=v,u.P=!0,_i(u,null)}function _i(u,g){u.F=Date.now(),Wt(u),u.A=re(u.v);var v=u.A,b=u.R;Array.isArray(b)||(b=[String(b)]),bi(v.i,"t",b),u.C=0,v=u.j.J,u.h=new Ws,u.g=Ko(u.j,v?g:null,!u.m),0<u.O&&(u.M=new Zc(R(u.Y,u,u.g),u.O)),g=u.U,v=u.g,b=u.ca;var j="readystatechange";Array.isArray(j)||(j&&(Xi[0]=j.toString()),j=Xi);for(var Q=0;Q<j.length;Q++){var it=pi(v,j[Q],b||g.handleEvent,!1,g.h||g);if(!it)break;g.g[it.key]=it}g=u.H?w(u.H):{},u.m?(u.u||(u.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,g)):(u.u="GET",u.g.ea(u.A,u.u,null,g)),Ji(),Vo(u.i,u.u,u.A,u.l,u.R,u.m)}Kn.prototype.ca=function(u){u=u.target;const g=this.M;g&&An(u)==3?g.j():this.Y(u)},Kn.prototype.Y=function(u){try{if(u==this.g)t:{const Te=An(this.g);var g=this.g.Ba();const Ri=this.g.Z();if(!(3>Te)&&(Te!=3||this.g&&(this.h.h||this.g.oa()||zo(this.g)))){this.J||Te!=4||g==7||(g==8||0>=Ri?Ji(3):Ji(2)),Ga(this);var v=this.g.Z();this.X=v;e:if(rr(this)){var b=zo(this.g);u="";var j=b.length,Q=An(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){rn(this),un(this);var it="";break e}this.h.i=new m.TextDecoder}for(g=0;g<j;g++)this.h.h=!0,u+=this.h.i.decode(b[g],{stream:!(Q&&g==j-1)});b.length=0,this.h.g+=u,this.C=0,it=this.h.g}else it=this.g.oa();if(this.o=v==200,Oo(this.i,this.u,this.A,this.l,this.R,Te,v),this.o){if(this.T&&!this.K){e:{if(this.g){var Ot,Ee=this.g;if((Ot=Ee.g?Ee.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!J(Ot)){var Mt=Ot;break e}}Mt=null}if(v=Mt)nr(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,cn(this,v);else{this.o=!1,this.s=3,oe(12),rn(this),un(this);break t}}if(this.P){v=!0;let Ue;for(;!this.J&&this.C<it.length;)if(Ue=ar(this,it),Ue==Wr){Te==4&&(this.s=4,oe(14),v=!1),nr(this.i,this.l,null,"[Incomplete Response]");break}else if(Ue==ir){this.s=4,oe(15),nr(this.i,this.l,it,"[Invalid Chunk]"),v=!1;break}else nr(this.i,this.l,Ue,null),cn(this,Ue);if(rr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Te!=4||it.length!=0||this.h.h||(this.s=1,oe(16),v=!1),this.o=this.o&&v,!v)nr(this.i,this.l,it,"[Invalid Chunked Response]"),rn(this),un(this);else if(0<it.length&&!this.W){this.W=!0;var Ie=this.j;Ie.g==this&&Ie.ba&&!Ie.M&&(Ie.j.info("Great, no buffering proxy detected. Bytes received: "+it.length),oa(Ie),Ie.M=!0,oe(11))}}else nr(this.i,this.l,it,null),cn(this,it);Te==4&&rn(this),this.o&&!this.J&&(Te==4?Fo(this.j,this):(this.o=!1,Wt(this)))}else ih(this.g),v==400&&0<it.indexOf("Unknown SID")?(this.s=3,oe(12)):(this.s=0,oe(13)),rn(this),un(this)}}}catch{}finally{}};function rr(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function ar(u,g){var v=u.C,b=g.indexOf(`
`,v);return b==-1?Wr:(v=Number(g.substring(v,b)),isNaN(v)?ir:(b+=1,b+v>g.length?Wr:(g=g.slice(b,b+v),u.C=b+v,g)))}Kn.prototype.cancel=function(){this.J=!0,rn(this)};function Wt(u){u.S=Date.now()+u.I,Js(u,u.I)}function Js(u,g){if(u.B!=null)throw Error("WatchDog timer not null");u.B=tr(R(u.ba,u),g)}function Ga(u){u.B&&(m.clearTimeout(u.B),u.B=null)}Kn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Qn(this.i,this.A),this.L!=2&&(Ji(),oe(17)),rn(this),this.s=2,un(this)):Js(this,this.S-u)};function un(u){u.j.G==0||u.J||Fo(u.j,u)}function rn(u){Ga(u);var g=u.M;g&&typeof g.ma=="function"&&g.ma(),u.M=null,qe(u.U),u.g&&(g=u.g,u.g=null,g.abort(),g.ma())}function cn(u,g){try{var v=u.j;if(v.G!=0&&(v.g==u||sr(v.h,u))){if(!u.K&&sr(v.h,u)&&v.G==3){try{var b=v.Da.g.parse(g)}catch{b=null}if(Array.isArray(b)&&b.length==3){var j=b;if(j[0]==0){t:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)es(v),Ja(v);else break t;cl(v),oe(18)}}else v.za=j[1],0<v.za-v.T&&37500>j[2]&&v.F&&v.v==0&&!v.C&&(v.C=tr(R(v.Za,v),6e3));if(1>=Mo(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else wi(v,11)}else if((u.K||v.g==u)&&es(v),!J(g))for(j=v.Da.g.parse(g),g=0;g<j.length;g++){let Mt=j[g];if(v.T=Mt[0],Mt=Mt[1],v.G==2)if(Mt[0]=="c"){v.K=Mt[1],v.ia=Mt[2];const Ie=Mt[3];Ie!=null&&(v.la=Ie,v.j.info("VER="+v.la));const Te=Mt[4];Te!=null&&(v.Aa=Te,v.j.info("SVER="+v.Aa));const Ri=Mt[5];Ri!=null&&typeof Ri=="number"&&0<Ri&&(b=1.5*Ri,v.L=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const Ue=u.g;if(Ue){const ti=Ue.g?Ue.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ti){var Q=b.h;Q.g||ti.indexOf("spdy")==-1&&ti.indexOf("quic")==-1&&ti.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(lr(Q,Q.h),Q.h=null))}if(b.D){const fl=Ue.g?Ue.g.getResponseHeader("X-HTTP-Session-Id"):null;fl&&(b.ya=fl,zt(b.I,b.D,fl))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),b=v;var it=u;if(b.qa=Qo(b,b.J?b.ia:null,b.W),it.K){_n(b.h,it);var Ot=it,Ee=b.L;Ee&&(Ot.I=Ee),Ot.B&&(Ga(Ot),Wt(Ot)),b.g=it}else qo(b);0<v.i.length&&ts(v)}else Mt[0]!="stop"&&Mt[0]!="close"||wi(v,7);else v.G==3&&(Mt[0]=="stop"||Mt[0]=="close"?Mt[0]=="stop"?wi(v,7):ol(v):Mt[0]!="noop"&&v.l&&v.l.ta(Mt),v.v=0)}}Ji(4)}catch{}}var Wc=class{constructor(u,g){this.g=u,this.map=g}};function tl(u){this.l=u||10,m.PerformanceNavigationTiming?(u=m.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function el(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Mo(u){return u.h?1:u.g?u.g.size:0}function sr(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function lr(u,g){u.g?u.g.add(g):u.h=g}function _n(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}tl.prototype.cancel=function(){if(this.i=Xe(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Xe(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const v of u.g.values())g=g.concat(v.D);return g}return q(u.i)}function Uo(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var g=[],v=u.length,b=0;b<v;b++)g.push(u[b]);return g}g=[],v=0;for(b in u)g[v++]=u[b];return g}function Jc(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var g=[];u=u.length;for(var v=0;v<u;v++)g.push(v);return g}g=[],v=0;for(const b in u)g[v++]=b;return g}}}function Jr(u,g){if(u.forEach&&typeof u.forEach=="function")u.forEach(g,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,g,void 0);else for(var v=Jc(u),b=Uo(u),j=b.length,Q=0;Q<j;Q++)g.call(void 0,b[Q],v&&v[Q],u)}var nl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qa(u,g){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var b=u[v].indexOf("="),j=null;if(0<=b){var Q=u[v].substring(0,b);j=u[v].substring(b+1)}else Q=u[v];g(Q,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Ei(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Ei){this.h=u.h,or(this,u.j),this.o=u.o,this.g=u.g,ta(this,u.s),this.l=u.l;var g=u.i,v=new Yn;v.i=g.i,g.g&&(v.g=new Map(g.g),v.h=g.h),Ka(this,v),this.m=u.m}else u&&(g=String(u).match(nl))?(this.h=!1,or(this,g[1]||"",!0),this.o=ur(g[2]||""),this.g=ur(g[3]||"",!0),ta(this,g[4]),this.l=ur(g[5]||"",!0),Ka(this,g[6]||"",!0),this.m=ur(g[7]||"")):(this.h=!1,this.i=new Yn(null,this.h))}Ei.prototype.toString=function(){var u=[],g=this.j;g&&u.push(En(g,il,!0),":");var v=this.g;return(v||g=="file")&&(u.push("//"),(g=this.o)&&u.push(En(g,il,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(En(v,v.charAt(0)=="/"?rl:Lo,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",En(v,nh)),u.join("")};function re(u){return new Ei(u)}function or(u,g,v){u.j=v?ur(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function ta(u,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);u.s=g}else u.s=null}function Ka(u,g,v){g instanceof Yn?(u.i=g,al(u.i,u.h)):(v||(g=En(g,eh)),u.i=new Yn(g,u.h))}function zt(u,g,v){u.i.set(g,v)}function ea(u){return zt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function ur(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function En(u,g,v){return typeof u=="string"?(u=encodeURI(u).replace(g,th),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function th(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var il=/[#\/\?@]/g,Lo=/[#\?:]/g,rl=/[#\?]/g,eh=/[#\?@]/g,nh=/#/g;function Yn(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function Tn(u){u.g||(u.g=new Map,u.h=0,u.i&&Qa(u.i,function(g,v){u.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}r=Yn.prototype,r.add=function(u,g){Tn(this),this.i=null,u=Ai(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(g),this.h+=1,this};function Ya(u,g){Tn(u),g=Ai(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function Ti(u,g){return Tn(u),g=Ai(u,g),u.g.has(g)}r.forEach=function(u,g){Tn(this),this.g.forEach(function(v,b){v.forEach(function(j){u.call(g,j,b,this)},this)},this)},r.na=function(){Tn(this);const u=Array.from(this.g.values()),g=Array.from(this.g.keys()),v=[];for(let b=0;b<g.length;b++){const j=u[b];for(let Q=0;Q<j.length;Q++)v.push(g[b])}return v},r.V=function(u){Tn(this);let g=[];if(typeof u=="string")Ti(this,u)&&(g=g.concat(this.g.get(Ai(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)g=g.concat(u[v])}return g},r.set=function(u,g){return Tn(this),this.i=null,u=Ai(this,u),Ti(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},r.get=function(u,g){return u?(u=this.V(u),0<u.length?String(u[0]):g):g};function bi(u,g,v){Ya(u,g),0<v.length&&(u.i=null,u.g.set(Ai(u,g),q(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(var v=0;v<g.length;v++){var b=g[v];const Q=encodeURIComponent(String(b)),it=this.V(b);for(b=0;b<it.length;b++){var j=Q;it[b]!==""&&(j+="="+encodeURIComponent(String(it[b]))),u.push(j)}}return this.i=u.join("&")};function Ai(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function al(u,g){g&&!u.j&&(Tn(u),u.i=null,u.g.forEach(function(v,b){var j=b.toLowerCase();b!=j&&(Ya(this,b),bi(this,j,v))},u)),u.j=g}function Po(u,g){const v=new er;if(m.Image){const b=new Image;b.onload=I(bn,v,"TestLoadImage: loaded",!0,g,b),b.onerror=I(bn,v,"TestLoadImage: error",!1,g,b),b.onabort=I(bn,v,"TestLoadImage: abort",!1,g,b),b.ontimeout=I(bn,v,"TestLoadImage: timeout",!1,g,b),m.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else g(!1)}function na(u,g){const v=new er,b=new AbortController,j=setTimeout(()=>{b.abort(),bn(v,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:b.signal}).then(Q=>{clearTimeout(j),Q.ok?bn(v,"TestPingServer: ok",!0,g):bn(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(j),bn(v,"TestPingServer: error",!1,g)})}function bn(u,g,v,b,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),b(v)}catch{}}function ia(){this.g=new $e}function $n(u,g,v){const b=v||"";try{Jr(u,function(j,Q){let it=j;y(j)&&(it=$s(j)),g.push(b+Q+"="+encodeURIComponent(it))})}catch(j){throw g.push(b+"type="+encodeURIComponent("_badmap")),j}}function cr(u){this.l=u.Ub||null,this.j=u.eb||!1}P(cr,Xs),cr.prototype.g=function(){return new Si(this.l,this.j)},cr.prototype.i=function(u){return function(){return u}}({});function Si(u,g){ve.call(this),this.D=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(Si,ve),r=Si.prototype,r.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=g,this.readyState=1,Zn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(g.body=u),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Xn(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Zn(this)),this.g&&(this.readyState=3,Zn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;sl(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function sl(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?Xn(this):Zn(this),this.readyState==3&&sl(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,Xn(this))},r.Qa=function(u){this.g&&(this.response=u,Xn(this))},r.ga=function(){this.g&&Xn(this)};function Xn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Zn(u)}r.setRequestHeader=function(u,g){this.u.append(u,g)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=g.next();return u.join(`\r
`)};function Zn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Si.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ll(u){let g="";return vt(u,function(v,b){g+=b,g+=":",g+=v,g+=`\r
`}),g}function xe(u,g,v){t:{for(b in v){var b=!1;break t}b=!0}b||(v=ll(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):zt(u,g,v))}function Ht(u){ve.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(Ht,ve);var $a=/^https?$/i,ra=["POST","PUT"];r=Ht.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,g,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Zr.g(),this.v=this.o?xo(this.o):xo(Zr),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(Q){ko(this,Q);return}if(u=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var j in b)v.set(j,b[j]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const Q of b.keys())v.set(Q,b.get(Q));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(Q=>Q.toLowerCase()=="content-type"),j=m.FormData&&u instanceof m.FormData,!(0<=Array.prototype.indexOf.call(ra,g,void 0))||b||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,it]of v)this.g.setRequestHeader(Q,it);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{aa(this),this.u=!0,this.g.send(u),this.u=!1}catch(Q){ko(this,Q)}};function ko(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.m=5,Xa(u),Wn(u)}function Xa(u){u.A||(u.A=!0,Ce(u,"complete"),Ce(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ce(this,"complete"),Ce(this,"abort"),Wn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wn(this,!0)),Ht.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Za(this):this.bb())},r.bb=function(){Za(this)};function Za(u){if(u.h&&typeof f<"u"&&(!u.v[1]||An(u)!=4||u.Z()!=2)){if(u.u&&An(u)==4)Do(u.Ea,0,u);else if(Ce(u,"readystatechange"),An(u)==4){u.h=!1;try{const it=u.Z();t:switch(it){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break t;default:g=!1}var v;if(!(v=g)){var b;if(b=it===0){var j=String(u.D).match(nl)[1]||null;!j&&m.self&&m.self.location&&(j=m.self.location.protocol.slice(0,-1)),b=!$a.test(j?j.toLowerCase():"")}v=b}if(v)Ce(u,"complete"),Ce(u,"success");else{u.m=6;try{var Q=2<An(u)?u.g.statusText:""}catch{Q=""}u.l=Q+" ["+u.Z()+"]",Xa(u)}}finally{Wn(u)}}}}function Wn(u,g){if(u.g){aa(u);const v=u.g,b=u.v[0]?()=>{}:null;u.g=null,u.v=null,g||Ce(u,"ready");try{v.onreadystatechange=b}catch{}}}function aa(u){u.I&&(m.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function An(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<An(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),Fn(g)}};function zo(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ih(u){const g={};u=(u.g&&2<=An(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(J(u[b]))continue;var v=O(u[b]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Q=g[j]||[];g[j]=Q,Q.push(v)}U(g,function(b){return b.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function sa(u,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||g}function Wa(u){this.Aa=0,this.i=[],this.j=new er,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=sa("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=sa("baseRetryDelayMs",5e3,u),this.cb=sa("retryDelaySeedMs",1e4,u),this.Wa=sa("forwardChannelMaxRetries",2,u),this.wa=sa("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new tl(u&&u.concurrentRequestLimit),this.Da=new ia,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Wa.prototype,r.la=8,r.G=1,r.connect=function(u,g,v,b){oe(0),this.W=u,this.H=g||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.I=Qo(this,null,this.W),ts(this)};function ol(u){if(jo(u),u.G==3){var g=u.U++,v=re(u.I);if(zt(v,"SID",u.K),zt(v,"RID",g),zt(v,"TYPE","terminate"),la(u,v),g=new Kn(u,u.j,g),g.L=2,g.v=ea(re(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=g.v,v=!0),v||(g.g=Ko(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Wt(g)}Go(u)}function Ja(u){u.g&&(oa(u),u.g.cancel(),u.g=null)}function jo(u){Ja(u),u.u&&(m.clearTimeout(u.u),u.u=null),es(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&m.clearTimeout(u.s),u.s=null)}function ts(u){if(!el(u.h)&&!u.s){u.s=!0;var g=u.Ga;_t||N(),gt||(_t(),gt=!0),qt.add(g,u),u.B=0}}function rh(u,g){return Mo(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=g.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=tr(R(u.Ga,u,g),hl(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const j=new Kn(this,this.j,u);let Q=this.o;if(this.S&&(Q?(Q=w(Q),D(Q,this.S)):Q=this.S),this.m!==null||this.O||(j.H=Q,Q=null),this.P)t:{for(var g=0,v=0;v<this.i.length;v++){e:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(g+=b,4096<g){g=v;break t}if(g===4096||v===this.i.length-1){g=v+1;break t}}g=1e3}else g=1e3;g=Bo(this,j,g),v=re(this.I),zt(v,"RID",u),zt(v,"CVER",22),this.D&&zt(v,"X-HTTP-Session-Id",this.D),la(this,v),Q&&(this.O?g="headers="+encodeURIComponent(String(ll(Q)))+"&"+g:this.m&&xe(v,this.m,Q)),lr(this.h,j),this.Ua&&zt(v,"TYPE","init"),this.P?(zt(v,"$req",g),zt(v,"SID","null"),j.T=!0,kn(j,v,null)):kn(j,v,g),this.G=2}}else this.G==3&&(u?ul(this,u):this.i.length==0||el(this.h)||ul(this))};function ul(u,g){var v;g?v=g.l:v=u.U++;const b=re(u.I);zt(b,"SID",u.K),zt(b,"RID",v),zt(b,"AID",u.T),la(u,b),u.m&&u.o&&xe(b,u.m,u.o),v=new Kn(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),g&&(u.i=g.D.concat(u.i)),g=Bo(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),lr(u.h,v),kn(v,b,g)}function la(u,g){u.H&&vt(u.H,function(v,b){zt(g,b,v)}),u.l&&Jr({},function(v,b){zt(g,b,v)})}function Bo(u,g,v){v=Math.min(u.i.length,v);var b=u.l?R(u.l.Na,u.l,u):null;t:{var j=u.i;let Q=-1;for(;;){const it=["count="+v];Q==-1?0<v?(Q=j[0].g,it.push("ofs="+Q)):Q=0:it.push("ofs="+Q);let Ot=!0;for(let Ee=0;Ee<v;Ee++){let Mt=j[Ee].g;const Ie=j[Ee].map;if(Mt-=Q,0>Mt)Q=Math.max(0,j[Ee].g-100),Ot=!1;else try{$n(Ie,it,"req"+Mt+"_")}catch{b&&b(Ie)}}if(Ot){b=it.join("&");break t}}}return u=u.i.splice(0,v),g.D=u,b}function qo(u){if(!u.g&&!u.u){u.Y=1;var g=u.Fa;_t||N(),gt||(_t(),gt=!0),qt.add(g,u),u.v=0}}function cl(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=tr(R(u.Fa,u),hl(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,Ho(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=tr(R(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,oe(10),Ja(this),Ho(this))};function oa(u){u.A!=null&&(m.clearTimeout(u.A),u.A=null)}function Ho(u){u.g=new Kn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var g=re(u.qa);zt(g,"RID","rpc"),zt(g,"SID",u.K),zt(g,"AID",u.T),zt(g,"CI",u.F?"0":"1"),!u.F&&u.ja&&zt(g,"TO",u.ja),zt(g,"TYPE","xmlhttp"),la(u,g),u.m&&u.o&&xe(g,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=ea(re(g)),v.m=null,v.P=!0,_i(v,u)}r.Za=function(){this.C!=null&&(this.C=null,Ja(this),cl(this),oe(19))};function es(u){u.C!=null&&(m.clearTimeout(u.C),u.C=null)}function Fo(u,g){var v=null;if(u.g==g){es(u),oa(u),u.g=null;var b=2}else if(sr(u.h,g))v=g.D,_n(u.h,g),b=1;else return;if(u.G!=0){if(g.o)if(b==1){v=g.m?g.m.length:0,g=Date.now()-g.F;var j=u.B;b=qa(),Ce(b,new No(b,v)),ts(u)}else qo(u);else if(j=g.s,j==3||j==0&&0<g.X||!(b==1&&rh(u,g)||b==2&&cl(u)))switch(v&&0<v.length&&(g=u.h,g.i=g.i.concat(v)),j){case 1:wi(u,5);break;case 4:wi(u,10);break;case 3:wi(u,6);break;default:wi(u,2)}}}function hl(u,g){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*g}function wi(u,g){if(u.j.info("Error code "+g),g==2){var v=R(u.fb,u),b=u.Xa;const j=!b;b=new Ei(b||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||or(b,"https"),ea(b),j?Po(b.toString(),v):na(b.toString(),v)}else oe(2);u.G=0,u.l&&u.l.sa(g),Go(u),jo(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),oe(2)):(this.j.info("Failed to ping google.com"),oe(1))};function Go(u){if(u.G=0,u.ka=[],u.l){const g=Xe(u.h);(g.length!=0||u.i.length!=0)&&(V(u.ka,g),V(u.ka,u.i),u.h.i.length=0,q(u.i),u.i.length=0),u.l.ra()}}function Qo(u,g,v){var b=v instanceof Ei?re(v):new Ei(v);if(b.g!="")g&&(b.g=g+"."+b.g),ta(b,b.s);else{var j=m.location;b=j.protocol,g=g?g+"."+j.hostname:j.hostname,j=+j.port;var Q=new Ei(null);b&&or(Q,b),g&&(Q.g=g),j&&ta(Q,j),v&&(Q.l=v),b=Q}return v=u.D,g=u.ya,v&&g&&zt(b,v,g),zt(b,"VER",u.la),la(u,b),b}function Ko(u,g,v){if(g&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Ca&&!u.pa?new Ht(new cr({eb:v})):new Ht(u.pa),g.Ha(u.J),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yo(){}r=Yo.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ns(){}ns.prototype.g=function(u,g){return new Ze(u,g)};function Ze(u,g){ve.call(this),this.g=new Wa(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(u?u["X-WebChannel-Client-Profile"]=g.va:u={"X-WebChannel-Client-Profile":g.va}),this.g.S=u,(u=g&&g.Sb)&&!J(u)&&(this.g.m=u),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!J(g)&&(this.g.D=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new Jn(this)}P(Ze,ve),Ze.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ze.prototype.close=function(){ol(this.g)},Ze.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=$s(u),u=v);g.i.push(new Wc(g.Ya++,u)),g.G==3&&ts(g)},Ze.prototype.N=function(){this.g.l=null,delete this.j,ol(this.g),delete this.g,Ze.aa.N.call(this)};function $o(u){Zi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){t:{for(const v in g){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}P($o,Zi);function Xo(){Pn.call(this),this.status=1}P(Xo,Pn);function Jn(u){this.g=u}P(Jn,Yo),Jn.prototype.ua=function(){Ce(this.g,"a")},Jn.prototype.ta=function(u){Ce(this.g,new $o(u))},Jn.prototype.sa=function(u){Ce(this.g,new Xo)},Jn.prototype.ra=function(){Ce(this.g,"b")},ns.prototype.createWebChannel=ns.prototype.g,Ze.prototype.send=Ze.prototype.o,Ze.prototype.open=Ze.prototype.m,Ze.prototype.close=Ze.prototype.close,v0=function(){return new ns},y0=function(){return qa()},p0=vn,Sd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},_e.NO_ERROR=0,_e.TIMEOUT=8,_e.HTTP_ERROR=6,ic=_e,vi.COMPLETE="complete",g0=vi,Io.EventType=Gn,Gn.OPEN="a",Gn.CLOSE="b",Gn.ERROR="c",Gn.MESSAGE="d",ve.prototype.listen=ve.prototype.K,eo=Io,Ht.prototype.listenOnce=Ht.prototype.L,Ht.prototype.getLastError=Ht.prototype.Ka,Ht.prototype.getLastErrorCode=Ht.prototype.Ba,Ht.prototype.getStatus=Ht.prototype.Z,Ht.prototype.getResponseJson=Ht.prototype.Oa,Ht.prototype.getResponseText=Ht.prototype.oa,Ht.prototype.send=Ht.prototype.ea,Ht.prototype.setWithCredentials=Ht.prototype.Ha,m0=Ht}).apply(typeof $u<"u"?$u:typeof self<"u"?self:typeof window<"u"?window:{});const Av="@firebase/firestore",Sv="4.7.7";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qs="11.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa=new Wd("@firebase/firestore");function xs(){return Oa.logLevel}function ut(r,...t){if(Oa.logLevel<=Pt.DEBUG){const i=t.map(sm);Oa.debug(`Firestore (${qs}): ${r}`,...i)}}function Qi(r,...t){if(Oa.logLevel<=Pt.ERROR){const i=t.map(sm);Oa.error(`Firestore (${qs}): ${r}`,...i)}}function Ms(r,...t){if(Oa.logLevel<=Pt.WARN){const i=t.map(sm);Oa.warn(`Firestore (${qs}): ${r}`,...i)}}function sm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(r="Unexpected state"){const t=`FIRESTORE (${qs}) INTERNAL ASSERTION FAILED: `+r;throw Qi(t),new Error(t)}function Ft(r,t){r||Et()}function At(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const et={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class mt extends Qr{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(){this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class $1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable(()=>i(Qe.UNAUTHENTICATED))}shutdown(){}}class X1{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class Z1{constructor(t){this.t=t,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Ft(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,i(p)):Promise.resolve();let c=new Ur;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ur,t.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=c;t.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ur)}},0),f()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==t?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ft(typeof s.accessToken=="string"),new _0(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ft(t===null||typeof t=="string"),new Qe(t)}}class W1{constructor(t,i,s){this.l=t,this.h=i,this.P=s,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class J1{constructor(t,i,s){this.l=t,this.h=i,this.P=s}getToken(){return Promise.resolve(new W1(this.l,this.h,this.P))}start(t,i){t.enqueueRetryable(()=>i(Qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class wv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tR{constructor(t,i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,gw(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,i){Ft(this.o===void 0);const s=c=>{c.error!=null&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.R;return this.R=c.token,ut("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>s(c))};const o=c=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?o(c):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new wv(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(i=>i?(Ft(typeof i.token=="string"),this.R=i.token,new wv(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wd(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=eR(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<i&&(s+=t.charAt(o[c]%62))}return s}}function It(r,t){return r<t?-1:r>t?1:0}function Rd(r,t){const i=wd().encode(r),s=wd().encode(t);for(let o=0;o<Math.min(i.length,s.length);o++){const c=It(i[o],s[o]);if(c!==0)return c}return It(i.length,s.length)}function Us(r,t,i){return r.length===t.length&&r.every((s,o)=>i(s,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv=-62135596800,Cv=1e6;class we{static now(){return we.fromMillis(Date.now())}static fromDate(t){return we.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),s=Math.floor((t-1e3*i)*Cv);return new we(i,s)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new mt(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new mt(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<Rv)throw new mt(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new mt(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Cv}_compareTo(t){return this.seconds===t.seconds?It(this.nanoseconds,t.nanoseconds):It(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-Rv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{static fromTimestamp(t){return new Tt(t)}static min(){return new Tt(new we(0,0))}static max(){return new Tt(new we(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv="__name__";class si{constructor(t,i,s){i===void 0?i=0:i>t.length&&Et(),s===void 0?s=t.length-i:s>t.length-i&&Et(),this.segments=t,this.offset=i,this.len=s}get length(){return this.len}isEqual(t){return si.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof si?t.forEach(s=>{i.push(s)}):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,s=this.limit();i<s;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const s=Math.min(t.length,i.length);for(let o=0;o<s;o++){const c=si.compareSegments(t.get(o),i.get(o));if(c!==0)return c}return It(t.length,i.length)}static compareSegments(t,i){const s=si.isNumericId(t),o=si.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?si.extractNumericId(t).compare(si.extractNumericId(i)):Rd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Mr.fromString(t.substring(4,t.length-2))}}class Zt extends si{construct(t,i,s){return new Zt(t,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const s of t){if(s.indexOf("//")>=0)throw new mt(et.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(o=>o.length>0))}return new Zt(i)}static emptyPath(){return new Zt([])}}const nR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class je extends si{construct(t,i,s){return new je(t,i,s)}static isValidIdentifier(t){return nR.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),je.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Dv}static keyField(){return new je([Dv])}static fromServerFormat(t){const i=[];let s="",o=0;const c=()=>{if(s.length===0)throw new mt(et.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new mt(et.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new mt(et.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(c(),o++)}if(c(),f)throw new mt(et.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new je(i)}static emptyPath(){return new je([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(t){this.path=t}static fromPath(t){return new pt(Zt.fromString(t))}static fromName(t){return new pt(Zt.fromString(t).popFirst(5))}static empty(){return new pt(Zt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Zt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return Zt.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new pt(new Zt(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo=-1;function iR(r,t){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Tt.fromTimestamp(s===1e9?new we(i+1,0):new we(i,s));return new zr(o,pt.empty(),t)}function rR(r){return new zr(r.readTime,r.key,mo)}class zr{constructor(t,i,s){this.readTime=t,this.documentKey=i,this.largestBatchId=s}static min(){return new zr(Tt.min(),pt.empty(),mo)}static max(){return new zr(Tt.max(),pt.empty(),mo)}}function aR(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=pt.comparator(r.documentKey,t.documentKey),i!==0?i:It(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hs(r){if(r.code!==et.FAILED_PRECONDITION||r.message!==sR)throw r;ut("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&Et(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new W((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,o)}})}toPromise(){return new Promise((t,i)=>{this.next(t,i)})}wrapUserFunction(t){try{const i=t();return i instanceof W?i:W.resolve(i)}catch(i){return W.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction(()=>t(i)):W.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction(()=>t(i)):W.reject(i)}static resolve(t){return new W((i,s)=>{i(t)})}static reject(t){return new W((i,s)=>{s(t)})}static waitFor(t){return new W((i,s)=>{let o=0,c=0,f=!1;t.forEach(m=>{++o,m.next(()=>{++c,f&&c===o&&i()},p=>s(p))}),f=!0,c===o&&i()})}static or(t){let i=W.resolve(!1);for(const s of t)i=i.next(o=>o?W.resolve(o):s());return i}static forEach(t,i){const s=[];return t.forEach((o,c)=>{s.push(i.call(this,o,c))}),this.waitFor(s)}static mapArray(t,i){return new W((s,o)=>{const c=t.length,f=new Array(c);let m=0;for(let p=0;p<c;p++){const y=p;i(t[y]).next(E=>{f[y]=E,++m,m===c&&s(f)},E=>o(E))}})}static doWhile(t,i){return new W((s,o)=>{const c=()=>{t()===!0?i().next(()=>{c()},o):s()};c()})}}function oR(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Fs(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=s=>this.oe(s),this._e=s=>i.writeSequenceNumber(s))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}Nc.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm=-1;function Vc(r){return r==null}function dc(r){return r===0&&1/r==-1/0}function uR(r){return typeof r=="number"&&Number.isInteger(r)&&!dc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0="";function cR(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=xv(t)),t=hR(r.get(i),t);return xv(t)}function hR(r,t){let i=t;const s=r.length;for(let o=0;o<s;o++){const c=r.charAt(o);switch(c){case"\0":i+="";break;case T0:i+="";break;default:i+=c}}return i}function xv(r){return r+T0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iv(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function Kr(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function b0(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(t,i){this.comparator=t,this.root=i||ze.EMPTY}insert(t,i){return new ne(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,ze.BLACK,null,null))}remove(t){return new ne(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ze.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(t){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((i,s)=>(t(i,s),!1))}toString(){const t=[];return this.inorderTraversal((i,s)=>(t.push(`${i}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Xu(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Xu(this.root,t,this.comparator,!1)}getReverseIterator(){return new Xu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Xu(this.root,t,this.comparator,!0)}}class Xu{constructor(t,i,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?s(t.key,i):1,i&&o&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ze{constructor(t,i,s,o,c){this.key=t,this.value=i,this.color=s??ze.RED,this.left=o??ze.EMPTY,this.right=c??ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,s,o,c){return new ze(t??this.key,i??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,s){let o=this;const c=s(t,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(t,i,s),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ze.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let s,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return ze.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Et();const t=this.left.check();if(t!==this.right.check())throw Et();return t+(this.isRed()?0:1)}}ze.EMPTY=null,ze.RED=!0,ze.BLACK=!1;ze.EMPTY=new class{constructor(){this.size=0}get key(){throw Et()}get value(){throw Et()}get color(){throw Et()}get left(){throw Et()}get right(){throw Et()}copy(t,i,s,o,c){return this}insert(t,i,s){return new ze(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(t){this.comparator=t,this.data=new ne(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((i,s)=>(t(i),!1))}forEachInRange(t,i){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Nv(this.data.getIterator())}getIteratorFrom(t){return new Nv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach(s=>{i=i.add(s)}),i}isEqual(t){if(!(t instanceof Re)||this.size!==t.size)return!1;const i=this.data.getIterator(),s=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(i=>{t.push(i)}),t}toString(){const t=[];return this.forEach(i=>t.push(i)),"SortedSet("+t.toString()+")"}copy(t){const i=new Re(this.comparator);return i.data=t,i}}class Nv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(t){this.fields=t,t.sort(je.comparator)}static empty(){return new pn([])}unionWith(t){let i=new Re(je.comparator);for(const s of this.fields)i=i.add(s);for(const s of t)i=i.add(s);return new pn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Us(this.fields,t.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(t){this.binaryString=t}static fromBase64String(t){const i=function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new A0("Invalid base64 string: "+c):c}}(t);return new Be(i)}static fromUint8Array(t){const i=function(o){let c="";for(let f=0;f<o.length;++f)c+=String.fromCharCode(o[f]);return c}(t);return new Be(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return It(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Be.EMPTY_BYTE_STRING=new Be("");const fR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function jr(r){if(Ft(!!r),typeof r=="string"){let t=0;const i=fR.exec(r);if(Ft(!!i),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ce(r.seconds),nanos:ce(r.nanos)}}function ce(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Br(r){return typeof r=="string"?Be.fromBase64String(r):Be.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0="server_timestamp",w0="__type__",R0="__previous_value__",C0="__local_write_time__";function om(r){var t,i;return((i=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[w0])===null||i===void 0?void 0:i.stringValue)===S0}function Oc(r){const t=r.mapValue.fields[R0];return om(t)?Oc(t):t}function go(r){const t=jr(r.mapValue.fields[C0].timestampValue);return new we(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(t,i,s,o,c,f,m,p,y){this.databaseId=t,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y}}const mc="(default)";class po{constructor(t,i){this.projectId=t,this.database=i||mc}static empty(){return new po("","")}get isDefaultDatabase(){return this.database===mc}isEqual(t){return t instanceof po&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0="__type__",mR="__max__",Zu={mapValue:{}},x0="__vector__",gc="value";function qr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?om(r)?4:pR(r)?9007199254740991:gR(r)?10:11:Et()}function hi(r,t){if(r===t)return!0;const i=qr(r);if(i!==qr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return go(r).isEqual(go(t));case 3:return function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const f=jr(o.timestampValue),m=jr(c.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(o,c){return Br(o.bytesValue).isEqual(Br(c.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(o,c){return ce(o.geoPointValue.latitude)===ce(c.geoPointValue.latitude)&&ce(o.geoPointValue.longitude)===ce(c.geoPointValue.longitude)}(r,t);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return ce(o.integerValue)===ce(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const f=ce(o.doubleValue),m=ce(c.doubleValue);return f===m?dc(f)===dc(m):isNaN(f)&&isNaN(m)}return!1}(r,t);case 9:return Us(r.arrayValue.values||[],t.arrayValue.values||[],hi);case 10:case 11:return function(o,c){const f=o.mapValue.fields||{},m=c.mapValue.fields||{};if(Iv(f)!==Iv(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!hi(f[p],m[p])))return!1;return!0}(r,t);default:return Et()}}function yo(r,t){return(r.values||[]).find(i=>hi(i,t))!==void 0}function Ls(r,t){if(r===t)return 0;const i=qr(r),s=qr(t);if(i!==s)return It(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return It(r.booleanValue,t.booleanValue);case 2:return function(c,f){const m=ce(c.integerValue||c.doubleValue),p=ce(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,t);case 3:return Vv(r.timestampValue,t.timestampValue);case 4:return Vv(go(r),go(t));case 5:return Rd(r.stringValue,t.stringValue);case 6:return function(c,f){const m=Br(c),p=Br(f);return m.compareTo(p)}(r.bytesValue,t.bytesValue);case 7:return function(c,f){const m=c.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const E=It(m[y],p[y]);if(E!==0)return E}return It(m.length,p.length)}(r.referenceValue,t.referenceValue);case 8:return function(c,f){const m=It(ce(c.latitude),ce(f.latitude));return m!==0?m:It(ce(c.longitude),ce(f.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return Ov(r.arrayValue,t.arrayValue);case 10:return function(c,f){var m,p,y,E;const S=c.fields||{},R=f.fields||{},I=(m=S[gc])===null||m===void 0?void 0:m.arrayValue,P=(p=R[gc])===null||p===void 0?void 0:p.arrayValue,q=It(((y=I==null?void 0:I.values)===null||y===void 0?void 0:y.length)||0,((E=P==null?void 0:P.values)===null||E===void 0?void 0:E.length)||0);return q!==0?q:Ov(I,P)}(r.mapValue,t.mapValue);case 11:return function(c,f){if(c===Zu.mapValue&&f===Zu.mapValue)return 0;if(c===Zu.mapValue)return 1;if(f===Zu.mapValue)return-1;const m=c.fields||{},p=Object.keys(m),y=f.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let S=0;S<p.length&&S<E.length;++S){const R=Rd(p[S],E[S]);if(R!==0)return R;const I=Ls(m[p[S]],y[E[S]]);if(I!==0)return I}return It(p.length,E.length)}(r.mapValue,t.mapValue);default:throw Et()}}function Vv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return It(r,t);const i=jr(r),s=jr(t),o=It(i.seconds,s.seconds);return o!==0?o:It(i.nanos,s.nanos)}function Ov(r,t){const i=r.values||[],s=t.values||[];for(let o=0;o<i.length&&o<s.length;++o){const c=Ls(i[o],s[o]);if(c)return c}return It(i.length,s.length)}function Ps(r){return Cd(r)}function Cd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(i){const s=jr(i);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(i){return Br(i).toBase64()}(r.bytesValue):"referenceValue"in r?function(i){return pt.fromName(i).toString()}(r.referenceValue):"geoPointValue"in r?function(i){return`geo(${i.latitude},${i.longitude})`}(r.geoPointValue):"arrayValue"in r?function(i){let s="[",o=!0;for(const c of i.values||[])o?o=!1:s+=",",s+=Cd(c);return s+"]"}(r.arrayValue):"mapValue"in r?function(i){const s=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const f of s)c?c=!1:o+=",",o+=`${f}:${Cd(i.fields[f])}`;return o+"}"}(r.mapValue):Et()}function rc(r){switch(qr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Oc(r);return t?16+rc(t):16;case 5:return 2*r.stringValue.length;case 6:return Br(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,c)=>o+rc(c),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Kr(s.fields,(c,f)=>{o+=c.length+rc(f)}),o}(r.mapValue);default:throw Et()}}function Dd(r){return!!r&&"integerValue"in r}function um(r){return!!r&&"arrayValue"in r}function Mv(r){return!!r&&"nullValue"in r}function Uv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ac(r){return!!r&&"mapValue"in r}function gR(r){var t,i;return((i=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[D0])===null||i===void 0?void 0:i.stringValue)===x0}function lo(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return Kr(r.mapValue.fields,(i,s)=>t.mapValue.fields[i]=lo(s)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=lo(r.arrayValue.values[i]);return t}return Object.assign({},r)}function pR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===mR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(t){this.value=t}static empty(){return new ln({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let s=0;s<t.length-1;++s)if(i=(i.mapValue.fields||{})[t.get(s)],!ac(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=lo(i)}setAll(t){let i=je.emptyPath(),s={},o=[];t.forEach((f,m)=>{if(!i.isImmediateParentOf(m)){const p=this.getFieldsMap(i);this.applyChanges(p,s,o),s={},o=[],i=m.popLast()}f?s[m.lastSegment()]=lo(f):o.push(m.lastSegment())});const c=this.getFieldsMap(i);this.applyChanges(c,s,o)}delete(t){const i=this.field(t.popLast());ac(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return hi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=i.mapValue.fields[t.get(s)];ac(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,s){Kr(i,(o,c)=>t[o]=c);for(const o of s)delete t[o]}clone(){return new ln(lo(this.value))}}function I0(r){const t=[];return Kr(r.fields,(i,s)=>{const o=new je([i]);if(ac(s)){const c=I0(s.mapValue).fields;if(c.length===0)t.push(o);else for(const f of c)t.push(o.child(f))}else t.push(o)}),new pn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(t,i,s,o,c,f,m){this.key=t,this.documentType=i,this.version=s,this.readTime=o,this.createTime=c,this.data=f,this.documentState=m}static newInvalidDocument(t){return new Ke(t,0,Tt.min(),Tt.min(),Tt.min(),ln.empty(),0)}static newFoundDocument(t,i,s,o){return new Ke(t,1,i,Tt.min(),s,o,0)}static newNoDocument(t,i){return new Ke(t,2,i,Tt.min(),Tt.min(),ln.empty(),0)}static newUnknownDocument(t,i){return new Ke(t,3,i,Tt.min(),Tt.min(),ln.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ln.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ke&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ke(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(t,i){this.position=t,this.inclusive=i}}function Lv(r,t,i){let s=0;for(let o=0;o<r.position.length;o++){const c=t[o],f=r.position[o];if(c.field.isKeyField()?s=pt.comparator(pt.fromName(f.referenceValue),i.key):s=Ls(f,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function Pv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!hi(r.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(t,i="asc"){this.field=t,this.dir=i}}function yR(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{}class Se extends N0{constructor(t,i,s){super(),this.field=t,this.op=i,this.value=s}static create(t,i,s){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,s):new _R(t,i,s):i==="array-contains"?new bR(t,s):i==="in"?new AR(t,s):i==="not-in"?new SR(t,s):i==="array-contains-any"?new wR(t,s):new Se(t,i,s)}static createKeyFieldInFilter(t,i,s){return i==="in"?new ER(t,s):new TR(t,s)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(Ls(i,this.value)):i!==null&&qr(this.value)===qr(i)&&this.matchesComparison(Ls(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Et()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fi extends N0{constructor(t,i){super(),this.filters=t,this.op=i,this.ce=null}static create(t,i){return new fi(t,i)}matches(t){return V0(this)?this.filters.find(i=>!i.matches(t))===void 0:this.filters.find(i=>i.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,i)=>t.concat(i.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function V0(r){return r.op==="and"}function O0(r){return vR(r)&&V0(r)}function vR(r){for(const t of r.filters)if(t instanceof fi)return!1;return!0}function xd(r){if(r instanceof Se)return r.field.canonicalString()+r.op.toString()+Ps(r.value);if(O0(r))return r.filters.map(t=>xd(t)).join(",");{const t=r.filters.map(i=>xd(i)).join(",");return`${r.op}(${t})`}}function M0(r,t){return r instanceof Se?function(s,o){return o instanceof Se&&s.op===o.op&&s.field.isEqual(o.field)&&hi(s.value,o.value)}(r,t):r instanceof fi?function(s,o){return o instanceof fi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((c,f,m)=>c&&M0(f,o.filters[m]),!0):!1}(r,t):void Et()}function U0(r){return r instanceof Se?function(i){return`${i.field.canonicalString()} ${i.op} ${Ps(i.value)}`}(r):r instanceof fi?function(i){return i.op.toString()+" {"+i.getFilters().map(U0).join(" ,")+"}"}(r):"Filter"}class _R extends Se{constructor(t,i,s){super(t,i,s),this.key=pt.fromName(s.referenceValue)}matches(t){const i=pt.comparator(t.key,this.key);return this.matchesComparison(i)}}class ER extends Se{constructor(t,i){super(t,"in",i),this.keys=L0("in",i)}matches(t){return this.keys.some(i=>i.isEqual(t.key))}}class TR extends Se{constructor(t,i){super(t,"not-in",i),this.keys=L0("not-in",i)}matches(t){return!this.keys.some(i=>i.isEqual(t.key))}}function L0(r,t){var i;return(((i=t.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(s=>pt.fromName(s.referenceValue))}class bR extends Se{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return um(i)&&yo(i.arrayValue,this.value)}}class AR extends Se{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&yo(this.value.arrayValue,i)}}class SR extends Se{constructor(t,i){super(t,"not-in",i)}matches(t){if(yo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&!yo(this.value.arrayValue,i)}}class wR extends Se{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!um(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>yo(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(t,i=null,s=[],o=[],c=null,f=null,m=null){this.path=t,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=f,this.endAt=m,this.le=null}}function kv(r,t=null,i=[],s=[],o=null,c=null,f=null){return new RR(r,t,i,s,o,c,f)}function cm(r){const t=At(r);if(t.le===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map(s=>xd(s)).join(","),i+="|ob:",i+=t.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),Vc(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(s=>Ps(s)).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(s=>Ps(s)).join(",")),t.le=i}return t.le}function hm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!yR(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!M0(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Pv(r.startAt,t.startAt)&&Pv(r.endAt,t.endAt)}function Id(r){return pt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(t,i=null,s=[],o=[],c=null,f="F",m=null,p=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=f,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function CR(r,t,i,s,o,c,f,m){return new Mc(r,t,i,s,o,c,f,m)}function Uc(r){return new Mc(r)}function zv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function DR(r){return r.collectionGroup!==null}function oo(r){const t=At(r);if(t.he===null){t.he=[];const i=new Set;for(const c of t.explicitOrderBy)t.he.push(c),i.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Re(je.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(t).forEach(c=>{i.has(c.canonicalString())||c.isKeyField()||t.he.push(new yc(c,s))}),i.has(je.keyField().canonicalString())||t.he.push(new yc(je.keyField(),s))}return t.he}function oi(r){const t=At(r);return t.Pe||(t.Pe=xR(t,oo(r))),t.Pe}function xR(r,t){if(r.limitType==="F")return kv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(o=>{const c=o.dir==="desc"?"asc":"desc";return new yc(o.field,c)});const i=r.endAt?new pc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new pc(r.startAt.position,r.startAt.inclusive):null;return kv(r.path,r.collectionGroup,t,r.filters,r.limit,i,s)}}function Nd(r,t,i){return new Mc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function Lc(r,t){return hm(oi(r),oi(t))&&r.limitType===t.limitType}function P0(r){return`${cm(oi(r))}|lt:${r.limitType}`}function Is(r){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(o=>U0(o)).join(", ")}]`),Vc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(o=>Ps(o)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(o=>Ps(o)).join(",")),`Target(${s})`}(oi(r))}; limitType=${r.limitType})`}function Pc(r,t){return t.isFoundDocument()&&function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):pt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(r,t)&&function(s,o){for(const c of oo(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0}(r,t)&&function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0}(r,t)&&function(s,o){return!(s.startAt&&!function(f,m,p){const y=Lv(f,m,p);return f.inclusive?y<=0:y<0}(s.startAt,oo(s),o)||s.endAt&&!function(f,m,p){const y=Lv(f,m,p);return f.inclusive?y>=0:y>0}(s.endAt,oo(s),o))}(r,t)}function IR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function k0(r){return(t,i)=>{let s=!1;for(const o of oo(r)){const c=NR(o,t,i);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function NR(r,t,i){const s=r.field.isKeyField()?pt.comparator(t.key,i.key):function(c,f,m){const p=f.data.field(c),y=m.data.field(c);return p!==null&&y!==null?Ls(p,y):Et()}(r.field,t,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Et()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],t))return void(o[c]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Kr(this.inner,(i,s)=>{for(const[o,c]of s)t(o,c)})}isEmpty(){return b0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR=new ne(pt.comparator);function Ki(){return VR}const z0=new ne(pt.comparator);function no(...r){let t=z0;for(const i of r)t=t.insert(i.key,i);return t}function j0(r){let t=z0;return r.forEach((i,s)=>t=t.insert(i,s.overlayedDocument)),t}function xa(){return uo()}function B0(){return uo()}function uo(){return new Pa(r=>r.toString(),(r,t)=>r.isEqual(t))}const OR=new ne(pt.comparator),MR=new Re(pt.comparator);function Nt(...r){let t=MR;for(const i of r)t=t.add(i);return t}const UR=new Re(It);function LR(){return UR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dc(t)?"-0":t}}function q0(r){return{integerValue:""+r}}function PR(r,t){return uR(t)?q0(t):fm(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(){this._=void 0}}function kR(r,t,i){return r instanceof vc?function(o,c){const f={fields:{[w0]:{stringValue:S0},[C0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&om(c)&&(c=Oc(c)),c&&(f.fields[R0]=c),{mapValue:f}}(i,t):r instanceof vo?F0(r,t):r instanceof _o?G0(r,t):function(o,c){const f=H0(o,c),m=jv(f)+jv(o.Ie);return Dd(f)&&Dd(o.Ie)?q0(m):fm(o.serializer,m)}(r,t)}function zR(r,t,i){return r instanceof vo?F0(r,t):r instanceof _o?G0(r,t):i}function H0(r,t){return r instanceof _c?function(s){return Dd(s)||function(c){return!!c&&"doubleValue"in c}(s)}(t)?t:{integerValue:0}:null}class vc extends kc{}class vo extends kc{constructor(t){super(),this.elements=t}}function F0(r,t){const i=Q0(t);for(const s of r.elements)i.some(o=>hi(o,s))||i.push(s);return{arrayValue:{values:i}}}class _o extends kc{constructor(t){super(),this.elements=t}}function G0(r,t){let i=Q0(t);for(const s of r.elements)i=i.filter(o=>!hi(o,s));return{arrayValue:{values:i}}}class _c extends kc{constructor(t,i){super(),this.serializer=t,this.Ie=i}}function jv(r){return ce(r.integerValue||r.doubleValue)}function Q0(r){return um(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function jR(r,t){return r.field.isEqual(t.field)&&function(s,o){return s instanceof vo&&o instanceof vo||s instanceof _o&&o instanceof _o?Us(s.elements,o.elements,hi):s instanceof _c&&o instanceof _c?hi(s.Ie,o.Ie):s instanceof vc&&o instanceof vc}(r.transform,t.transform)}class BR{constructor(t,i){this.version=t,this.transformResults=i}}class Un{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Un}static exists(t){return new Un(void 0,t)}static updateTime(t){return new Un(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function sc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class zc{}function K0(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new dm(r.key,Un.none()):new Ao(r.key,r.data,Un.none());{const i=r.data,s=ln.empty();let o=new Re(je.comparator);for(let c of t.fields)if(!o.has(c)){let f=i.field(c);f===null&&c.length>1&&(c=c.popLast(),f=i.field(c)),f===null?s.delete(c):s.set(c,f),o=o.add(c)}return new Yr(r.key,s,new pn(o.toArray()),Un.none())}}function qR(r,t,i){r instanceof Ao?function(o,c,f){const m=o.value.clone(),p=qv(o.fieldTransforms,c,f.transformResults);m.setAll(p),c.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,t,i):r instanceof Yr?function(o,c,f){if(!sc(o.precondition,c))return void c.convertToUnknownDocument(f.version);const m=qv(o.fieldTransforms,c,f.transformResults),p=c.data;p.setAll(Y0(o)),p.setAll(m),c.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,t,i):function(o,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,i)}function co(r,t,i,s){return r instanceof Ao?function(c,f,m,p){if(!sc(c.precondition,f))return m;const y=c.value.clone(),E=Hv(c.fieldTransforms,p,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(r,t,i,s):r instanceof Yr?function(c,f,m,p){if(!sc(c.precondition,f))return m;const y=Hv(c.fieldTransforms,p,f),E=f.data;return E.setAll(Y0(c)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(S=>S.field))}(r,t,i,s):function(c,f,m){return sc(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,t,i)}function HR(r,t){let i=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),c=H0(s.transform,o||null);c!=null&&(i===null&&(i=ln.empty()),i.set(s.field,c))}return i||null}function Bv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Us(s,o,(c,f)=>jR(c,f))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Ao extends zc{constructor(t,i,s,o=[]){super(),this.key=t,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Yr extends zc{constructor(t,i,s,o,c=[]){super(),this.key=t,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Y0(r){const t=new Map;return r.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=r.data.field(i);t.set(i,s)}}),t}function qv(r,t,i){const s=new Map;Ft(r.length===i.length);for(let o=0;o<i.length;o++){const c=r[o],f=c.transform,m=t.data.field(c.field);s.set(c.field,zR(f,m,i[o]))}return s}function Hv(r,t,i){const s=new Map;for(const o of r){const c=o.transform,f=i.data.field(o.field);s.set(o.field,kR(c,f,t))}return s}class dm extends zc{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class FR extends zc{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(t,i,s,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(t.key)&&qR(c,t,s[o])}}applyToLocalView(t,i){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(i=co(s,t,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(i=co(s,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const s=B0();return this.mutations.forEach(o=>{const c=t.get(o.key),f=c.overlayedDocument;let m=this.applyToLocalView(f,c.mutatedFields);m=i.has(o.key)?null:m;const p=K0(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Tt.min())}),s}keys(){return this.mutations.reduce((t,i)=>t.add(i.key),Nt())}isEqual(t){return this.batchId===t.batchId&&Us(this.mutations,t.mutations,(i,s)=>Bv(i,s))&&Us(this.baseMutations,t.baseMutations,(i,s)=>Bv(i,s))}}class mm{constructor(t,i,s,o){this.batch=t,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(t,i,s){Ft(t.mutations.length===s.length);let o=function(){return OR}();const c=t.mutations;for(let f=0;f<c.length;f++)o=o.insert(c[f].key,s[f].version);return new mm(t,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe,Lt;function YR(r){switch(r){case et.OK:return Et();case et.CANCELLED:case et.UNKNOWN:case et.DEADLINE_EXCEEDED:case et.RESOURCE_EXHAUSTED:case et.INTERNAL:case et.UNAVAILABLE:case et.UNAUTHENTICATED:return!1;case et.INVALID_ARGUMENT:case et.NOT_FOUND:case et.ALREADY_EXISTS:case et.PERMISSION_DENIED:case et.FAILED_PRECONDITION:case et.ABORTED:case et.OUT_OF_RANGE:case et.UNIMPLEMENTED:case et.DATA_LOSS:return!0;default:return Et()}}function $0(r){if(r===void 0)return Qi("GRPC error has no .code"),et.UNKNOWN;switch(r){case pe.OK:return et.OK;case pe.CANCELLED:return et.CANCELLED;case pe.UNKNOWN:return et.UNKNOWN;case pe.DEADLINE_EXCEEDED:return et.DEADLINE_EXCEEDED;case pe.RESOURCE_EXHAUSTED:return et.RESOURCE_EXHAUSTED;case pe.INTERNAL:return et.INTERNAL;case pe.UNAVAILABLE:return et.UNAVAILABLE;case pe.UNAUTHENTICATED:return et.UNAUTHENTICATED;case pe.INVALID_ARGUMENT:return et.INVALID_ARGUMENT;case pe.NOT_FOUND:return et.NOT_FOUND;case pe.ALREADY_EXISTS:return et.ALREADY_EXISTS;case pe.PERMISSION_DENIED:return et.PERMISSION_DENIED;case pe.FAILED_PRECONDITION:return et.FAILED_PRECONDITION;case pe.ABORTED:return et.ABORTED;case pe.OUT_OF_RANGE:return et.OUT_OF_RANGE;case pe.UNIMPLEMENTED:return et.UNIMPLEMENTED;case pe.DATA_LOSS:return et.DATA_LOSS;default:return Et()}}(Lt=pe||(pe={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R=new Mr([4294967295,4294967295],0);function Fv(r){const t=wd().encode(r),i=new d0;return i.update(t),new Uint8Array(i.digest())}function Gv(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Mr([i,s],0),new Mr([o,c],0)]}class gm{constructor(t,i,s){if(this.bitmap=t,this.padding=i,this.hashCount=s,i<0||i>=8)throw new io(`Invalid padding: ${i}`);if(s<0)throw new io(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new io(`Invalid hash count: ${s}`);if(t.length===0&&i!==0)throw new io(`Invalid padding when bitmap length is 0: ${i}`);this.Ee=8*t.length-i,this.de=Mr.fromNumber(this.Ee)}Ae(t,i,s){let o=t.add(i.multiply(Mr.fromNumber(s)));return o.compare($R)===1&&(o=new Mr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const i=Fv(t),[s,o]=Gv(i);for(let c=0;c<this.hashCount;c++){const f=this.Ae(s,o,c);if(!this.Re(f))return!1}return!0}static create(t,i,s){const o=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),f=new gm(c,o,i);return s.forEach(m=>f.insert(m)),f}insert(t){if(this.Ee===0)return;const i=Fv(t),[s,o]=Gv(i);for(let c=0;c<this.hashCount;c++){const f=this.Ae(s,o,c);this.Ve(f)}}Ve(t){const i=Math.floor(t/8),s=t%8;this.bitmap[i]|=1<<s}}class io extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(t,i,s,o,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,s){const o=new Map;return o.set(t,So.createSynthesizedTargetChangeForCurrentChange(t,i,s)),new jc(Tt.min(),o,new ne(It),Ki(),Nt())}}class So{constructor(t,i,s,o,c){this.resumeToken=t,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,s){return new So(s,i,Nt(),Nt(),Nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(t,i,s,o){this.me=t,this.removedTargetIds=i,this.key=s,this.fe=o}}class X0{constructor(t,i){this.targetId=t,this.ge=i}}class Z0{constructor(t,i,s=Be.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=s,this.cause=o}}class Qv{constructor(){this.pe=0,this.ye=Kv(),this.we=Be.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(t){t.approximateByteSize()>0&&(this.be=!0,this.we=t)}Fe(){let t=Nt(),i=Nt(),s=Nt();return this.ye.forEach((o,c)=>{switch(c){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:Et()}}),new So(this.we,this.Se,t,i,s)}Me(){this.be=!1,this.ye=Kv()}xe(t,i){this.be=!0,this.ye=this.ye.insert(t,i)}Oe(t){this.be=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,Ft(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class XR{constructor(t){this.ke=t,this.qe=new Map,this.Qe=Ki(),this.$e=Wu(),this.Ue=Wu(),this.Ke=new ne(It)}We(t){for(const i of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(i,t.fe):this.ze(i,t.key,t.fe);for(const i of t.removedTargetIds)this.ze(i,t.key,t.fe)}je(t){this.forEachTarget(t,i=>{const s=this.He(i);switch(t.state){case 0:this.Je(i)&&s.Ce(t.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(t.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(i);break;case 3:this.Je(i)&&(s.Le(),s.Ce(t.resumeToken));break;case 4:this.Je(i)&&(this.Ye(i),s.Ce(t.resumeToken));break;default:Et()}})}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.qe.forEach((s,o)=>{this.Je(o)&&i(o)})}Ze(t){const i=t.targetId,s=t.ge.count,o=this.Xe(i);if(o){const c=o.target;if(Id(c))if(s===0){const f=new pt(c.path);this.ze(i,f,Ke.newNoDocument(f,Tt.min()))}else Ft(s===1);else{const f=this.et(i);if(f!==s){const m=this.tt(t),p=m?this.nt(m,t,f):1;if(p!==0){this.Ye(i);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(i,y)}}}}}tt(t){const i=t.ge.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=i;let f,m;try{f=Br(s).toUint8Array()}catch(p){if(p instanceof A0)return Ms("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new gm(f,o,c)}catch(p){return Ms(p instanceof io?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(t,i,s){return i.ge.count===s-this.st(t,i.targetId)?0:2}st(t,i){const s=this.ke.getRemoteKeysForTarget(i);let o=0;return s.forEach(c=>{const f=this.ke.it(),m=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;t.mightContain(m)||(this.ze(i,c,null),o++)}),o}ot(t){const i=new Map;this.qe.forEach((c,f)=>{const m=this.Xe(f);if(m){if(c.current&&Id(m.target)){const p=new pt(m.target.path);this._t(p).has(f)||this.ut(f,p)||this.ze(f,p,Ke.newNoDocument(p,t))}c.ve&&(i.set(f,c.Fe()),c.Me())}});let s=Nt();this.Ue.forEach((c,f)=>{let m=!0;f.forEachWhile(p=>{const y=this.Xe(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(c))}),this.Qe.forEach((c,f)=>f.setReadTime(t));const o=new jc(t,i,this.Ke,this.Qe,s);return this.Qe=Ki(),this.$e=Wu(),this.Ue=Wu(),this.Ke=new ne(It),o}Ge(t,i){if(!this.Je(t))return;const s=this.ut(t,i.key)?2:0;this.He(t).xe(i.key,s),this.Qe=this.Qe.insert(i.key,i),this.$e=this.$e.insert(i.key,this._t(i.key).add(t)),this.Ue=this.Ue.insert(i.key,this.ct(i.key).add(t))}ze(t,i,s){if(!this.Je(t))return;const o=this.He(t);this.ut(t,i)?o.xe(i,1):o.Oe(i),this.Ue=this.Ue.insert(i,this.ct(i).delete(t)),this.Ue=this.Ue.insert(i,this.ct(i).add(t)),s&&(this.Qe=this.Qe.insert(i,s))}removeTarget(t){this.qe.delete(t)}et(t){const i=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let i=this.qe.get(t);return i||(i=new Qv,this.qe.set(t,i)),i}ct(t){let i=this.Ue.get(t);return i||(i=new Re(It),this.Ue=this.Ue.insert(t,i)),i}_t(t){let i=this.$e.get(t);return i||(i=new Re(It),this.$e=this.$e.insert(t,i)),i}Je(t){const i=this.Xe(t)!==null;return i||ut("WatchChangeAggregator","Detected inactive target",t),i}Xe(t){const i=this.qe.get(t);return i&&i.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new Qv),this.ke.getRemoteKeysForTarget(t).forEach(i=>{this.ze(t,i,null)})}ut(t,i){return this.ke.getRemoteKeysForTarget(t).has(i)}}function Wu(){return new ne(pt.comparator)}function Kv(){return new ne(pt.comparator)}const ZR={asc:"ASCENDING",desc:"DESCENDING"},WR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},JR={and:"AND",or:"OR"};class t2{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Vd(r,t){return r.useProto3Json||Vc(t)?t:{value:t}}function Ec(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function W0(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function e2(r,t){return Ec(r,t.toTimestamp())}function ui(r){return Ft(!!r),Tt.fromTimestamp(function(i){const s=jr(i);return new we(s.seconds,s.nanos)}(r))}function pm(r,t){return Od(r,t).canonicalString()}function Od(r,t){const i=function(o){return new Zt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return t===void 0?i:i.child(t)}function J0(r){const t=Zt.fromString(r);return Ft(rE(t)),t}function Md(r,t){return pm(r.databaseId,t.path)}function cd(r,t){const i=J0(t);if(i.get(1)!==r.databaseId.projectId)throw new mt(et.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new mt(et.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new pt(eE(i))}function tE(r,t){return pm(r.databaseId,t)}function n2(r){const t=J0(r);return t.length===4?Zt.emptyPath():eE(t)}function Ud(r){return new Zt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function eE(r){return Ft(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function Yv(r,t,i){return{name:Md(r,t),fields:i.value.mapValue.fields}}function i2(r,t){let i;if("targetChange"in t){t.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Et()}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],c=function(y,E){return y.useProto3Json?(Ft(E===void 0||typeof E=="string"),Be.fromBase64String(E||"")):(Ft(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Be.fromUint8Array(E||new Uint8Array))}(r,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&function(y){const E=y.code===void 0?et.UNKNOWN:$0(y.code);return new mt(E,y.message||"")}(f);i=new Z0(s,o,c,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=cd(r,s.document.name),c=ui(s.document.updateTime),f=s.document.createTime?ui(s.document.createTime):Tt.min(),m=new ln({mapValue:{fields:s.document.fields}}),p=Ke.newFoundDocument(o,c,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];i=new lc(y,E,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=cd(r,s.document),c=s.readTime?ui(s.readTime):Tt.min(),f=Ke.newNoDocument(o,c),m=s.removedTargetIds||[];i=new lc([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=cd(r,s.document),c=s.removedTargetIds||[];i=new lc([],c,o,null)}else{if(!("filter"in t))return Et();{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,f=new KR(o,c),m=s.targetId;i=new X0(m,f)}}return i}function r2(r,t){let i;if(t instanceof Ao)i={update:Yv(r,t.key,t.value)};else if(t instanceof dm)i={delete:Md(r,t.key)};else if(t instanceof Yr)i={update:Yv(r,t.key,t.data),updateMask:d2(t.fieldMask)};else{if(!(t instanceof FR))return Et();i={verify:Md(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map(s=>function(c,f){const m=f.transform;if(m instanceof vc)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof vo)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof _o)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof _c)return{fieldPath:f.field.canonicalString(),increment:m.Ie};throw Et()}(0,s))),t.precondition.isNone||(i.currentDocument=function(o,c){return c.updateTime!==void 0?{updateTime:e2(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Et()}(r,t.precondition)),i}function a2(r,t){return r&&r.length>0?(Ft(t!==void 0),r.map(i=>function(o,c){let f=o.updateTime?ui(o.updateTime):ui(c);return f.isEqual(Tt.min())&&(f=ui(c)),new BR(f,o.transformResults||[])}(i,t))):[]}function s2(r,t){return{documents:[tE(r,t.path)]}}function l2(r,t){const i={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=tE(r,o);const c=function(y){if(y.length!==0)return iE(fi.create(y,"and"))}(t.filters);c&&(i.structuredQuery.where=c);const f=function(y){if(y.length!==0)return y.map(E=>function(R){return{field:Ns(R.field),direction:c2(R.dir)}}(E))}(t.orderBy);f&&(i.structuredQuery.orderBy=f);const m=Vd(r,t.limit);return m!==null&&(i.structuredQuery.limit=m),t.startAt&&(i.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(t.startAt)),t.endAt&&(i.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(t.endAt)),{ht:i,parent:o}}function o2(r){let t=n2(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){Ft(s===1);const E=i.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let c=[];i.where&&(c=function(S){const R=nE(S);return R instanceof fi&&O0(R)?R.getFilters():[R]}(i.where));let f=[];i.orderBy&&(f=function(S){return S.map(R=>function(P){return new yc(Vs(P.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(R))}(i.orderBy));let m=null;i.limit&&(m=function(S){let R;return R=typeof S=="object"?S.value:S,Vc(R)?null:R}(i.limit));let p=null;i.startAt&&(p=function(S){const R=!!S.before,I=S.values||[];return new pc(I,R)}(i.startAt));let y=null;return i.endAt&&(y=function(S){const R=!S.before,I=S.values||[];return new pc(I,R)}(i.endAt)),CR(t,o,f,c,m,"F",p,y)}function u2(r,t){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et()}}(t.purpose);return i==null?null:{"goog-listen-tags":i}}function nE(r){return r.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Vs(i.unaryFilter.field);return Se.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Vs(i.unaryFilter.field);return Se.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Vs(i.unaryFilter.field);return Se.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Vs(i.unaryFilter.field);return Se.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Et()}}(r):r.fieldFilter!==void 0?function(i){return Se.create(Vs(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Et()}}(i.fieldFilter.op),i.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(i){return fi.create(i.compositeFilter.filters.map(s=>nE(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Et()}}(i.compositeFilter.op))}(r):Et()}function c2(r){return ZR[r]}function h2(r){return WR[r]}function f2(r){return JR[r]}function Ns(r){return{fieldPath:r.canonicalString()}}function Vs(r){return je.fromServerFormat(r.fieldPath)}function iE(r){return r instanceof Se?function(i){if(i.op==="=="){if(Uv(i.value))return{unaryFilter:{field:Ns(i.field),op:"IS_NAN"}};if(Mv(i.value))return{unaryFilter:{field:Ns(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Uv(i.value))return{unaryFilter:{field:Ns(i.field),op:"IS_NOT_NAN"}};if(Mv(i.value))return{unaryFilter:{field:Ns(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ns(i.field),op:h2(i.op),value:i.value}}}(r):r instanceof fi?function(i){const s=i.getFilters().map(o=>iE(o));return s.length===1?s[0]:{compositeFilter:{op:f2(i.op),filters:s}}}(r):Et()}function d2(r){const t=[];return r.fields.forEach(i=>t.push(i.canonicalString())),{fieldPaths:t}}function rE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(t,i,s,o,c=Tt.min(),f=Tt.min(),m=Be.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new Nr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Nr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(t){this.Tt=t}}function g2(r){const t=o2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Nd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(){this.Tn=new y2}addToCollectionParentIndex(t,i){return this.Tn.add(i),W.resolve()}getCollectionParents(t,i){return W.resolve(this.Tn.getEntries(i))}addFieldIndex(t,i){return W.resolve()}deleteFieldIndex(t,i){return W.resolve()}deleteAllFieldIndexes(t){return W.resolve()}createTargetIndexes(t,i){return W.resolve()}getDocumentsMatchingTarget(t,i){return W.resolve(null)}getIndexType(t,i){return W.resolve(0)}getFieldIndexes(t,i){return W.resolve([])}getNextCollectionGroupToUpdate(t){return W.resolve(null)}getMinOffset(t,i){return W.resolve(zr.min())}getMinOffsetFromCollectionGroup(t,i){return W.resolve(zr.min())}updateCollectionGroup(t,i,s){return W.resolve()}updateIndexEntries(t,i){return W.resolve()}}class y2{constructor(){this.index={}}add(t){const i=t.lastSegment(),s=t.popLast(),o=this.index[i]||new Re(Zt.comparator),c=!o.has(s);return this.index[i]=o.add(s),c}has(t){const i=t.lastSegment(),s=t.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Re(Zt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},aE=41943040;class sn{static withCacheSize(t){return new sn(t,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sn.DEFAULT_COLLECTION_PERCENTILE=10,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sn.DEFAULT=new sn(aE,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sn.DISABLED=new sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Un(){return new ks(0)}static Kn(){return new ks(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv="LruGarbageCollector",v2=1048576;function Zv([r,t],[i,s]){const o=It(r,i);return o===0?It(t,s):o}class _2{constructor(t){this.Hn=t,this.buffer=new Re(Zv),this.Jn=0}Yn(){return++this.Jn}Zn(t){const i=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();Zv(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class E2{constructor(t,i,s){this.garbageCollector=t,this.asyncQueue=i,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){ut(Xv,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Fs(i)?ut(Xv,"Ignoring IndexedDB error during garbage collection: ",i):await Hs(i)}await this.er(3e5)})}}class T2{constructor(t,i){this.tr=t,this.params=i}calculateTargetCount(t,i){return this.tr.nr(t).next(s=>Math.floor(i/100*s))}nthSequenceNumber(t,i){if(i===0)return W.resolve(Nc.ae);const s=new _2(i);return this.tr.forEachTarget(t,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(t,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(t,i,s){return this.tr.removeTargets(t,i,s)}removeOrphanedDocuments(t,i){return this.tr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve($v)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$v):this.ir(t,i))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,i){let s,o,c,f,m,p,y;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(t,o))).next(S=>(s=S,m=Date.now(),this.removeTargets(t,s,i))).next(S=>(c=S,p=Date.now(),this.removeOrphanedDocuments(t,s))).next(S=>(y=Date.now(),xs()<=Pt.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${c} targets in `+(p-m)+`ms
	Removed ${S} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:S})))}}function b2(r,t){return new T2(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(){this.changes=new Pa(t=>t.toString(),(t,i)=>t.isEqual(i)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Ke.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?W.resolve(s):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(t,i,s,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,i){let s=null;return this.documentOverlayCache.getOverlay(t,i).next(o=>(s=o,this.remoteDocumentCache.getEntry(t,i))).next(o=>(s!==null&&co(s.mutation,o,pn.empty(),we.now()),o))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next(s=>this.getLocalViewOfDocuments(t,s,Nt()).next(()=>s))}getLocalViewOfDocuments(t,i,s=Nt()){const o=xa();return this.populateOverlays(t,o,i).next(()=>this.computeViews(t,i,o,s).next(c=>{let f=no();return c.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(t,i){const s=xa();return this.populateOverlays(t,s,i).next(()=>this.computeViews(t,i,s,Nt()))}populateOverlays(t,i,s){const o=[];return s.forEach(c=>{i.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(t,o).next(c=>{c.forEach((f,m)=>{i.set(f,m)})})}computeViews(t,i,s,o){let c=Ki();const f=uo(),m=function(){return uo()}();return i.forEach((p,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Yr)?c=c.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),co(E.mutation,y,E.mutation.getFieldMask(),we.now())):f.set(y.key,pn.empty())}),this.recalculateAndSaveOverlays(t,c).next(p=>(p.forEach((y,E)=>f.set(y,E)),i.forEach((y,E)=>{var S;return m.set(y,new S2(E,(S=f.get(y))!==null&&S!==void 0?S:null))}),m))}recalculateAndSaveOverlays(t,i){const s=uo();let o=new ne((f,m)=>f-m),c=Nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next(f=>{for(const m of f)m.keys().forEach(p=>{const y=i.get(p);if(y===null)return;let E=s.get(p)||pn.empty();E=m.applyToLocalView(y,E),s.set(p,E);const S=(o.get(m.batchId)||Nt()).add(p);o=o.insert(m.batchId,S)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,E=p.value,S=B0();E.forEach(R=>{if(!c.has(R)){const I=K0(i.get(R),s.get(R));I!==null&&S.set(R,I),c=c.add(R)}}),f.push(this.documentOverlayCache.saveOverlays(t,y,S))}return W.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,i,s,o){return function(f){return pt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):DR(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,s,o):this.getDocumentsMatchingCollectionQuery(t,i,s,o)}getNextDocuments(t,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,s,o).next(c=>{const f=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,s.largestBatchId,o-c.size):W.resolve(xa());let m=mo,p=c;return f.next(y=>W.forEach(y,(E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),c.get(E)?W.resolve():this.remoteDocumentCache.getEntry(t,E).next(R=>{p=p.insert(E,R)}))).next(()=>this.populateOverlays(t,y,c)).next(()=>this.computeViews(t,p,y,Nt())).next(E=>({batchId:m,changes:j0(E)})))})}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new pt(i)).next(s=>{let o=no();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(t,i,s,o){const c=i.collectionGroup;let f=no();return this.indexManager.getCollectionParents(t,c).next(m=>W.forEach(m,p=>{const y=function(S,R){return new Mc(R,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(i,p.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,s,o).next(E=>{E.forEach((S,R)=>{f=f.insert(S,R)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(t,i,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,s.largestBatchId).next(f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,s,c,o))).next(f=>{c.forEach((p,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,Ke.newInvalidDocument(E)))});let m=no();return f.forEach((p,y)=>{const E=c.get(p);E!==void 0&&co(E.mutation,y,pn.empty(),we.now()),Pc(i,y)&&(m=m.insert(p,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,i){return W.resolve(this.dr.get(i))}saveBundleMetadata(t,i){return this.dr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:ui(o.createTime)}}(i)),W.resolve()}getNamedQuery(t,i){return W.resolve(this.Ar.get(i))}saveNamedQuery(t,i){return this.Ar.set(i.name,function(o){return{name:o.name,query:g2(o.bundledQuery),readTime:ui(o.readTime)}}(i)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(){this.overlays=new ne(pt.comparator),this.Rr=new Map}getOverlay(t,i){return W.resolve(this.overlays.get(i))}getOverlays(t,i){const s=xa();return W.forEach(i,o=>this.getOverlay(t,o).next(c=>{c!==null&&s.set(o,c)})).next(()=>s)}saveOverlays(t,i,s){return s.forEach((o,c)=>{this.Et(t,i,c)}),W.resolve()}removeOverlaysForBatchId(t,i,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.Rr.delete(s)),W.resolve()}getOverlaysForCollection(t,i,s){const o=xa(),c=i.length+1,f=new pt(i.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&p.largestBatchId>s&&o.set(p.getKey(),p)}return W.resolve(o)}getOverlaysForCollectionGroup(t,i,s,o){let c=new ne((y,E)=>y-E);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>s){let E=c.get(y.largestBatchId);E===null&&(E=xa(),c=c.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=xa(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,E)=>m.set(y,E)),!(m.size()>=o)););return W.resolve(m)}Et(t,i,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new QR(i,s));let c=this.Rr.get(i);c===void 0&&(c=Nt(),this.Rr.set(i,c)),this.Rr.set(i,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(){this.sessionToken=Be.EMPTY_BYTE_STRING}getSessionToken(t){return W.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(){this.Vr=new Re(Me.mr),this.gr=new Re(Me.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,i){const s=new Me(t,i);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(t,i){t.forEach(s=>this.addReference(s,i))}removeReference(t,i){this.wr(new Me(t,i))}Sr(t,i){t.forEach(s=>this.removeReference(s,i))}br(t){const i=new pt(new Zt([])),s=new Me(i,t),o=new Me(i,t+1),c=[];return this.gr.forEachInRange([s,o],f=>{this.wr(f),c.push(f.key)}),c}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const i=new pt(new Zt([])),s=new Me(i,t),o=new Me(i,t+1);let c=Nt();return this.gr.forEachInRange([s,o],f=>{c=c.add(f.key)}),c}containsKey(t){const i=new Me(t,0),s=this.Vr.firstAfterOrEqual(i);return s!==null&&t.isEqual(s.key)}}class Me{constructor(t,i){this.key=t,this.Cr=i}static mr(t,i){return pt.comparator(t.key,i.key)||It(t.Cr,i.Cr)}static pr(t,i){return It(t.Cr,i.Cr)||pt.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Fr=1,this.Mr=new Re(Me.mr)}checkEmpty(t){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,s,o){const c=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new GR(c,i,s,o);this.mutationQueue.push(f);for(const m of o)this.Mr=this.Mr.add(new Me(m.key,c)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return W.resolve(f)}lookupMutationBatch(t,i){return W.resolve(this.Or(i))}getNextMutationBatchAfterBatchId(t,i){const s=i+1,o=this.Nr(s),c=o<0?0:o;return W.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?lm:this.Fr-1)}getAllMutationBatches(t){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const s=new Me(i,0),o=new Me(i,Number.POSITIVE_INFINITY),c=[];return this.Mr.forEachInRange([s,o],f=>{const m=this.Or(f.Cr);c.push(m)}),W.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let s=new Re(It);return i.forEach(o=>{const c=new Me(o,0),f=new Me(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([c,f],m=>{s=s.add(m.Cr)})}),W.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(t,i){const s=i.path,o=s.length+1;let c=s;pt.isDocumentKey(c)||(c=c.child(""));const f=new Me(new pt(c),0);let m=new Re(It);return this.Mr.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Cr)),!0)},f),W.resolve(this.Br(m))}Br(t){const i=[];return t.forEach(s=>{const o=this.Or(s);o!==null&&i.push(o)}),i}removeMutationBatch(t,i){Ft(this.Lr(i.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return W.forEach(i.mutations,o=>{const c=new Me(o.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Mr=s})}qn(t){}containsKey(t,i){const s=new Me(i,0),o=this.Mr.firstAfterOrEqual(s);return W.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,W.resolve()}Lr(t,i){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const i=this.Nr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(t){this.kr=t,this.docs=function(){return new ne(pt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const s=i.key,o=this.docs.get(s),c=o?o.size:0,f=this.kr(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const s=this.docs.get(i);return W.resolve(s?s.document.mutableCopy():Ke.newInvalidDocument(i))}getEntries(t,i){let s=Ki();return i.forEach(o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():Ke.newInvalidDocument(o))}),W.resolve(s)}getDocumentsMatchingQuery(t,i,s,o){let c=Ki();const f=i.path,m=new pt(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||aR(rR(E),s)<=0||(o.has(E.key)||Pc(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return W.resolve(c)}getAllFromCollectionGroup(t,i,s,o){Et()}qr(t,i){return W.forEach(this.docs,s=>i(s))}newChangeBuffer(t){return new N2(this)}getSize(t){return W.resolve(this.size)}}class N2 extends A2{constructor(t){super(),this.Ir=t}applyChanges(t){const i=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?i.push(this.Ir.addEntry(t,o)):this.Ir.removeEntry(s)}),W.waitFor(i)}getFromCache(t,i){return this.Ir.getEntry(t,i)}getAllFromCache(t,i){return this.Ir.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(t){this.persistence=t,this.Qr=new Pa(i=>cm(i),hm),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.$r=0,this.Ur=new ym,this.targetCount=0,this.Kr=ks.Un()}forEachTarget(t,i){return this.Qr.forEach((s,o)=>i(o)),W.resolve()}getLastRemoteSnapshotVersion(t){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return W.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Kr.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(t,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.$r&&(this.$r=i),W.resolve()}zn(t){this.Qr.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.Kr=new ks(i),this.highestTargetId=i),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,i){return this.zn(i),this.targetCount+=1,W.resolve()}updateTargetData(t,i){return this.zn(i),W.resolve()}removeTargetData(t,i){return this.Qr.delete(i.target),this.Ur.br(i.targetId),this.targetCount-=1,W.resolve()}removeTargets(t,i,s){let o=0;const c=[];return this.Qr.forEach((f,m)=>{m.sequenceNumber<=i&&s.get(m.targetId)===null&&(this.Qr.delete(f),c.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)}),W.waitFor(c).next(()=>o)}getTargetCount(t){return W.resolve(this.targetCount)}getTargetData(t,i){const s=this.Qr.get(i)||null;return W.resolve(s)}addMatchingKeys(t,i,s){return this.Ur.yr(i,s),W.resolve()}removeMatchingKeys(t,i,s){this.Ur.Sr(i,s);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach(f=>{c.push(o.markPotentiallyOrphaned(t,f))}),W.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.Ur.br(i),W.resolve()}getMatchingKeysForTargetId(t,i){const s=this.Ur.vr(i);return W.resolve(s)}containsKey(t,i){return W.resolve(this.Ur.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(t,i){this.Wr={},this.overlays={},this.Gr=new Nc(0),this.zr=!1,this.zr=!0,this.jr=new D2,this.referenceDelegate=t(this),this.Hr=new V2(this),this.indexManager=new p2,this.remoteDocumentCache=function(o){return new I2(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new m2(i),this.Yr=new R2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new C2,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let s=this.Wr[t.toKey()];return s||(s=new x2(i,this.referenceDelegate),this.Wr[t.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,i,s){ut("MemoryPersistence","Starting transaction:",t);const o=new O2(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(c=>this.referenceDelegate.Xr(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}ei(t,i){return W.or(Object.values(this.Wr).map(s=>()=>s.containsKey(t,i)))}}class O2 extends lR{constructor(t){super(),this.currentSequenceNumber=t}}class vm{constructor(t){this.persistence=t,this.ti=new ym,this.ni=null}static ri(t){return new vm(t)}get ii(){if(this.ni)return this.ni;throw Et()}addReference(t,i,s){return this.ti.addReference(s,i),this.ii.delete(s.toString()),W.resolve()}removeReference(t,i,s){return this.ti.removeReference(s,i),this.ii.add(s.toString()),W.resolve()}markPotentiallyOrphaned(t,i){return this.ii.add(i.toString()),W.resolve()}removeTarget(t,i){this.ti.br(i.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,i.targetId).next(o=>{o.forEach(c=>this.ii.add(c.toString()))}).next(()=>s.removeTargetData(t,i))}Zr(){this.ni=new Set}Xr(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.ii,s=>{const o=pt.fromPath(s);return this.si(t,o).next(c=>{c||i.removeEntry(o,Tt.min())})}).next(()=>(this.ni=null,i.apply(t)))}updateLimboDocument(t,i){return this.si(t,i).next(s=>{s?this.ii.delete(i.toString()):this.ii.add(i.toString())})}Jr(t){return 0}si(t,i){return W.or([()=>W.resolve(this.ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.ei(t,i)])}}class Tc{constructor(t,i){this.persistence=t,this.oi=new Pa(s=>cR(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=b2(this,i)}static ri(t,i){return new Tc(t,i)}Zr(){}Xr(t){return W.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}nr(t){const i=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>i.next(o=>s+o))}sr(t){let i=0;return this.rr(t,s=>{i++}).next(()=>i)}rr(t,i){return W.forEach(this.oi,(s,o)=>this.ar(t,s,o).next(c=>c?W.resolve():i(o)))}removeTargets(t,i,s){return this.persistence.getTargetCache().removeTargets(t,i,s)}removeOrphanedDocuments(t,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.qr(t,f=>this.ar(t,f,i).next(m=>{m||(s++,c.removeEntry(f,Tt.min()))})).next(()=>c.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,i){return this.oi.set(i,t.currentSequenceNumber),W.resolve()}removeTarget(t,i){const s=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,i,s){return this.oi.set(s,t.currentSequenceNumber),W.resolve()}removeReference(t,i,s){return this.oi.set(s,t.currentSequenceNumber),W.resolve()}updateLimboDocument(t,i){return this.oi.set(i,t.currentSequenceNumber),W.resolve()}Jr(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=rc(t.data.value)),i}ar(t,i,s){return W.or([()=>this.persistence.ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.oi.get(i);return W.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(t,i,s,o){this.targetId=t,this.fromCache=i,this.Hi=s,this.Ji=o}static Yi(t,i){let s=Nt(),o=Nt();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new _m(t,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return hS()?8:oR(oS())>0?6:4}()}initialize(t,i){this.ns=t,this.indexManager=i,this.Zi=!0}getDocumentsMatchingQuery(t,i,s,o){const c={result:null};return this.rs(t,i).next(f=>{c.result=f}).next(()=>{if(!c.result)return this.ss(t,i,o,s).next(f=>{c.result=f})}).next(()=>{if(c.result)return;const f=new M2;return this._s(t,i,f).next(m=>{if(c.result=m,this.Xi)return this.us(t,i,f,m.size)})}).next(()=>c.result)}us(t,i,s,o){return s.documentReadCount<this.es?(xs()<=Pt.DEBUG&&ut("QueryEngine","SDK will not create cache indexes for query:",Is(i),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),W.resolve()):(xs()<=Pt.DEBUG&&ut("QueryEngine","Query:",Is(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(xs()<=Pt.DEBUG&&ut("QueryEngine","The SDK decides to create cache indexes for query:",Is(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,oi(i))):W.resolve())}rs(t,i){if(zv(i))return W.resolve(null);let s=oi(i);return this.indexManager.getIndexType(t,s).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=Nd(i,null,"F"),s=oi(i)),this.indexManager.getDocumentsMatchingTarget(t,s).next(c=>{const f=Nt(...c);return this.ns.getDocuments(t,f).next(m=>this.indexManager.getMinOffset(t,s).next(p=>{const y=this.cs(i,m);return this.ls(i,y,f,p.readTime)?this.rs(t,Nd(i,null,"F")):this.hs(t,y,i,p)}))})))}ss(t,i,s,o){return zv(i)||o.isEqual(Tt.min())?W.resolve(null):this.ns.getDocuments(t,s).next(c=>{const f=this.cs(i,c);return this.ls(i,f,s,o)?W.resolve(null):(xs()<=Pt.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Is(i)),this.hs(t,f,i,iR(o,mo)).next(m=>m))})}cs(t,i){let s=new Re(k0(t));return i.forEach((o,c)=>{Pc(t,c)&&(s=s.add(c))}),s}ls(t,i,s,o){if(t.limit===null)return!1;if(s.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}_s(t,i,s){return xs()<=Pt.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",Is(i)),this.ns.getDocumentsMatchingQuery(t,i,zr.min(),s)}hs(t,i,s,o){return this.ns.getDocumentsMatchingQuery(t,s,o).next(c=>(i.forEach(f=>{c=c.insert(f.key,f)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em="LocalStore",L2=3e8;class P2{constructor(t,i,s,o){this.persistence=t,this.Ps=i,this.serializer=o,this.Ts=new ne(It),this.Is=new Pa(c=>cm(c),hm),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(s)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new w2(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>t.collect(i,this.Ts))}}function k2(r,t,i,s){return new P2(r,t,i,s)}async function lE(r,t){const i=At(r);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next(c=>(o=c,i.As(t),i.mutationQueue.getAllMutationBatches(s))).next(c=>{const f=[],m=[];let p=Nt();for(const y of o){f.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of c){m.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return i.localDocuments.getDocuments(s,p).next(y=>({Rs:y,removedBatchIds:f,addedBatchIds:m}))})})}function z2(r,t){const i=At(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=t.batch.keys(),c=i.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,y,E){const S=y.batch,R=S.keys();let I=W.resolve();return R.forEach(P=>{I=I.next(()=>E.getEntry(p,P)).next(q=>{const V=y.docVersions.get(P);Ft(V!==null),q.version.compareTo(V)<0&&(S.applyToRemoteDocument(q,y),q.isValidDocument()&&(q.setReadTime(y.commitVersion),E.addEntry(q)))})}),I.next(()=>m.mutationQueue.removeMutationBatch(p,S))}(i,s,t,c).next(()=>c.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Nt();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p}(t))).next(()=>i.localDocuments.getDocuments(s,o))})}function oE(r){const t=At(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",i=>t.Hr.getLastRemoteSnapshotVersion(i))}function j2(r,t){const i=At(r),s=t.snapshotVersion;let o=i.Ts;return i.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=i.ds.newChangeBuffer({trackRemovals:!0});o=i.Ts;const m=[];t.targetChanges.forEach((E,S)=>{const R=o.get(S);if(!R)return;m.push(i.Hr.removeMatchingKeys(c,E.removedDocuments,S).next(()=>i.Hr.addMatchingKeys(c,E.addedDocuments,S)));let I=R.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(S)!==null?I=I.withResumeToken(Be.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):E.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(E.resumeToken,s)),o=o.insert(S,I),function(q,V,K){return q.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=L2?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0}(R,I,E)&&m.push(i.Hr.updateTargetData(c,I))});let p=Ki(),y=Nt();if(t.documentUpdates.forEach(E=>{t.resolvedLimboDocuments.has(E)&&m.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))}),m.push(B2(c,f,t.documentUpdates).next(E=>{p=E.Vs,y=E.fs})),!s.isEqual(Tt.min())){const E=i.Hr.getLastRemoteSnapshotVersion(c).next(S=>i.Hr.setTargetsMetadata(c,c.currentSequenceNumber,s));m.push(E)}return W.waitFor(m).next(()=>f.apply(c)).next(()=>i.localDocuments.getLocalViewOfDocuments(c,p,y)).next(()=>p)}).then(c=>(i.Ts=o,c))}function B2(r,t,i){let s=Nt(),o=Nt();return i.forEach(c=>s=s.add(c)),t.getEntries(r,s).next(c=>{let f=Ki();return i.forEach((m,p)=>{const y=c.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Tt.min())?(t.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(p),f=f.insert(m,p)):ut(Em,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)}),{Vs:f,fs:o}})}function q2(r,t){const i=At(r);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=lm),i.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function H2(r,t){const i=At(r);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return i.Hr.getTargetData(s,t).next(c=>c?(o=c,W.resolve(o)):i.Hr.allocateTargetId(s).next(f=>(o=new Nr(t,f,"TargetPurposeListen",s.currentSequenceNumber),i.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=i.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ts=i.Ts.insert(s.targetId,s),i.Is.set(t,s.targetId)),s})}async function Ld(r,t,i){const s=At(r),o=s.Ts.get(t),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!Fs(f))throw f;ut(Em,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Ts=s.Ts.remove(t),s.Is.delete(o.target)}function Wv(r,t,i){const s=At(r);let o=Tt.min(),c=Nt();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,y,E){const S=At(p),R=S.Is.get(E);return R!==void 0?W.resolve(S.Ts.get(R)):S.Hr.getTargetData(y,E)}(s,f,oi(t)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(f,m.targetId).next(p=>{c=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(f,t,i?o:Tt.min(),i?c:Nt())).next(m=>(F2(s,IR(t),m),{documents:m,gs:c})))}function F2(r,t,i){let s=r.Es.get(t)||Tt.min();i.forEach((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),r.Es.set(t,s)}class Jv{constructor(){this.activeTargetIds=LR()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}bs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class G2{constructor(){this.ho=new Jv,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,s){}addLocalQueryTarget(t,i=!0){return i&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,i,s){this.Po[t]=i}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new Jv,Promise.resolve()}handleUserChange(t,i,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_="ConnectivityMonitor";class e_{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ut(t_,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){ut(t_,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ju=null;function Pd(){return Ju===null?Ju=function(){return 268435456+Math.round(2147483648*Math.random())}():Ju++,"0x"+Ju.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hd="RestConnection",K2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Y2{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=i+"://"+t.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===mc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(t,i,s,o,c){const f=Pd(),m=this.bo(t,i.toUriEncodedString());ut(hd,`Sending RPC '${t}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,c),this.vo(t,m,p,s).then(y=>(ut(hd,`Received RPC '${t}' ${f}: `,y),y),y=>{throw Ms(hd,`RPC '${t}' ${f} failed with error: `,y,"url: ",m,"request:",s),y})}Co(t,i,s,o,c,f){return this.So(t,i,s,o,c)}Do(t,i,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+qs}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,c)=>t[c]=o),s&&s.headers.forEach((o,c)=>t[c]=o)}bo(t,i){const s=K2[t];return`${this.po}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Uo(t){this.ko(t)}Ko(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ge="WebChannelConnection";class X2 extends Y2{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,i,s,o){const c=Pd();return new Promise((f,m)=>{const p=new m0;p.setWithCredentials(!0),p.listenOnce(g0.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case ic.NO_ERROR:const E=p.getResponseJson();ut(Ge,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(E)),f(E);break;case ic.TIMEOUT:ut(Ge,`RPC '${t}' ${c} timed out`),m(new mt(et.DEADLINE_EXCEEDED,"Request time out"));break;case ic.HTTP_ERROR:const S=p.getStatus();if(ut(Ge,`RPC '${t}' ${c} failed with status:`,S,"response text:",p.getResponseText()),S>0){let R=p.getResponseJson();Array.isArray(R)&&(R=R[0]);const I=R==null?void 0:R.error;if(I&&I.status&&I.message){const P=function(V){const K=V.toLowerCase().replace(/_/g,"-");return Object.values(et).indexOf(K)>=0?K:et.UNKNOWN}(I.status);m(new mt(P,I.message))}else m(new mt(et.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new mt(et.UNAVAILABLE,"Connection failed."));break;default:Et()}}finally{ut(Ge,`RPC '${t}' ${c} completed.`)}});const y=JSON.stringify(o);ut(Ge,`RPC '${t}' ${c} sending request:`,o),p.send(i,"POST",y,s,15)})}Wo(t,i,s){const o=Pd(),c=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=v0(),m=y0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,i,s),p.encodeInitMessageHeaders=!0;const E=c.join("");ut(Ge,`Creating RPC '${t}' stream ${o}: ${E}`,p);const S=f.createWebChannel(E,p);let R=!1,I=!1;const P=new $2({Fo:V=>{I?ut(Ge,`Not sending because RPC '${t}' stream ${o} is closed:`,V):(R||(ut(Ge,`Opening RPC '${t}' stream ${o} transport.`),S.open(),R=!0),ut(Ge,`RPC '${t}' stream ${o} sending:`,V),S.send(V))},Mo:()=>S.close()}),q=(V,K,J)=>{V.listen(K,X=>{try{J(X)}catch(rt){setTimeout(()=>{throw rt},0)}})};return q(S,eo.EventType.OPEN,()=>{I||(ut(Ge,`RPC '${t}' stream ${o} transport opened.`),P.Qo())}),q(S,eo.EventType.CLOSE,()=>{I||(I=!0,ut(Ge,`RPC '${t}' stream ${o} transport closed`),P.Uo())}),q(S,eo.EventType.ERROR,V=>{I||(I=!0,Ms(Ge,`RPC '${t}' stream ${o} transport errored:`,V),P.Uo(new mt(et.UNAVAILABLE,"The operation could not be completed")))}),q(S,eo.EventType.MESSAGE,V=>{var K;if(!I){const J=V.data[0];Ft(!!J);const X=J,rt=(X==null?void 0:X.error)||((K=X[0])===null||K===void 0?void 0:K.error);if(rt){ut(Ge,`RPC '${t}' stream ${o} received error:`,rt);const st=rt.status;let vt=function(A){const D=pe[A];if(D!==void 0)return $0(D)}(st),U=rt.message;vt===void 0&&(vt=et.INTERNAL,U="Unknown error status: "+st+" with message "+rt.message),I=!0,P.Uo(new mt(vt,U)),S.close()}else ut(Ge,`RPC '${t}' stream ${o} received:`,J),P.Ko(J)}}),q(m,p0.STAT_EVENT,V=>{V.stat===Sd.PROXY?ut(Ge,`RPC '${t}' stream ${o} detected buffering proxy`):V.stat===Sd.NOPROXY&&ut(Ge,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{P.$o()},0),P}}function fd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bc(r){return new t2(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(t,i,s=1e3,o=1.5,c=6e4){this.Ti=t,this.timerId=i,this.Go=s,this.zo=o,this.jo=c,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const i=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,i-s);o>0&&ut("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_="PersistentStream";class cE{constructor(t,i,s,o,c,f,m,p){this.Ti=t,this.n_=s,this.r_=o,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new uE(t,i)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,i){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():i&&i.code===et.RESOURCE_EXHAUSTED?(Qi(i.toString()),Qi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):i&&i.code===et.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(i)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),i=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===i&&this.V_(s,o)},s=>{t(()=>{const o=new mt(et.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(t,i){const s=this.R_(this.i_);this.stream=this.f_(t,i),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return ut(n_,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return i=>{this.Ti.enqueueAndForget(()=>this.i_===t?i():(ut(n_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Z2 extends cE{constructor(t,i,s,o,c,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,f),this.serializer=c}f_(t,i){return this.connection.Wo("Listen",t,i)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const i=i2(this.serializer,t),s=function(c){if(!("targetChange"in c))return Tt.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?Tt.min():f.readTime?ui(f.readTime):Tt.min()}(t);return this.listener.p_(i,s)}y_(t){const i={};i.database=Ud(this.serializer),i.addTarget=function(c,f){let m;const p=f.target;if(m=Id(p)?{documents:s2(c,p)}:{query:l2(c,p).ht},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=W0(c,f.resumeToken);const y=Vd(c,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(Tt.min())>0){m.readTime=Ec(c,f.snapshotVersion.toTimestamp());const y=Vd(c,f.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,t);const s=u2(this.serializer,t);s&&(i.labels=s),this.I_(i)}w_(t){const i={};i.database=Ud(this.serializer),i.removeTarget=t,this.I_(i)}}class W2 extends cE{constructor(t,i,s,o,c,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,f),this.serializer=c}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(t,i){return this.connection.Wo("Write",t,i)}g_(t){return Ft(!!t.streamToken),this.lastStreamToken=t.streamToken,Ft(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){Ft(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const i=a2(t.writeResults,t.commitTime),s=ui(t.commitTime);return this.listener.v_(s,i)}C_(){const t={};t.database=Ud(this.serializer),this.I_(t)}b_(t){const i={streamToken:this.lastStreamToken,writes:t.map(s=>r2(this.serializer,s))};this.I_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{}class tC extends J2{constructor(t,i,s,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new mt(et.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,i,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.So(t,Od(i,s),o,c,f)).catch(c=>{throw c.name==="FirebaseError"?(c.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new mt(et.UNKNOWN,c.toString())})}Co(t,i,s,o,c){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(t,Od(i,s),o,f,m,c)).catch(f=>{throw f.name==="FirebaseError"?(f.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new mt(et.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class eC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Qi(i),this.N_=!1):ut("OnlineStateTracker",i)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma="RemoteStore";class nC{constructor(t,i,s,o,c){this.localStore=t,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=c,this.z_.To(f=>{s.enqueueAndForget(async()=>{ka(this)&&(ut(Ma,"Restarting streams for network reachability change."),await async function(p){const y=At(p);y.W_.add(4),await wo(y),y.j_.set("Unknown"),y.W_.delete(4),await qc(y)}(this))})}),this.j_=new eC(s,o)}}async function qc(r){if(ka(r))for(const t of r.G_)await t(!0)}async function wo(r){for(const t of r.G_)await t(!1)}function hE(r,t){const i=At(r);i.K_.has(t.targetId)||(i.K_.set(t.targetId,t),Sm(i)?Am(i):Gs(i).c_()&&bm(i,t))}function Tm(r,t){const i=At(r),s=Gs(i);i.K_.delete(t),s.c_()&&fE(i,t),i.K_.size===0&&(s.c_()?s.P_():ka(i)&&i.j_.set("Unknown"))}function bm(r,t){if(r.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Tt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Gs(r).y_(t)}function fE(r,t){r.H_.Ne(t),Gs(r).w_(t)}function Am(r){r.H_=new XR({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>r.K_.get(t)||null,it:()=>r.datastore.serializer.databaseId}),Gs(r).start(),r.j_.B_()}function Sm(r){return ka(r)&&!Gs(r).u_()&&r.K_.size>0}function ka(r){return At(r).W_.size===0}function dE(r){r.H_=void 0}async function iC(r){r.j_.set("Online")}async function rC(r){r.K_.forEach((t,i)=>{bm(r,t)})}async function aC(r,t){dE(r),Sm(r)?(r.j_.q_(t),Am(r)):r.j_.set("Unknown")}async function sC(r,t,i){if(r.j_.set("Online"),t instanceof Z0&&t.state===2&&t.cause)try{await async function(o,c){const f=c.cause;for(const m of c.targetIds)o.K_.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.K_.delete(m),o.H_.removeTarget(m))}(r,t)}catch(s){ut(Ma,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await bc(r,s)}else if(t instanceof lc?r.H_.We(t):t instanceof X0?r.H_.Ze(t):r.H_.je(t),!i.isEqual(Tt.min()))try{const s=await oE(r.localStore);i.compareTo(s)>=0&&await function(c,f){const m=c.H_.ot(f);return m.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=c.K_.get(y);E&&c.K_.set(y,E.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,y)=>{const E=c.K_.get(p);if(!E)return;c.K_.set(p,E.withResumeToken(Be.EMPTY_BYTE_STRING,E.snapshotVersion)),fE(c,p);const S=new Nr(E.target,p,y,E.sequenceNumber);bm(c,S)}),c.remoteSyncer.applyRemoteEvent(m)}(r,i)}catch(s){ut(Ma,"Failed to raise snapshot:",s),await bc(r,s)}}async function bc(r,t,i){if(!Fs(t))throw t;r.W_.add(1),await wo(r),r.j_.set("Offline"),i||(i=()=>oE(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ut(Ma,"Retrying IndexedDB access"),await i(),r.W_.delete(1),await qc(r)})}function mE(r,t){return t().catch(i=>bc(r,i,t))}async function Hc(r){const t=At(r),i=Hr(t);let s=t.U_.length>0?t.U_[t.U_.length-1].batchId:lm;for(;lC(t);)try{const o=await q2(t.localStore,s);if(o===null){t.U_.length===0&&i.P_();break}s=o.batchId,oC(t,o)}catch(o){await bc(t,o)}gE(t)&&pE(t)}function lC(r){return ka(r)&&r.U_.length<10}function oC(r,t){r.U_.push(t);const i=Hr(r);i.c_()&&i.S_&&i.b_(t.mutations)}function gE(r){return ka(r)&&!Hr(r).u_()&&r.U_.length>0}function pE(r){Hr(r).start()}async function uC(r){Hr(r).C_()}async function cC(r){const t=Hr(r);for(const i of r.U_)t.b_(i.mutations)}async function hC(r,t,i){const s=r.U_.shift(),o=mm.from(s,t,i);await mE(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Hc(r)}async function fC(r,t){t&&Hr(r).S_&&await async function(s,o){if(function(f){return YR(f)&&f!==et.ABORTED}(o.code)){const c=s.U_.shift();Hr(s).h_(),await mE(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o)),await Hc(s)}}(r,t),gE(r)&&pE(r)}async function i_(r,t){const i=At(r);i.asyncQueue.verifyOperationInProgress(),ut(Ma,"RemoteStore received new credentials");const s=ka(i);i.W_.add(3),await wo(i),s&&i.j_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.W_.delete(3),await qc(i)}async function dC(r,t){const i=At(r);t?(i.W_.delete(2),await qc(i)):t||(i.W_.add(2),await wo(i),i.j_.set("Unknown"))}function Gs(r){return r.J_||(r.J_=function(i,s,o){const c=At(i);return c.M_(),new Z2(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(r.datastore,r.asyncQueue,{xo:iC.bind(null,r),No:rC.bind(null,r),Lo:aC.bind(null,r),p_:sC.bind(null,r)}),r.G_.push(async t=>{t?(r.J_.h_(),Sm(r)?Am(r):r.j_.set("Unknown")):(await r.J_.stop(),dE(r))})),r.J_}function Hr(r){return r.Y_||(r.Y_=function(i,s,o){const c=At(i);return c.M_(),new W2(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:uC.bind(null,r),Lo:fC.bind(null,r),D_:cC.bind(null,r),v_:hC.bind(null,r)}),r.G_.push(async t=>{t?(r.Y_.h_(),await Hc(r)):(await r.Y_.stop(),r.U_.length>0&&(ut(Ma,`Stopping write stream with ${r.U_.length} pending writes`),r.U_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(t,i,s,o,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new Ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,i,s,o,c){const f=Date.now()+s,m=new wm(t,i,f,o,c);return m.start(s),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new mt(et.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Rm(r,t){if(Qi("AsyncQueue",`${t}: ${r}`),Fs(r))return new mt(et.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{static emptySet(t){return new Os(t.comparator)}constructor(t){this.comparator=t?(i,s)=>t(i,s)||pt.comparator(i.key,s.key):(i,s)=>pt.comparator(i.key,s.key),this.keyedMap=no(),this.sortedSet=new ne(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((i,s)=>(t(i),!1))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Os)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach(i=>{t.push(i.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const s=new Os;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{constructor(){this.Z_=new ne(pt.comparator)}track(t){const i=t.doc.key,s=this.Z_.get(i);s?t.type!==0&&s.type===3?this.Z_=this.Z_.insert(i,t):t.type===3&&s.type!==1?this.Z_=this.Z_.insert(i,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.Z_=this.Z_.insert(i,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.Z_=this.Z_.insert(i,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.Z_=this.Z_.remove(i):t.type===1&&s.type===2?this.Z_=this.Z_.insert(i,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.Z_=this.Z_.insert(i,{type:2,doc:t.doc}):Et():this.Z_=this.Z_.insert(i,t)}X_(){const t=[];return this.Z_.inorderTraversal((i,s)=>{t.push(s)}),t}}class zs{constructor(t,i,s,o,c,f,m,p,y){this.query=t,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(t,i,s,o,c){const f=[];return i.forEach(m=>{f.push({type:0,doc:m})}),new zs(t,i,Os.emptySet(i),f,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Lc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,s=t.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class gC{constructor(){this.queries=a_(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(i,s){const o=At(i),c=o.queries;o.queries=a_(),c.forEach((f,m)=>{for(const p of m.ta)p.onError(s)})})(this,new mt(et.ABORTED,"Firestore shutting down"))}}function a_(){return new Pa(r=>P0(r),Lc)}async function yE(r,t){const i=At(r);let s=3;const o=t.query;let c=i.queries.get(o);c?!c.na()&&t.ra()&&(s=2):(c=new mC,s=t.ra()?0:1);try{switch(s){case 0:c.ea=await i.onListen(o,!0);break;case 1:c.ea=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(f){const m=Rm(f,`Initialization of query '${Is(t.query)}' failed`);return void t.onError(m)}i.queries.set(o,c),c.ta.push(t),t.sa(i.onlineState),c.ea&&t.oa(c.ea)&&Cm(i)}async function vE(r,t){const i=At(r),s=t.query;let o=3;const c=i.queries.get(s);if(c){const f=c.ta.indexOf(t);f>=0&&(c.ta.splice(f,1),c.ta.length===0?o=t.ra()?0:1:!c.na()&&t.ra()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function pC(r,t){const i=At(r);let s=!1;for(const o of t){const c=o.query,f=i.queries.get(c);if(f){for(const m of f.ta)m.oa(o)&&(s=!0);f.ea=o}}s&&Cm(i)}function yC(r,t,i){const s=At(r),o=s.queries.get(t);if(o)for(const c of o.ta)c.onError(i);s.queries.delete(t)}function Cm(r){r.ia.forEach(t=>{t.next()})}var kd,s_;(s_=kd||(kd={}))._a="default",s_.Cache="cache";class _E{constructor(t,i,s){this.query=t,this.aa=i,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new zs(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.ua?this.la(t)&&(this.aa.next(t),i=!0):this.ha(t,this.onlineState)&&(this.Pa(t),i=!0),this.ca=t,i}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let i=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),i=!0),i}ha(t,i){if(!t.fromCache||!this.ra())return!0;const s=i!=="Offline";return(!this.options.Ta||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}la(t){if(t.docChanges.length>0)return!0;const i=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Pa(t){t=zs.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==kd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(t){this.key=t}}class TE{constructor(t){this.key=t}}class vC{constructor(t,i){this.query=t,this.fa=i,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Nt(),this.mutatedKeys=Nt(),this.ya=k0(t),this.wa=new Os(this.ya)}get Sa(){return this.fa}ba(t,i){const s=i?i.Da:new r_,o=i?i.wa:this.wa;let c=i?i.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((E,S)=>{const R=o.get(E),I=Pc(this.query,S)?S:null,P=!!R&&this.mutatedKeys.has(R.key),q=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let V=!1;R&&I?R.data.isEqual(I.data)?P!==q&&(s.track({type:3,doc:I}),V=!0):this.va(R,I)||(s.track({type:2,doc:I}),V=!0,(p&&this.ya(I,p)>0||y&&this.ya(I,y)<0)&&(m=!0)):!R&&I?(s.track({type:0,doc:I}),V=!0):R&&!I&&(s.track({type:1,doc:R}),V=!0,(p||y)&&(m=!0)),V&&(I?(f=f.add(I),c=q?c.add(E):c.delete(E)):(f=f.delete(E),c=c.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),c=c.delete(E.key),s.track({type:1,doc:E})}return{wa:f,Da:s,ls:m,mutatedKeys:c}}va(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,s,o){const c=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const f=t.Da.X_();f.sort((E,S)=>function(I,P){const q=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et()}};return q(I)-q(P)}(E.type,S.type)||this.ya(E.doc,S.doc)),this.Ca(s),o=o!=null&&o;const m=i&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,y=p!==this.ga;return this.ga=p,f.length!==0||y?{snapshot:new zs(this.query,t.wa,c,f,t.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new r_,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(i=>this.fa=this.fa.add(i)),t.modifiedDocuments.forEach(i=>{}),t.removedDocuments.forEach(i=>this.fa=this.fa.delete(i)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=Nt(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const i=[];return t.forEach(s=>{this.pa.has(s)||i.push(new TE(s))}),this.pa.forEach(s=>{t.has(s)||i.push(new EE(s))}),i}Oa(t){this.fa=t.gs,this.pa=Nt();const i=this.ba(t.documents);return this.applyChanges(i,!0)}Na(){return zs.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Dm="SyncEngine";class _C{constructor(t,i,s){this.query=t,this.targetId=i,this.view=s}}class EC{constructor(t){this.key=t,this.Ba=!1}}class TC{constructor(t,i,s,o,c,f){this.localStore=t,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new Pa(m=>P0(m),Lc),this.qa=new Map,this.Qa=new Set,this.$a=new ne(pt.comparator),this.Ua=new Map,this.Ka=new ym,this.Wa={},this.Ga=new Map,this.za=ks.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function bC(r,t,i=!0){const s=CE(r);let o;const c=s.ka.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.Na()):o=await bE(s,t,i,!0),o}async function AC(r,t){const i=CE(r);await bE(i,t,!0,!1)}async function bE(r,t,i,s){const o=await H2(r.localStore,oi(t)),c=o.targetId,f=r.sharedClientState.addLocalQueryTarget(c,i);let m;return s&&(m=await SC(r,t,c,f==="current",o.resumeToken)),r.isPrimaryClient&&i&&hE(r.remoteStore,o),m}async function SC(r,t,i,s,o){r.Ha=(S,R,I)=>async function(q,V,K,J){let X=V.view.ba(K);X.ls&&(X=await Wv(q.localStore,V.query,!1).then(({documents:U})=>V.view.ba(U,X)));const rt=J&&J.targetChanges.get(V.targetId),st=J&&J.targetMismatches.get(V.targetId)!=null,vt=V.view.applyChanges(X,q.isPrimaryClient,rt,st);return o_(q,V.targetId,vt.Ma),vt.snapshot}(r,S,R,I);const c=await Wv(r.localStore,t,!0),f=new vC(t,c.gs),m=f.ba(c.documents),p=So.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,p);o_(r,i,y.Ma);const E=new _C(t,i,f);return r.ka.set(t,E),r.qa.has(i)?r.qa.get(i).push(t):r.qa.set(i,[t]),y.snapshot}async function wC(r,t,i){const s=At(r),o=s.ka.get(t),c=s.qa.get(o.targetId);if(c.length>1)return s.qa.set(o.targetId,c.filter(f=>!Lc(f,t))),void s.ka.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Ld(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),i&&Tm(s.remoteStore,o.targetId),zd(s,o.targetId)}).catch(Hs)):(zd(s,o.targetId),await Ld(s.localStore,o.targetId,!0))}async function RC(r,t){const i=At(r),s=i.ka.get(t),o=i.qa.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Tm(i.remoteStore,s.targetId))}async function CC(r,t,i){const s=MC(r);try{const o=await function(f,m){const p=At(f),y=we.now(),E=m.reduce((I,P)=>I.add(P.key),Nt());let S,R;return p.persistence.runTransaction("Locally write mutations","readwrite",I=>{let P=Ki(),q=Nt();return p.ds.getEntries(I,E).next(V=>{P=V,P.forEach((K,J)=>{J.isValidDocument()||(q=q.add(K))})}).next(()=>p.localDocuments.getOverlayedDocuments(I,P)).next(V=>{S=V;const K=[];for(const J of m){const X=HR(J,S.get(J.key).overlayedDocument);X!=null&&K.push(new Yr(J.key,X,I0(X.value.mapValue),Un.exists(!0)))}return p.mutationQueue.addMutationBatch(I,y,K,m)}).next(V=>{R=V;const K=V.applyToLocalDocumentSet(S,q);return p.documentOverlayCache.saveOverlays(I,V.batchId,K)})}).then(()=>({batchId:R.batchId,changes:j0(S)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let y=f.Wa[f.currentUser.toKey()];y||(y=new ne(It)),y=y.insert(m,p),f.Wa[f.currentUser.toKey()]=y}(s,o.batchId,i),await Ro(s,o.changes),await Hc(s.remoteStore)}catch(o){const c=Rm(o,"Failed to persist write");i.reject(c)}}async function AE(r,t){const i=At(r);try{const s=await j2(i.localStore,t);t.targetChanges.forEach((o,c)=>{const f=i.Ua.get(c);f&&(Ft(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?Ft(f.Ba):o.removedDocuments.size>0&&(Ft(f.Ba),f.Ba=!1))}),await Ro(i,s,t)}catch(s){await Hs(s)}}function l_(r,t,i){const s=At(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.ka.forEach((c,f)=>{const m=f.view.sa(t);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=At(f);p.onlineState=m;let y=!1;p.queries.forEach((E,S)=>{for(const R of S.ta)R.sa(m)&&(y=!0)}),y&&Cm(p)}(s.eventManager,t),o.length&&s.La.p_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function DC(r,t,i){const s=At(r);s.sharedClientState.updateQueryState(t,"rejected",i);const o=s.Ua.get(t),c=o&&o.key;if(c){let f=new ne(pt.comparator);f=f.insert(c,Ke.newNoDocument(c,Tt.min()));const m=Nt().add(c),p=new jc(Tt.min(),new Map,new ne(It),f,m);await AE(s,p),s.$a=s.$a.remove(c),s.Ua.delete(t),xm(s)}else await Ld(s.localStore,t,!1).then(()=>zd(s,t,i)).catch(Hs)}async function xC(r,t){const i=At(r),s=t.batch.batchId;try{const o=await z2(i.localStore,t);wE(i,s,null),SE(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await Ro(i,o)}catch(o){await Hs(o)}}async function IC(r,t,i){const s=At(r);try{const o=await function(f,m){const p=At(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return p.mutationQueue.lookupMutationBatch(y,m).next(S=>(Ft(S!==null),E=S.keys(),p.mutationQueue.removeMutationBatch(y,S))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>p.localDocuments.getDocuments(y,E))})}(s.localStore,t);wE(s,t,i),SE(s,t),s.sharedClientState.updateMutationState(t,"rejected",i),await Ro(s,o)}catch(o){await Hs(o)}}function SE(r,t){(r.Ga.get(t)||[]).forEach(i=>{i.resolve()}),r.Ga.delete(t)}function wE(r,t,i){const s=At(r);let o=s.Wa[s.currentUser.toKey()];if(o){const c=o.get(t);c&&(i?c.reject(i):c.resolve(),o=o.remove(t)),s.Wa[s.currentUser.toKey()]=o}}function zd(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.qa.get(t))r.ka.delete(s),i&&r.La.Ja(s,i);r.qa.delete(t),r.isPrimaryClient&&r.Ka.br(t).forEach(s=>{r.Ka.containsKey(s)||RE(r,s)})}function RE(r,t){r.Qa.delete(t.path.canonicalString());const i=r.$a.get(t);i!==null&&(Tm(r.remoteStore,i),r.$a=r.$a.remove(t),r.Ua.delete(i),xm(r))}function o_(r,t,i){for(const s of i)s instanceof EE?(r.Ka.addReference(s.key,t),NC(r,s)):s instanceof TE?(ut(Dm,"Document no longer in limbo: "+s.key),r.Ka.removeReference(s.key,t),r.Ka.containsKey(s.key)||RE(r,s.key)):Et()}function NC(r,t){const i=t.key,s=i.path.canonicalString();r.$a.get(i)||r.Qa.has(s)||(ut(Dm,"New document in limbo: "+i),r.Qa.add(s),xm(r))}function xm(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const t=r.Qa.values().next().value;r.Qa.delete(t);const i=new pt(Zt.fromString(t)),s=r.za.next();r.Ua.set(s,new EC(i)),r.$a=r.$a.insert(i,s),hE(r.remoteStore,new Nr(oi(Uc(i.path)),s,"TargetPurposeLimboResolution",Nc.ae))}}async function Ro(r,t,i){const s=At(r),o=[],c=[],f=[];s.ka.isEmpty()||(s.ka.forEach((m,p)=>{f.push(s.Ha(p,t,i).then(y=>{var E;if((y||i)&&s.isPrimaryClient){const S=y?!y.fromCache:(E=i==null?void 0:i.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,S?"current":"not-current")}if(y){o.push(y);const S=_m.Yi(p.targetId,y);c.push(S)}}))}),await Promise.all(f),s.La.p_(o),await async function(p,y){const E=At(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>W.forEach(y,R=>W.forEach(R.Hi,I=>E.persistence.referenceDelegate.addReference(S,R.targetId,I)).next(()=>W.forEach(R.Ji,I=>E.persistence.referenceDelegate.removeReference(S,R.targetId,I)))))}catch(S){if(!Fs(S))throw S;ut(Em,"Failed to update sequence numbers: "+S)}for(const S of y){const R=S.targetId;if(!S.fromCache){const I=E.Ts.get(R),P=I.snapshotVersion,q=I.withLastLimboFreeSnapshotVersion(P);E.Ts=E.Ts.insert(R,q)}}}(s.localStore,c))}async function VC(r,t){const i=At(r);if(!i.currentUser.isEqual(t)){ut(Dm,"User change. New user:",t.toKey());const s=await lE(i.localStore,t);i.currentUser=t,function(c,f){c.Ga.forEach(m=>{m.forEach(p=>{p.reject(new mt(et.CANCELLED,f))})}),c.Ga.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Ro(i,s.Rs)}}function OC(r,t){const i=At(r),s=i.Ua.get(t);if(s&&s.Ba)return Nt().add(s.key);{let o=Nt();const c=i.qa.get(t);if(!c)return o;for(const f of c){const m=i.ka.get(f);o=o.unionWith(m.view.Sa)}return o}}function CE(r){const t=At(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=AE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=OC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=DC.bind(null,t),t.La.p_=pC.bind(null,t.eventManager),t.La.Ja=yC.bind(null,t.eventManager),t}function MC(r){const t=At(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=xC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=IC.bind(null,t),t}class Ac{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Bc(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,i){return null}nu(t,i){return null}eu(t){return k2(this.persistence,new U2,t.initialUser,this.serializer)}Xa(t){return new sE(vm.ri,this.serializer)}Za(t){return new G2}async terminate(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ac.provider={build:()=>new Ac};class UC extends Ac{constructor(t){super(),this.cacheSizeBytes=t}tu(t,i){Ft(this.persistence.referenceDelegate instanceof Tc);const s=this.persistence.referenceDelegate.garbageCollector;return new E2(s,t.asyncQueue,i)}Xa(t){const i=this.cacheSizeBytes!==void 0?sn.withCacheSize(this.cacheSizeBytes):sn.DEFAULT;return new sE(s=>Tc.ri(s,i),this.serializer)}}class jd{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>l_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=VC.bind(null,this.syncEngine),await dC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new gC}()}createDatastore(t){const i=Bc(t.databaseInfo.databaseId),s=function(c){return new X2(c)}(t.databaseInfo);return function(c,f,m,p){return new tC(c,f,m,p)}(t.authCredentials,t.appCheckCredentials,s,i)}createRemoteStore(t){return function(s,o,c,f,m){return new nC(s,o,c,f,m)}(this.localStore,this.datastore,t.asyncQueue,i=>l_(this.syncEngine,i,0),function(){return e_.D()?new e_:new Q2}())}createSyncEngine(t,i){return function(o,c,f,m,p,y,E){const S=new TC(o,c,f,m,p,y);return E&&(S.ja=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){var t,i;await async function(o){const c=At(o);ut(Ma,"RemoteStore shutting down."),c.W_.add(5),await wo(c),c.z_.shutdown(),c.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}jd.provider={build:()=>new jd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):Qi("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,i){setTimeout(()=>{this.muted||t(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr="FirestoreClient";class LC{constructor(t,i,s,o,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=Qe.UNAUTHENTICATED,this.clientId=E0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async f=>{ut(Fr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ut(Fr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const s=Rm(i,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function dd(r,t){r.asyncQueue.verifyOperationInProgress(),ut(Fr,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let s=i.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await lE(t.localStore,o),s=o)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function u_(r,t){r.asyncQueue.verifyOperationInProgress();const i=await PC(r);ut(Fr,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener(s=>i_(t.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>i_(t.remoteStore,o)),r._onlineComponents=t}async function PC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ut(Fr,"Using user provided OfflineComponentProvider");try{await dd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!function(o){return o.name==="FirebaseError"?o.code===et.FAILED_PRECONDITION||o.code===et.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;Ms("Error using user provided cache. Falling back to memory cache: "+i),await dd(r,new Ac)}}else ut(Fr,"Using default OfflineComponentProvider"),await dd(r,new UC(void 0));return r._offlineComponents}async function xE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ut(Fr,"Using user provided OnlineComponentProvider"),await u_(r,r._uninitializedComponentsProvider._online)):(ut(Fr,"Using default OnlineComponentProvider"),await u_(r,new jd))),r._onlineComponents}function kC(r){return xE(r).then(t=>t.syncEngine)}async function Bd(r){const t=await xE(r),i=t.eventManager;return i.onListen=bC.bind(null,t.syncEngine),i.onUnlisten=wC.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=AC.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=RC.bind(null,t.syncEngine),i}function zC(r,t,i={}){const s=new Ur;return r.asyncQueue.enqueueAndForget(async()=>function(c,f,m,p,y){const E=new DE({next:R=>{E.su(),f.enqueueAndForget(()=>vE(c,S));const I=R.docs.has(m);!I&&R.fromCache?y.reject(new mt(et.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&R.fromCache&&p&&p.source==="server"?y.reject(new mt(et.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(R)},error:R=>y.reject(R)}),S=new _E(Uc(m.path),E,{includeMetadataChanges:!0,Ta:!0});return yE(c,S)}(await Bd(r),r.asyncQueue,t,i,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IE(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(r,t,i){if(!i)throw new mt(et.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function jC(r,t,i,s){if(t===!0&&s===!0)throw new mt(et.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function h_(r){if(!pt.isDocumentKey(r))throw new mt(et.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function f_(r){if(pt.isDocumentKey(r))throw new mt(et.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Im(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":Et()}function Ln(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new mt(et.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Im(r);throw new mt(et.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE="firestore.googleapis.com",d_=!0;class m_{constructor(t){var i,s;if(t.host===void 0){if(t.ssl!==void 0)throw new mt(et.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=VE,this.ssl=d_}else this.host=t.host,this.ssl=(i=t.ssl)!==null&&i!==void 0?i:d_;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=aE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<v2)throw new mt(et.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}jC("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=IE((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new mt(et.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new mt(et.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new mt(et.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Fc{constructor(t,i,s,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new m_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new mt(et.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new mt(et.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new m_(t),t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new $1;switch(s.type){case"firstParty":return new J1(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new mt(et.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=c_.get(i);s&&(ut("ComponentProvider","Removing Datastore"),c_.delete(i),s.terminate())}(this),Promise.resolve()}}function BC(r,t,i,s={}){var o;const c=(r=Ln(r,Fc))._getSettings(),f=`${t}:${i}`;if(c.host!==VE&&c.host!==f&&Ms("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},c),{host:f,ssl:!1})),s.mockUserToken){let m,p;if(typeof s.mockUserToken=="string")m=s.mockUserToken,p=Qe.MOCK_USER;else{m=lS(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const y=s.mockUserToken.sub||s.mockUserToken.user_id;if(!y)throw new mt(et.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Qe(y)}r._authCredentials=new X1(new _0(m,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(t,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Gc(this.firestore,t,this._query)}}class en{constructor(t,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Lr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new en(this.firestore,t,this._key)}}class Lr extends Gc{constructor(t,i,s){super(t,i,Uc(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new en(this.firestore,null,new pt(t))}withConverter(t){return new Lr(this.firestore,t,this._path)}}function Ia(r,t,...i){if(r=ci(r),NE("collection","path",t),r instanceof Fc){const s=Zt.fromString(t,...i);return f_(s),new Lr(r,null,s)}{if(!(r instanceof en||r instanceof Lr))throw new mt(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Zt.fromString(t,...i));return f_(s),new Lr(r.firestore,null,s)}}function qi(r,t,...i){if(r=ci(r),arguments.length===1&&(t=E0.newId()),NE("doc","path",t),r instanceof Fc){const s=Zt.fromString(t,...i);return h_(s),new en(r,null,new pt(s))}{if(!(r instanceof en||r instanceof Lr))throw new mt(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Zt.fromString(t,...i));return h_(s),new en(r.firestore,r instanceof Lr?r.converter:null,new pt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_="AsyncQueue";class p_{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new uE(this,"async_queue_retry"),this.Su=()=>{const s=fd();s&&ut(g_,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=t;const i=fd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const i=fd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const i=new Ur;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!Fs(t))throw t;ut(g_,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const i=this.bu.then(()=>(this.pu=!0,t().catch(s=>{this.gu=s,this.pu=!1;const o=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw Qi("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=i,i}enqueueAfterDelay(t,i,s){this.Du(),this.wu.indexOf(t)>-1&&(i=0);const o=wm.createAndSchedule(this,t,i,s,c=>this.Fu(c));return this.fu.push(o),o}Du(){this.gu&&Et()}verifyOperationInProgress(){}async Mu(){let t;do t=this.bu,await t;while(t!==this.bu)}xu(t){for(const i of this.fu)if(i.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.fu)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const i=this.fu.indexOf(t);this.fu.splice(i,1)}}function y_(r){return function(i,s){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of s)if(c in o&&typeof o[c]=="function")return!0;return!1}(r,["next","error","complete"])}class Gr extends Fc{constructor(t,i,s,o){super(t,i,s,o),this.type="firestore",this._queue=new p_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new p_(t),this._firestoreClient=void 0,await t}}}function qC(r,t){const i=typeof r=="object"?r:_w(),s=typeof r=="string"?r:mc,o=tm(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=aS("firestore");c&&BC(o,...c)}return o}function Nm(r){if(r._terminated)throw new mt(et.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||HC(r),r._firestoreClient}function HC(r){var t,i,s;const o=r._freezeSettings(),c=function(m,p,y,E){return new dR(m,p,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,IE(E.experimentalLongPollingOptions),E.useFetchStreams)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new LC(r._authCredentials,r._appCheckCredentials,r._queue,c,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(t){this._byteString=t}static fromBase64String(t){try{return new js(Be.fromBase64String(t))}catch(i){throw new mt(et.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new js(Be.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new mt(et.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new je(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new mt(et.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new mt(et.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return It(this._lat,t._lat)||It(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(t){this._values=(t||[]).map(i=>i)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC=/^__.*__$/;class GC{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return this.fieldMask!==null?new Yr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Ao(t,this.data,i,this.fieldTransforms)}}class OE{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return new Yr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function ME(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et()}}class Um{constructor(t,i,s,o,c,f){this.settings=t,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Bu(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new Um(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(t),o=this.ku({path:s,Qu:!1});return o.$u(t),o}Uu(t){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(t),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Ku(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return Sc(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(i=>t.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>t.isPrefixOf(i.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(ME(this.Lu)&&FC.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class QC{constructor(t,i,s){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=s||Bc(t)}ju(t,i,s,o=!1){return new Um({Lu:t,methodName:i,zu:s,path:je.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Lm(r){const t=r._freezeSettings(),i=Bc(r._databaseId);return new QC(r._databaseId,!!t.ignoreUndefinedProperties,i)}function UE(r,t,i,s,o,c={}){const f=r.ju(c.merge||c.mergeFields?2:0,t,i,o);Pm("Data must be an object, but it was:",f,s);const m=LE(s,f);let p,y;if(c.merge)p=new pn(f.fieldMask),y=f.fieldTransforms;else if(c.mergeFields){const E=[];for(const S of c.mergeFields){const R=qd(t,S,i);if(!f.contains(R))throw new mt(et.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);kE(E,R)||E.push(R)}p=new pn(E),y=f.fieldTransforms.filter(S=>p.covers(S.field))}else p=null,y=f.fieldTransforms;return new GC(new ln(m),p,y)}class Kc extends Vm{_toFieldTransform(t){if(t.Lu!==2)throw t.Lu===1?t.Wu(`${this._methodName}() can only appear at the top level of your update data`):t.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Kc}}function KC(r,t,i,s){const o=r.ju(1,t,i);Pm("Data must be an object, but it was:",o,s);const c=[],f=ln.empty();Kr(s,(p,y)=>{const E=km(t,p,i);y=ci(y);const S=o.Uu(E);if(y instanceof Kc)c.push(E);else{const R=Yc(y,S);R!=null&&(c.push(E),f.set(E,R))}});const m=new pn(c);return new OE(f,m,o.fieldTransforms)}function YC(r,t,i,s,o,c){const f=r.ju(1,t,i),m=[qd(t,s,i)],p=[o];if(c.length%2!=0)throw new mt(et.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<c.length;R+=2)m.push(qd(t,c[R])),p.push(c[R+1]);const y=[],E=ln.empty();for(let R=m.length-1;R>=0;--R)if(!kE(y,m[R])){const I=m[R];let P=p[R];P=ci(P);const q=f.Uu(I);if(P instanceof Kc)y.push(I);else{const V=Yc(P,q);V!=null&&(y.push(I),E.set(I,V))}}const S=new pn(y);return new OE(E,S,f.fieldTransforms)}function Yc(r,t){if(PE(r=ci(r)))return Pm("Unsupported field value:",t,r),LE(r,t);if(r instanceof Vm)return function(s,o){if(!ME(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(s,o){const c=[];let f=0;for(const m of s){let p=Yc(m,o.Ku(f));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),f++}return{arrayValue:{values:c}}}(r,t)}return function(s,o){if((s=ci(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return PR(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=we.fromDate(s);return{timestampValue:Ec(o.serializer,c)}}if(s instanceof we){const c=new we(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ec(o.serializer,c)}}if(s instanceof Om)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof js)return{bytesValue:W0(o.serializer,s._byteString)};if(s instanceof en){const c=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(c))throw o.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:pm(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Mm)return function(f,m){return{mapValue:{fields:{[D0]:{stringValue:x0},[gc]:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw m.Wu("VectorValues must only contain numeric values.");return fm(m.serializer,y)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${Im(s)}`)}(r,t)}function LE(r,t){const i={};return b0(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Kr(r,(s,o)=>{const c=Yc(o,t.qu(s));c!=null&&(i[s]=c)}),{mapValue:{fields:i}}}function PE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof we||r instanceof Om||r instanceof js||r instanceof en||r instanceof Vm||r instanceof Mm)}function Pm(r,t,i){if(!PE(i)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(i)){const s=Im(i);throw s==="an object"?t.Wu(r+" a custom object"):t.Wu(r+" "+s)}}function qd(r,t,i){if((t=ci(t))instanceof Qc)return t._internalPath;if(typeof t=="string")return km(r,t);throw Sc("Field path arguments must be of type string or ",r,!1,void 0,i)}const $C=new RegExp("[~\\*/\\[\\]]");function km(r,t,i){if(t.search($C)>=0)throw Sc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Qc(...t.split("."))._internalPath}catch{throw Sc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Sc(r,t,i,s,o){const c=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;i&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(c||f)&&(p+=" (found",c&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new mt(et.INVALID_ARGUMENT,m+r+p)}function kE(r,t){return r.some(i=>i.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(t,i,s,o,c){this._firestore=t,this._userDataWriter=i,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new en(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new XC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(jE("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class XC extends zE{data(){return super.data()}}function jE(r,t){return typeof t=="string"?km(r,t):t instanceof Qc?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZC(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new mt(et.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class WC{convertValue(t,i="none"){switch(qr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ce(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Br(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw Et()}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const s={};return Kr(t,(o,c)=>{s[o]=this.convertValue(c,i)}),s}convertVectorValue(t){var i,s,o;const c=(o=(s=(i=t.fields)===null||i===void 0?void 0:i[gc].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>ce(f.doubleValue));return new Mm(c)}convertGeoPoint(t){return new Om(ce(t.latitude),ce(t.longitude))}convertArray(t,i){return(t.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(t,i){switch(i){case"previous":const s=Oc(t);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(go(t));default:return null}}convertTimestamp(t){const i=jr(t);return new we(i.seconds,i.nanos)}convertDocumentKey(t,i){const s=Zt.fromString(t);Ft(rE(s));const o=new po(s.get(1),s.get(3)),c=new pt(s.popFirst(5));return o.isEqual(i)||Qi(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(r,t,i){let s;return s=r?r.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class qE extends zE{constructor(t,i,s,o,c,f){super(t,i,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new oc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const s=this._document.data.field(jE("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class oc extends qE{data(t={}){return super.data(t)}}class JC{constructor(t,i,s,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new ro(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach(i=>t.push(i)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach(s=>{t.call(i,new oc(this._firestore,this._userDataWriter,s.key,s,new ro(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new mt(et.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new oc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ro(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>c||m.type!==3).map(m=>{const p=new oc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ro(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:tD(m.type),doc:p,oldIndex:y,newIndex:E}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function tD(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tc(r){r=Ln(r,en);const t=Ln(r.firestore,Gr);return zC(Nm(t),r._key).then(i=>FE(t,r,i))}class HE extends WC{constructor(t){super(),this.firestore=t}convertBytes(t){return new js(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new en(this.firestore,null,i)}}function v_(r,t,i){r=Ln(r,en);const s=Ln(r.firestore,Gr),o=BE(r.converter,t);return $c(s,[UE(Lm(s),"setDoc",r._key,o,r.converter!==null,i).toMutation(r._key,Un.none())])}function ao(r,t,i,...s){r=Ln(r,en);const o=Ln(r.firestore,Gr),c=Lm(o);let f;return f=typeof(t=ci(t))=="string"||t instanceof Qc?YC(c,"updateDoc",r._key,t,i,s):KC(c,"updateDoc",r._key,t),$c(o,[f.toMutation(r._key,Un.exists(!0))])}function eD(r){return $c(Ln(r.firestore,Gr),[new dm(r._key,Un.none())])}function Hd(r,t){const i=Ln(r.firestore,Gr),s=qi(r),o=BE(r.converter,t);return $c(i,[UE(Lm(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Un.exists(!1))]).then(()=>s)}function wc(r,...t){var i,s,o;r=ci(r);let c={includeMetadataChanges:!1,source:"default"},f=0;typeof t[f]!="object"||y_(t[f])||(c=t[f],f++);const m={includeMetadataChanges:c.includeMetadataChanges,source:c.source};if(y_(t[f])){const S=t[f];t[f]=(i=S.next)===null||i===void 0?void 0:i.bind(S),t[f+1]=(s=S.error)===null||s===void 0?void 0:s.bind(S),t[f+2]=(o=S.complete)===null||o===void 0?void 0:o.bind(S)}let p,y,E;if(r instanceof en)y=Ln(r.firestore,Gr),E=Uc(r._key.path),p={next:S=>{t[f]&&t[f](FE(y,r,S))},error:t[f+1],complete:t[f+2]};else{const S=Ln(r,Gc);y=Ln(S.firestore,Gr),E=S._query;const R=new HE(y);p={next:I=>{t[f]&&t[f](new JC(y,R,S,I))},error:t[f+1],complete:t[f+2]},ZC(r._query)}return function(R,I,P,q){const V=new DE(q),K=new _E(I,V,P);return R.asyncQueue.enqueueAndForget(async()=>yE(await Bd(R),K)),()=>{V.su(),R.asyncQueue.enqueueAndForget(async()=>vE(await Bd(R),K))}}(Nm(y),E,m,p)}function $c(r,t){return function(s,o){const c=new Ur;return s.asyncQueue.enqueueAndForget(async()=>CC(await kC(s),o,c)),c.promise}(Nm(r),t)}function FE(r,t,i){const s=i.docs.get(t._key),o=new HE(r);return new qE(r,o,t._key,s,new ro(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(o){qs=o})(vw),kr(new Fi("firestore",(s,{instanceIdentifier:o,options:c})=>{const f=s.getProvider("app").getImmediate(),m=new Gr(new Z1(s.getProvider("auth-internal")),new tR(f,s.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new mt(et.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new po(y.options.projectId,E)}(f,o),f);return c=Object.assign({useFetchStreams:i},c),m._setSettings(c),m},"PUBLIC").setMultipleInstances(!0)),li(Av,Sv,t),li(Av,Sv,"esm2017")})();const nD={apiKey:"undefined",authDomain:"task-round-assignment.firebaseapp.com",projectId:"task-round-assignment",storageBucket:"task-round-assignment.appspot.com",messagingSenderId:"112721315589",appId:"1:112721315589:web:d162cdde4a47ecb10a996c",measurementId:"G-1K2EKW4W73"},iD=q_(nD),tn=qC(iD);function rD({projects:r}){const[t,i]=G.useState(null),[s,o]=G.useState(""),c=(m,p)=>{i(m),o(p)},f=async m=>{s.trim()!==""&&(await ao(qi(tn,"projects",m),{name:s}),i(null),o(""))};return F.jsx("div",{className:"w-full max-w-md mt-6 bg-gray-800 p-6 rounded-lg shadow-lg",children:r.map(m=>F.jsx("div",{className:"p-4 bg-gray-700 rounded-lg shadow-md border border-gray-600 flex justify-between items-center",children:t===m.id?F.jsxs(F.Fragment,{children:[F.jsx("input",{type:"text",className:"p-2 bg-gray-600 text-white rounded-md w-full",value:s,onChange:p=>o(p.target.value)}),F.jsx("button",{onClick:()=>f(m.id),className:"ml-2 bg-green-500 text-white px-3 py-1 rounded-lg transition hover:bg-green-700",children:"✅"})]}):F.jsxs(F.Fragment,{children:[F.jsxs(Xd,{to:`/project/${m.id}`,className:"text-blue-400 hover:text-blue-300",children:[m.name," (₹",m.totalExpense,")"]}),F.jsx("button",{onClick:()=>c(m.id,m.name),className:"ml-2 bg-yellow-500 text-white px-3 py-1 rounded-lg transition hover:bg-yellow-700",children:"Update"})]})},m.id))})}function aD({addProject:r}){const[t,i]=G.useState(""),s=o=>{o.preventDefault(),t.trim()&&(r(t),i(""))};return F.jsxs("form",{onSubmit:s,className:"mb-6 bg-gray-900 p-4 rounded-lg shadow-md flex items-center gap-1",children:[F.jsx("input",{type:"text",placeholder:"Enter project name",value:t,onChange:o=>i(o.target.value),className:`flex-1 bg-gray-800 text-gray-200 placeholder-gray-400 border border-gray-700 \r
                   rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 w-[72.5%]`}),F.jsx("button",{type:"submit",className:`bg-blue-600 text-white px-2 py-2 rounded-md shadow-md \r
                   hover:bg-blue-500 transition duration-200 w-[25%] ml-[2.5%]`,children:"Add"})]})}function sD({children:r}){const[t,i]=G.useState(""),[s,o]=G.useState(!1),c="2003";G.useEffect(()=>{localStorage.getItem("isAuthenticated")==="true"&&o(!0);const p=()=>{localStorage.removeItem("isAuthenticated")};return window.addEventListener("beforeunload",p),()=>{window.removeEventListener("beforeunload",p)}},[]);const f=m=>{m.preventDefault(),t===c?(localStorage.setItem("isAuthenticated","true"),o(!0)):(alert("Incorrect password. Try again."),i(""))};return s?F.jsx(F.Fragment,{children:r}):F.jsx("div",{className:"fixed top-0 left-0 right-0 bottom-0 h-screen flex items-center justify-center bg-gray-900 text-white",children:F.jsxs("form",{onSubmit:f,className:"bg-gray-800 p-6 rounded-lg shadow-lg text-center",children:[F.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Enter Password 🔒"}),F.jsx("input",{type:"password",value:t,onChange:m=>i(m.target.value),className:"p-2 w-full bg-gray-700 text-white rounded-md focus:outline-none focus:ring-2 focus:ring-blue-400 transition",placeholder:"Enter Password"}),F.jsx("button",{type:"submit",className:"mt-4 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg",children:"Submit"})]})})}function lD(){const[r,t]=G.useState([]);G.useEffect(()=>{const s=wc(Ia(tn,"projects"),o=>{t(o.docs.map(c=>({id:c.id,...c.data()})))});return()=>s()},[]);const i=async s=>{await Hd(Ia(tn,"projects"),{name:s,totalExpense:0})};return F.jsx(sD,{children:F.jsxs("div",{className:"fixed top-0 left-0 right-0 bottom-0 min-h-screen bg-gray-900 text-white flex flex-col items-center p-6",children:[F.jsx("h1",{className:"text-4xl font-extrabold bg-gradient-to-r from-blue-400 to-green-400 text-transparent bg-clip-text mb-6",children:"Expense Tracker 💰"}),F.jsx("div",{className:"w-full max-w-md bg-gray-800 p-6 rounded-lg shadow-lg",children:F.jsx(aD,{addProject:i})}),F.jsx(rD,{projects:r})]})})}function oD({expenses:r,updateExpense:t,deleteData:i}){const[s,o]=G.useState(""),[c,f]=G.useState(null),[m,p]=G.useState({});G.useEffect(()=>{console.log(r)},[]);const y=[...new Set(r.map(q=>q.date))],S=[...s?r.filter(q=>q.date===s):r].sort((q,V)=>{const K=q.date.split("-").reverse().join("-"),J=V.date.split("-").reverse().join("-");return new Date(J)-new Date(K)}),R=q=>{p({...m,[q.target.name]:q.target.value})},I=q=>{q.preventDefault(),c&&(t(c.id,m),f(null),p({}))},P=q=>{i(q)};return F.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-md",children:[F.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-4",children:[F.jsx("h3",{className:"text-2xl font-bold text-white mb-3 md:mb-0",children:"💸 Expenses"}),F.jsxs("select",{className:"p-2 bg-gray-700 text-white rounded-md focus:outline-none focus:ring-2 focus:ring-blue-400 transition",value:s,onChange:q=>o(q.target.value),children:[F.jsx("option",{value:"",children:"📅 All Dates"}),y.map(q=>F.jsx("option",{value:q,children:q},q))]})]}),F.jsx("ul",{className:"space-y-4",children:S.length===0?F.jsx("p",{className:"text-gray-400 text-center",children:"No expenses found for this date."}):S.map(q=>F.jsx("li",{className:"p-4 bg-gray-700 rounded-lg shadow-md border border-gray-600 transition hover:bg-gray-600",children:(c==null?void 0:c.id)===q.id?F.jsxs("form",{onSubmit:I,children:[F.jsx("input",{type:"text",name:"person",defaultValue:q.person,onChange:R,className:"w-full p-2 rounded bg-gray-600 text-white mb-2",required:!0}),F.jsx("input",{type:"text",name:"description",defaultValue:q.description,onChange:R,className:"w-full p-2 rounded bg-gray-600 text-white mb-2",required:!0}),F.jsx("input",{type:"date",name:"date",defaultValue:q.date,onChange:R,className:"w-full p-2 rounded bg-gray-600 text-white mb-2",required:!0}),F.jsx("input",{type:"number",name:"amount",defaultValue:q.amount,onChange:R,className:"w-full p-2 rounded bg-gray-600 text-white mb-2",required:!0}),F.jsxs("div",{className:"flex justify-end",children:[F.jsx("button",{type:"submit",className:"bg-green-500 text-white px-4 py-2 rounded-lg transition hover:bg-green-700 mr-2",children:"Save"}),F.jsx("button",{type:"button",onClick:()=>f(null),className:"bg-gray-500 text-white px-4 py-2 rounded-lg transition hover:bg-gray-700",children:"Cancel"})]})]}):F.jsxs(F.Fragment,{children:[F.jsx("h4",{className:"text-lg font-semibold text-blue-400",children:q.person==="company"?"🏢 Company Expense":`👤 ${q.person}`}),F.jsxs("p",{className:"text-gray-300 italic mt-1 mb-3",children:["📌 ",q.description]}),F.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center",children:[F.jsxs("p",{className:"text-gray-500 text-sm",children:["📅 ",q.date]}),F.jsxs("div",{className:"flex justify-between items-center w-full sm:w-auto mt-2 sm:mt-0",children:[F.jsxs("span",{className:"text-xl font-bold text-green-400 mr-4 w-[78%]",children:["₹",q.amount]}),F.jsxs("div",{className:"ml-5 gap-4 justify-between items-right",children:[F.jsx("button",{onClick:()=>{f(q),p(q)},className:"ml-2 mt-2 bg-yellow-500 text-white px-3 py-1 rounded-lg transition hover:bg-yellow-700 w-[20vw]",children:"Update"}),F.jsx("button",{onClick:()=>{P(q.id)},className:"ml-2 mt-2 bg-red-500 text-white px-3 py-1 rounded-lg transition hover:bg-red-700 w-[20vw]",children:"Delete"})]})]})]})]})},q.id))})]})}function uD({people:r,addExpense:t,addIncome:i}){const s=rt=>{const st=new Date(rt);return`${String(st.getDate()).padStart(2,"0")}-${String(st.getMonth()+1).padStart(2,"0")}-${st.getFullYear()}`},o=new Date().toISOString().split("T")[0],[c,f]=G.useState(o),[m,p]=G.useState("expense"),[y,E]=G.useState("person"),[S,R]=G.useState("contractual"),[I,P]=G.useState(""),[q,V]=G.useState(""),[K,J]=G.useState(""),X=rt=>{if(rt.preventDefault(),q&&K&&c){const st=s(c);m==="expense"?t(I,parseFloat(q),K,y,st):i(parseFloat(q),K,st,S),V(""),J(""),P(""),R("contractual"),f(o)}};return F.jsxs("form",{onSubmit:X,className:"mt-6 bg-gray-800 p-5 rounded-lg shadow-md w-[95%] items-center ml-[2.5%]",children:[F.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Add Transaction"}),F.jsxs("div",{className:"mb-3",children:[F.jsx("label",{className:"text-white",children:"Entry Type:"}),F.jsxs("select",{className:"w-full bg-gray-700 text-white border p-3 rounded-md mt-2",value:m,onChange:rt=>p(rt.target.value),children:[F.jsx("option",{value:"expense",children:"Expense"}),F.jsx("option",{value:"income",children:"Income"})]})]}),m==="expense"&&F.jsxs("div",{className:"mb-3",children:[F.jsx("label",{className:"text-white",children:"Expense Type:"}),F.jsxs("select",{className:"w-full bg-gray-700 text-white border p-3 rounded-md mt-2",value:y,onChange:rt=>E(rt.target.value),children:[F.jsx("option",{value:"person",children:"Person"}),F.jsx("option",{value:"company",children:"Company"})]})]}),m==="income"&&F.jsxs("div",{className:"mb-3",children:[F.jsx("label",{className:"text-white",children:"Income Type:"}),F.jsxs("select",{className:"w-full bg-gray-700 text-white border p-3 rounded-md mt-2",value:S,onChange:rt=>R(rt.target.value),children:[F.jsx("option",{value:"contractual",children:"Contractual"}),F.jsx("option",{value:"non-contractual",children:"Non-Contractual"})]})]}),m==="expense"&&y==="person"&&F.jsxs("select",{onChange:rt=>P(rt.target.value),className:"w-full bg-gray-700 text-white border p-3 rounded-md mt-3",value:I,children:[F.jsx("option",{value:"",children:"-- Select Person --"}),r.map(rt=>F.jsx("option",{value:rt.id,children:rt.name},rt.id))]}),F.jsx("input",{type:"text",placeholder:m==="expense"?"Expense description":"Income source",value:K,onChange:rt=>J(rt.target.value),className:"w-full bg-gray-700 text-white border p-3 rounded-md mt-3"}),F.jsx("input",{type:"number",placeholder:m==="expense"?"Enter expense amount":"Enter income amount",value:q,onChange:rt=>V(rt.target.value),className:"w-full bg-gray-700 text-white border p-3 rounded-md mt-3"}),F.jsx("input",{type:"date",value:c,onChange:rt=>f(rt.target.value),className:"w-full bg-gray-700 text-white border p-3 rounded-md mt-3"}),F.jsx("button",{type:"submit",className:"w-full mt-4 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-md transition duration-300",children:m==="expense"?"Add Expense":"Add Income"})]})}function cD({people:r}){return F.jsxs("div",{className:"mt-6 bg-gray-900 p-4 rounded-lg shadow-md",children:[F.jsx("h3",{className:"text-xl font-semibold text-gray-200 mb-3",children:"People"}),F.jsx("ul",{className:"space-y-2",children:r.map(t=>F.jsx("li",{className:"p-3 bg-gray-800 text-gray-300 rounded-md shadow-sm hover:bg-gray-700 transition duration-200",children:t.name},t.id))})]})}function hD({addPerson:r}){const[t,i]=G.useState(""),s=o=>{o.preventDefault(),t.trim()&&(r(t),i(""))};return F.jsxs("form",{onSubmit:s,className:"mt-4 flex items-center gap-2",children:[F.jsx("input",{type:"text",placeholder:"Enter person name",value:t,onChange:o=>i(o.target.value),className:"bg-gray-800 text-white placeholder-gray-400 border border-gray-600 rounded-lg p-2 flex-1 focus:outline-none focus:ring-2 focus:ring-green-500 w-[75%]"}),F.jsx("button",{type:"submit",className:"bg-green-500 hover:bg-green-600 text-white font-medium px-2 py-2 rounded-lg shadow-md transition duration-200 w-[22.5%]",children:"Add"})]})}function fD({projectId:r}){const[t,i]=G.useState([]),[s,o]=G.useState(0),[c,f]=G.useState(0);return G.useEffect(()=>{if(!r)return;const m=Ia(tn,`projects/${r}/income`),p=wc(m,y=>{let E=y.docs.map(I=>({id:I.id,...I.data()}));console.log(E),E=E.sort((I,P)=>{const q=I.date.split("-").reverse().join("-"),V=P.date.split("-").reverse().join("-");return new Date(V)-new Date(q)}),i(E);const S=E.filter(I=>I.incomeType==="contractual").reduce((I,P)=>I+(P.amount||0),0),R=E.filter(I=>I.incomeType==="non-contractual").reduce((I,P)=>I+(P.amount||0),0);o(S),f(R)});return()=>p()},[r]),F.jsxs("div",{className:"mt-6 bg-gray-800 p-6 rounded-lg shadow-md",children:[F.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Incoming Money"}),F.jsxs("div",{className:"mb-4 p-3 bg-gray-700 rounded-lg",children:[F.jsxs("p",{className:"text-white font-medium",children:["Contractual Income: ",F.jsxs("span",{className:"text-green-400",children:["₹",s.toFixed(2)]})]}),F.jsxs("p",{className:"text-white font-medium",children:["Non-Contractual Income: ",F.jsxs("span",{className:"text-blue-400",children:["₹",c.toFixed(2)]})]})]}),t.length===0?F.jsx("p",{className:"text-gray-400",children:"No income records found."}):F.jsx("ul",{className:"divide-y divide-gray-700",children:t.map(m=>F.jsxs("li",{className:"py-3 flex justify-between items-center",children:[F.jsxs("div",{children:[F.jsx("p",{className:"text-white font-medium",children:m.description}),F.jsx("p",{className:"text-gray-400 text-sm",children:m.date})]}),F.jsxs("span",{className:`font-semibold ${m.incomeType==="contractual"?"text-green-400":"text-blue-400"}`,children:["₹",m.amount.toFixed(2)]})]},m.id))})]})}function dD(){var P,q;const{projectId:r}=eA(),[t,i]=G.useState(null),[s,o]=G.useState([]),[c,f]=G.useState([]),[m,p]=G.useState("");G.useEffect(()=>{const V=async()=>{const X=await tc(qi(tn,"projects",r));X.exists()&&i({id:r,...X.data()})},K=wc(Ia(tn,`projects/${r}/expenses`),X=>{o(X.docs.map(rt=>({id:rt.id,...rt.data()})))}),J=wc(Ia(tn,`projects/${r}/people`),X=>{f(X.docs.map(rt=>({id:rt.id,...rt.data()})))});return V(),()=>{K(),J()}},[r]);const y=async V=>{const K=V.toLowerCase(),J=qi(tn,`projects/${r}/people`,K);(await tc(J)).exists()||await v_(J,{name:V,totalExpense:0})},E=async(V,K,J,X,rt)=>{const st=parseFloat(K),vt={person:V,amount:st,description:J,expenseType:X,date:rt,timestamp:new Date};if(X==="person"){if(!V)return alert("Please select a person!");const D=qi(tn,`projects/${r}/people`,V.toLowerCase()),O=await tc(D);if(!O.exists())await v_(D,{name:V,totalExpense:st});else{const z=O.data().totalExpense||0;await ao(D,{totalExpense:z+st})}vt.person=V}else vt.person="company";await Hd(Ia(tn,`projects/${r}/expenses`),vt);const U=qi(tn,"projects",r),w=await tc(U),A=w.exists()&&w.data().totalExpense||0;i({...t,totalExpense:A+st}),await ao(U,{totalExpense:A+st})},S=async(V,K,J,X)=>{const rt={amount:parseFloat(V),description:K,incomeType:X,date:J,timestamp:new Date};await Hd(Ia(tn,`projects/${r}/income`),rt)},R=async(V,K)=>{try{const J=qi(tn,`projects/${r}/expenses`,V),X=s.find(vt=>vt.id===V);if(!X){console.error("Expense not found.");return}const rt=K.amount!==void 0?parseFloat(K.amount):X.amount,st=rt-X.amount;st!==0&&await ao(qi(tn,"projects",r),{totalExpense:t.totalExpense+st}),await ao(J,{person:K.person||X.person,description:K.description||X.description,amount:rt,date:K.date||X.date}),o(s.map(vt=>vt.id===V?{...vt,...K,amount:rt}:vt)),st!==0&&i({...t,totalExpense:t.totalExpense+st}),console.log("Expense updated successfully!")}catch(J){console.error("Error updating expense:",J)}},I=async V=>{try{await eD(qi(tn,`projects/${r}/expenses`,V)),o(s.filter(K=>K.id!==V))}catch(K){console.error("Error deleting expense:",K)}};return t?F.jsx("div",{className:"fixed top-0 left-0 right-0 bottom-0 min-h-screen bg-gray-900 text-white p-6 overflow-y-scroll",children:F.jsxs("div",{className:"max-w-4xl mx-auto bg-gray-800 shadow-lg rounded-lg p-6",children:[F.jsx("h2",{className:"text-3xl font-bold text-center mb-4",children:t.name}),F.jsxs("p",{className:"text-lg text-center text-gray-400 mb-6",children:["Total Expense: ",F.jsxs("span",{className:"text-green-400 font-semibold",children:["₹",t.totalExpense]})]}),F.jsxs("div",{className:"mb-6",children:[F.jsx("label",{className:"block text-lg font-semibold mb-2",children:"Select Person:"}),F.jsxs("select",{className:"w-full p-3 rounded-md bg-gray-700 text-white focus:outline-none focus:ring-2 focus:ring-blue-400 transition",value:m,onChange:V=>p(V.target.value),children:[F.jsx("option",{value:"",children:"-- Select a Person --"}),c.map(V=>F.jsxs("option",{value:V.id,children:[V.name," - ₹",V.totalExpense]},V.id))]})]}),m&&F.jsxs("div",{className:"bg-gray-800 p-5 rounded-lg shadow-md mb-4 text-center",children:[F.jsxs("h2",{className:"text-2xl font-bold text-white",children:["💰 ",(P=c.find(V=>V.id===m))==null?void 0:P.name,"'s Total Expense:"]}),F.jsxs("p",{className:"text-3xl font-semibold text-green-400",children:["₹",((q=c.find(V=>V.id===m))==null?void 0:q.totalExpense)||0]})]}),m&&F.jsxs("div",{className:"bg-gray-800 p-5 rounded-lg shadow-md mt-4",children:[F.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"📜 Transactions"}),F.jsx("div",{className:"max-h-60 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-600 scrollbar-track-gray-900 p-2",children:F.jsx("ul",{children:s.filter(V=>V.person===m).map(V=>F.jsxs("li",{className:"p-3 border-b border-gray-600 bg-gray-700 rounded-lg shadow-md mb-2",children:[F.jsxs("p",{className:"text-lg font-semibold text-white",children:["💸 ₹",V.amount]}),F.jsxs("p",{className:"text-gray-400 text-md",children:["📌 ",V.description]}),F.jsxs("p",{className:"text-gray-500 text-sm",children:["📅 ",V.date]})]},V.id))})})]}),F.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[F.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg shadow-md",children:[F.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:"👥 Add & Manage People"}),F.jsx(hD,{addPerson:y}),F.jsx("div",{className:"mt-4",children:F.jsx(cD,{people:c})})]}),F.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg shadow-md",children:[F.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:"💸 Add & Manage Expenses"}),F.jsx(uD,{people:c,addExpense:E,addIncome:S})]})]}),F.jsxs("div",{className:"mt-6 bg-gray-700 p-4 rounded-lg shadow-md",children:[F.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:"📥 Expense Money"}),F.jsx(oD,{expenses:s,updateExpense:R,deleteData:I})]}),F.jsxs("div",{className:"mt-6 bg-gray-700 p-4 rounded-lg shadow-md",children:[F.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:"📥 Incoming Money"}),F.jsx(fD,{projectId:r})]})]})}):F.jsx("p",{className:"text-white text-center mt-10 text-lg",children:"Loading..."})}function mD(){return F.jsx(jA,{children:F.jsx("div",{className:"container mx-auto p-4",children:F.jsxs(pA,{children:[F.jsx(gd,{path:"/",element:F.jsx(lD,{})}),F.jsx(gd,{path:"/project/:projectId",element:F.jsx(dD,{})})]})})})}Sb.createRoot(document.getElementById("root")).render(F.jsx(G.StrictMode,{children:F.jsx(mD,{})}));
